/* Claude Tools Frontend Bundle */
"use strict";var ClaudeApp=(()=>{var os=Object.defineProperty;var as=Object.getOwnPropertyDescriptor;var S=(l,e,t,s)=>{for(var n=s>1?void 0:s?as(e,t):e,i=l.length-1,r;i>=0;i--)(r=l[i])&&(n=(s?r(e,t,n):r(n))||n);return s&&n&&os(e,t,n),n};var vt=class{get shadowRoot(){return this.__host.__shadowRoot}constructor(e){this.ariaAtomic="",this.ariaAutoComplete="",this.ariaBrailleLabel="",this.ariaBrailleRoleDescription="",this.ariaBusy="",this.ariaChecked="",this.ariaColCount="",this.ariaColIndex="",this.ariaColSpan="",this.ariaCurrent="",this.ariaDescription="",this.ariaDisabled="",this.ariaExpanded="",this.ariaHasPopup="",this.ariaHidden="",this.ariaInvalid="",this.ariaKeyShortcuts="",this.ariaLabel="",this.ariaLevel="",this.ariaLive="",this.ariaModal="",this.ariaMultiLine="",this.ariaMultiSelectable="",this.ariaOrientation="",this.ariaPlaceholder="",this.ariaPosInSet="",this.ariaPressed="",this.ariaReadOnly="",this.ariaRequired="",this.ariaRoleDescription="",this.ariaRowCount="",this.ariaRowIndex="",this.ariaRowSpan="",this.ariaSelected="",this.ariaSetSize="",this.ariaSort="",this.ariaValueMax="",this.ariaValueMin="",this.ariaValueNow="",this.ariaValueText="",this.role="",this.form=null,this.labels=[],this.states=new Set,this.validationMessage="",this.validity={},this.willValidate=!0,this.__host=e}checkValidity(){return console.warn("`ElementInternals.checkValidity()` was called on the server.This method always returns true."),!0}reportValidity(){return!0}setFormValue(){}setValidity(){}};var R=function(l,e,t,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?l!==e||!n:!e.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(l,t):n?n.value=t:e.set(l,t),t},T=function(l,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?l!==e||!s:!e.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(l):s?s.value:e.get(l)},Z,Te,Se,se,Ue,ne,Ee,j,ie,z,Pe,xt,bt=l=>typeof l=="boolean"?l:l?.capture??!1;var ls=class{constructor(){this.__eventListeners=new Map,this.__captureEventListeners=new Map}addEventListener(e,t,s){if(t==null)return;let n=bt(s)?this.__captureEventListeners:this.__eventListeners,i=n.get(e);if(i===void 0)i=new Map,n.set(e,i);else if(i.has(t))return;let r=typeof s=="object"&&s?s:{};r.signal?.addEventListener("abort",()=>this.removeEventListener(e,t,s)),i.set(t,r??{})}removeEventListener(e,t,s){if(t==null)return;let n=bt(s)?this.__captureEventListeners:this.__eventListeners,i=n.get(e);i!==void 0&&(i.delete(t),i.size||n.delete(e))}dispatchEvent(e){let t=[this],s=this.__eventTargetParent;if(e.composed)for(;s;)t.push(s),s=s.__eventTargetParent;else for(;s&&s!==this.__host;)t.push(s),s=s.__eventTargetParent;let n=!1,i=!1,r=0,a=null,o=null,c=null,h=e.stopPropagation,p=e.stopImmediatePropagation;Object.defineProperties(e,{target:{get(){return a??o},...b},srcElement:{get(){return e.target},...b},currentTarget:{get(){return c},...b},eventPhase:{get(){return r},...b},composedPath:{value:()=>t,...b},stopPropagation:{value:()=>{n=!0,h.call(e)},...b},stopImmediatePropagation:{value:()=>{i=!0,p.call(e)},...b}});let d=(g,f,_)=>{typeof g=="function"?g(e):typeof g?.handleEvent=="function"&&g.handleEvent(e),f.once&&_.delete(g)},m=()=>(c=null,r=0,!e.defaultPrevented),x=t.slice().reverse();a=!this.__host||!e.composed?this:null;let w=g=>{for(o=this;o.__host&&g.includes(o.__host);)o=o.__host};for(let g of x){!a&&(!o||o===g.__host)&&w(x.slice(x.indexOf(g))),c=g,r=g===e.target?2:1;let f=g.__captureEventListeners.get(e.type);if(f){for(let[_,E]of f)if(d(_,E,f),i)return m()}if(n)return m()}let $=e.bubbles?t:[this];o=null;for(let g of $){!a&&(!o||g===o.__host)&&w($.slice(0,$.indexOf(g)+1)),c=g,r=g===e.target?2:3;let f=g.__eventListeners.get(e.type);if(f){for(let[_,E]of f)if(d(_,E,f),i)return m()}if(n)return m()}return m()}},je=ls;var b={__proto__:null};b.enumerable=!0;Object.freeze(b);var We=(z=class{constructor(e,t={}){if(Z.set(this,!1),Te.set(this,!1),Se.set(this,!1),se.set(this,!1),Ue.set(this,Date.now()),ne.set(this,!1),Ee.set(this,void 0),j.set(this,void 0),ie.set(this,void 0),this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,arguments.length===0)throw new Error("The type argument must be specified");if(typeof t!="object"||!t)throw new Error('The "options" argument must be an object');let{bubbles:s,cancelable:n,composed:i}=t;R(this,Z,!!n,"f"),R(this,Te,!!s,"f"),R(this,Se,!!i,"f"),R(this,Ee,`${e}`,"f"),R(this,j,null,"f"),R(this,ie,!1,"f")}initEvent(e,t,s){throw new Error("Method not implemented.")}stopImmediatePropagation(){this.stopPropagation()}preventDefault(){R(this,se,!0,"f")}get target(){return T(this,j,"f")}get currentTarget(){return T(this,j,"f")}get srcElement(){return T(this,j,"f")}get type(){return T(this,Ee,"f")}get cancelable(){return T(this,Z,"f")}get defaultPrevented(){return T(this,Z,"f")&&T(this,se,"f")}get timeStamp(){return T(this,Ue,"f")}composedPath(){return T(this,ie,"f")?[T(this,j,"f")]:[]}get returnValue(){return!T(this,Z,"f")||!T(this,se,"f")}get bubbles(){return T(this,Te,"f")}get composed(){return T(this,Se,"f")}get eventPhase(){return T(this,ie,"f")?z.AT_TARGET:z.NONE}get cancelBubble(){return T(this,ne,"f")}set cancelBubble(e){e&&R(this,ne,!0,"f")}stopPropagation(){R(this,ne,!0,"f")}get isTrusted(){return!1}},Z=new WeakMap,Te=new WeakMap,Se=new WeakMap,se=new WeakMap,Ue=new WeakMap,ne=new WeakMap,Ee=new WeakMap,j=new WeakMap,ie=new WeakMap,z.NONE=0,z.CAPTURING_PHASE=1,z.AT_TARGET=2,z.BUBBLING_PHASE=3,z);Object.defineProperties(We.prototype,{initEvent:b,stopImmediatePropagation:b,preventDefault:b,target:b,currentTarget:b,srcElement:b,type:b,cancelable:b,defaultPrevented:b,timeStamp:b,composedPath:b,returnValue:b,bubbles:b,composed:b,eventPhase:b,cancelBubble:b,stopPropagation:b,isTrusted:b});var kt=(xt=class extends We{constructor(e,t={}){super(e,t),Pe.set(this,void 0),R(this,Pe,t?.detail??null,"f")}initCustomEvent(e,t,s,n){throw new Error("Method not implemented.")}get detail(){return T(this,Pe,"f")}},Pe=new WeakMap,xt);Object.defineProperties(kt.prototype,{detail:b});var Fe=We,Je=kt;globalThis.Event??=Fe;globalThis.CustomEvent??=Je;var wt=new WeakMap,re=l=>{let e=wt.get(l);return e===void 0&&wt.set(l,e=new Map),e},cs=class extends je{constructor(){super(...arguments),this.__shadowRootMode=null,this.__shadowRoot=null,this.__internals=null}get attributes(){return Array.from(re(this)).map(([e,t])=>({name:e,value:t}))}get shadowRoot(){return this.__shadowRootMode==="closed"?null:this.__shadowRoot}get localName(){return this.constructor.__localName}get tagName(){return this.localName?.toUpperCase()}setAttribute(e,t){re(this).set(e,String(t))}removeAttribute(e){re(this).delete(e)}toggleAttribute(e,t){if(this.hasAttribute(e)){if(t===void 0||!t)return this.removeAttribute(e),!1}else return t===void 0||t?(this.setAttribute(e,""),!0):!1;return!0}hasAttribute(e){return re(this).has(e)}attachShadow(e){let t={host:this};return this.__shadowRootMode=e.mode,e&&e.mode==="open"&&(this.__shadowRoot=t),t}attachInternals(){if(this.__internals!==null)throw new Error("Failed to execute 'attachInternals' on 'HTMLElement': ElementInternals for the specified element was already attached.");let e=new vt(this);return this.__internals=e,e}getAttribute(e){return re(this).get(e)??null}};var hs=class extends cs{},Ve=hs;globalThis.litServerRoot??=Object.defineProperty(new Ve,"localName",{get(){return"lit-server-root"}});var ps=class{constructor(){this.__definitions=new Map}define(e,t){if(this.__definitions.has(e))if(process.env.NODE_ENV==="development")console.warn(`'CustomElementRegistry' already has "${e}" defined. This may have been caused by live reload or hot module replacement in which case it can be safely ignored.
Make sure to test your application with a production build as repeat registrations will throw in production.`);else throw new Error(`Failed to execute 'define' on 'CustomElementRegistry': the name "${e}" has already been used with this registry`);t.__localName=e,this.__definitions.set(e,{ctor:t,observedAttributes:t.observedAttributes??[]})}get(e){return this.__definitions.get(e)?.ctor}},us=ps;var yt=new us;var oe=globalThis,Ae=oe.ShadowRoot&&(oe.ShadyCSS===void 0||oe.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,$t=Symbol(),_t=new WeakMap,Ce=class{constructor(e,t,s){if(this._$cssResult$=!0,s!==$t)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(Ae&&e===void 0){let s=t!==void 0&&t.length===1;s&&(e=_t.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),s&&_t.set(t,e))}return e}toString(){return this.cssText}},Tt=l=>new Ce(typeof l=="string"?l:l+"",void 0,$t);var St=(l,e)=>{if(Ae)l.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(let t of e){let s=document.createElement("style"),n=oe.litNonce;n!==void 0&&s.setAttribute("nonce",n),s.textContent=t.cssText,l.appendChild(s)}},Ge=Ae||oe.CSSStyleSheet===void 0?l=>l:l=>l instanceof CSSStyleSheet?(e=>{let t="";for(let s of e.cssRules)t+=s.cssText;return Tt(t)})(l):l;var{is:ds,defineProperty:ms,getOwnPropertyDescriptor:fs,getOwnPropertyNames:gs,getOwnPropertySymbols:vs,getPrototypeOf:xs}=Object,ce=globalThis;ce.customElements??=yt;var Et=ce.trustedTypes,bs=Et?Et.emptyScript:"",ks=ce.reactiveElementPolyfillSupport,ae=(l,e)=>l,le={toAttribute(l,e){switch(e){case Boolean:l=l?bs:null;break;case Object:case Array:l=l==null?l:JSON.stringify(l)}return l},fromAttribute(l,e){let t=l;switch(e){case Boolean:t=l!==null;break;case Number:t=l===null?null:Number(l);break;case Object:case Array:try{t=JSON.parse(l)}catch{t=null}}return t}},Re=(l,e)=>!ds(l,e),Pt={attribute:!0,type:String,converter:le,reflect:!1,useDefault:!1,hasChanged:Re};Symbol.metadata??=Symbol("metadata"),ce.litPropertyMetadata??=new WeakMap;var L=class extends(globalThis.HTMLElement??Ve){static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Pt){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){let s=Symbol(),n=this.getPropertyDescriptor(e,s,t);n!==void 0&&ms(this.prototype,e,n)}}static getPropertyDescriptor(e,t,s){let{get:n,set:i}=fs(this.prototype,e)??{get(){return this[t]},set(r){this[t]=r}};return{get:n,set(r){let a=n?.call(this);i?.call(this,r),this.requestUpdate(e,a,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Pt}static _$Ei(){if(this.hasOwnProperty(ae("elementProperties")))return;let e=xs(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(ae("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(ae("properties"))){let t=this.properties,s=[...gs(t),...vs(t)];for(let n of s)this.createProperty(n,t[n])}let e=this[Symbol.metadata];if(e!==null){let t=litPropertyMetadata.get(e);if(t!==void 0)for(let[s,n]of t)this.elementProperties.set(s,n)}this._$Eh=new Map;for(let[t,s]of this.elementProperties){let n=this._$Eu(t,s);n!==void 0&&this._$Eh.set(n,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let s=new Set(e.flat(1/0).reverse());for(let n of s)t.unshift(Ge(n))}else e!==void 0&&t.push(Ge(e));return t}static _$Eu(e,t){let s=t.attribute;return s===!1?void 0:typeof s=="string"?s:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){let e=new Map,t=this.constructor.elementProperties;for(let s of t.keys())this.hasOwnProperty(s)&&(e.set(s,this[s]),delete this[s]);e.size>0&&(this._$Ep=e)}createRenderRoot(){let e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return St(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,t,s){this._$AK(e,s)}_$ET(e,t){let s=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,s);if(n!==void 0&&s.reflect===!0){let i=(s.converter?.toAttribute!==void 0?s.converter:le).toAttribute(t,s.type);this._$Em=e,i==null?this.removeAttribute(n):this.setAttribute(n,i),this._$Em=null}}_$AK(e,t){let s=this.constructor,n=s._$Eh.get(e);if(n!==void 0&&this._$Em!==n){let i=s.getPropertyOptions(n),r=typeof i.converter=="function"?{fromAttribute:i.converter}:i.converter?.fromAttribute!==void 0?i.converter:le;this._$Em=n,this[n]=r.fromAttribute(t,i.type)??this._$Ej?.get(n)??null,this._$Em=null}}requestUpdate(e,t,s){if(e!==void 0){let n=this.constructor,i=this[e];if(s??=n.getPropertyOptions(e),!((s.hasChanged??Re)(i,t)||s.useDefault&&s.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(n._$Eu(e,s))))return;this.C(e,t,s)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:s,reflect:n,wrapped:i},r){s&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,r??t??this[e]),i!==!0||r!==void 0)||(this._$AL.has(e)||(this.hasUpdated||s||(t=void 0),this._$AL.set(e,t)),n===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[n,i]of this._$Ep)this[n]=i;this._$Ep=void 0}let s=this.constructor.elementProperties;if(s.size>0)for(let[n,i]of s){let{wrapped:r}=i,a=this[n];r!==!0||this._$AL.has(n)||a===void 0||this.C(n,void 0,i,a)}}let e=!1,t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach(s=>s.hostUpdate?.()),this.update(t)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(t=>this._$ET(t,this[t])),this._$EM()}updated(e){}firstUpdated(e){}};L.elementStyles=[],L.shadowRootOptions={mode:"open"},L[ae("elementProperties")]=new Map,L[ae("finalized")]=new Map,ks?.({ReactiveElement:L}),(ce.reactiveElementVersions??=[]).push("2.1.0");var Le=globalThis,Me=Le.trustedTypes,Ct=Me?Me.createPolicy("lit-html",{createHTML:l=>l}):void 0,Nt="$lit$",D=`lit$${Math.random().toFixed(9).slice(2)}$`,Bt="?"+D,ws=`<${Bt}>`,J=Le.document===void 0?{createTreeWalker:()=>({})}:document,pe=()=>J.createComment(""),ue=l=>l===null||typeof l!="object"&&typeof l!="function",tt=Array.isArray,ys=l=>tt(l)||typeof l?.[Symbol.iterator]=="function",Ze=`[ 	
\f\r]`,he=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,At=/-->/g,Rt=/>/g,W=RegExp(`>|${Ze}(?:([^\\s"'>=/]+)(${Ze}*=${Ze}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Mt=/'/g,Lt=/"/g,Ot=/^(?:script|style|textarea|title)$/i,st=l=>(e,...t)=>({_$litType$:l,strings:e,values:t}),u=st(1),Nn=st(2),Bn=st(3),I=Symbol.for("lit-noChange"),y=Symbol.for("lit-nothing"),It=new WeakMap,F=J.createTreeWalker(J,129);function zt(l,e){if(!tt(l)||!l.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ct!==void 0?Ct.createHTML(e):e}var _s=(l,e)=>{let t=l.length-1,s=[],n,i=e===2?"<svg>":e===3?"<math>":"",r=he;for(let a=0;a<t;a++){let o=l[a],c,h,p=-1,d=0;for(;d<o.length&&(r.lastIndex=d,h=r.exec(o),h!==null);)d=r.lastIndex,r===he?h[1]==="!--"?r=At:h[1]!==void 0?r=Rt:h[2]!==void 0?(Ot.test(h[2])&&(n=RegExp("</"+h[2],"g")),r=W):h[3]!==void 0&&(r=W):r===W?h[0]===">"?(r=n??he,p=-1):h[1]===void 0?p=-2:(p=r.lastIndex-h[2].length,c=h[1],r=h[3]===void 0?W:h[3]==='"'?Lt:Mt):r===Lt||r===Mt?r=W:r===At||r===Rt?r=he:(r=W,n=void 0);let m=r===W&&l[a+1].startsWith("/>")?" ":"";i+=r===he?o+ws:p>=0?(s.push(c),o.slice(0,p)+Nt+o.slice(p)+D+m):o+D+(p===-2?a:m)}return[zt(l,i+(l[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),s]},de=class l{constructor({strings:e,_$litType$:t},s){let n;this.parts=[];let i=0,r=0,a=e.length-1,o=this.parts,[c,h]=_s(e,t);if(this.el=l.createElement(c,s),F.currentNode=this.el.content,t===2||t===3){let p=this.el.content.firstChild;p.replaceWith(...p.childNodes)}for(;(n=F.nextNode())!==null&&o.length<a;){if(n.nodeType===1){if(n.hasAttributes())for(let p of n.getAttributeNames())if(p.endsWith(Nt)){let d=h[r++],m=n.getAttribute(p).split(D),x=/([.?@])?(.*)/.exec(d);o.push({type:1,index:i,name:x[2],strings:m,ctor:x[1]==="."?Ke:x[1]==="?"?Xe:x[1]==="@"?Ye:K}),n.removeAttribute(p)}else p.startsWith(D)&&(o.push({type:6,index:i}),n.removeAttribute(p));if(Ot.test(n.tagName)){let p=n.textContent.split(D),d=p.length-1;if(d>0){n.textContent=Me?Me.emptyScript:"";for(let m=0;m<d;m++)n.append(p[m],pe()),F.nextNode(),o.push({type:2,index:++i});n.append(p[d],pe())}}}else if(n.nodeType===8)if(n.data===Bt)o.push({type:2,index:i});else{let p=-1;for(;(p=n.data.indexOf(D,p+1))!==-1;)o.push({type:7,index:i}),p+=D.length-1}i++}}static createElement(e,t){let s=J.createElement("template");return s.innerHTML=e,s}};function Q(l,e,t=l,s){if(e===I)return e;let n=s!==void 0?t._$Co?.[s]:t._$Cl,i=ue(e)?void 0:e._$litDirective$;return n?.constructor!==i&&(n?._$AO?.(!1),i===void 0?n=void 0:(n=new i(l),n._$AT(l,t,s)),s!==void 0?(t._$Co??=[])[s]=n:t._$Cl=n),n!==void 0&&(e=Q(l,n._$AS(l,e.values),n,s)),e}var Qe=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){let{el:{content:t},parts:s}=this._$AD,n=(e?.creationScope??J).importNode(t,!0);F.currentNode=n;let i=F.nextNode(),r=0,a=0,o=s[0];for(;o!==void 0;){if(r===o.index){let c;o.type===2?c=new me(i,i.nextSibling,this,e):o.type===1?c=new o.ctor(i,o.name,o.strings,this,e):o.type===6&&(c=new et(i,this,e)),this._$AV.push(c),o=s[++a]}r!==o?.index&&(i=F.nextNode(),r++)}return F.currentNode=J,n}p(e){let t=0;for(let s of this._$AV)s!==void 0&&(s.strings!==void 0?(s._$AI(e,s,t),t+=s.strings.length-2):s._$AI(e[t])),t++}},me=class l{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,s,n){this.type=2,this._$AH=y,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=s,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Q(this,e,t),ue(e)?e===y||e==null||e===""?(this._$AH!==y&&this._$AR(),this._$AH=y):e!==this._$AH&&e!==I&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):ys(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==y&&ue(this._$AH)?this._$AA.nextSibling.data=e:this.T(J.createTextNode(e)),this._$AH=e}$(e){let{values:t,_$litType$:s}=e,n=typeof s=="number"?this._$AC(e):(s.el===void 0&&(s.el=de.createElement(zt(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===n)this._$AH.p(t);else{let i=new Qe(n,this),r=i.u(this.options);i.p(t),this.T(r),this._$AH=i}}_$AC(e){let t=It.get(e.strings);return t===void 0&&It.set(e.strings,t=new de(e)),t}k(e){tt(this._$AH)||(this._$AH=[],this._$AR());let t=this._$AH,s,n=0;for(let i of e)n===t.length?t.push(s=new l(this.O(pe()),this.O(pe()),this,this.options)):s=t[n],s._$AI(i),n++;n<t.length&&(this._$AR(s&&s._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){let s=e.nextSibling;e.remove(),e=s}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}},K=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,s,n,i){this.type=1,this._$AH=y,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=i,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=y}_$AI(e,t=this,s,n){let i=this.strings,r=!1;if(i===void 0)e=Q(this,e,t,0),r=!ue(e)||e!==this._$AH&&e!==I,r&&(this._$AH=e);else{let a=e,o,c;for(e=i[0],o=0;o<i.length-1;o++)c=Q(this,a[s+o],t,o),c===I&&(c=this._$AH[o]),r||=!ue(c)||c!==this._$AH[o],c===y?e=y:e!==y&&(e+=(c??"")+i[o+1]),this._$AH[o]=c}r&&!n&&this.j(e)}j(e){e===y?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},Ke=class extends K{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===y?void 0:e}},Xe=class extends K{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==y)}},Ye=class extends K{constructor(e,t,s,n,i){super(e,t,s,n,i),this.type=5}_$AI(e,t=this){if((e=Q(this,e,t,0)??y)===I)return;let s=this._$AH,n=e===y&&s!==y||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,i=e!==y&&(s===y||n);n&&this.element.removeEventListener(this.name,this,s),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}},et=class{constructor(e,t,s){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(e){Q(this,e)}};var $s=Le.litHtmlPolyfillSupport;$s?.(de,me),(Le.litHtmlVersions??=[]).push("3.3.0");var Dt=(l,e,t)=>{let s=t?.renderBefore??e,n=s._$litPart$;if(n===void 0){let i=t?.renderBefore??null;s._$litPart$=n=new me(e.insertBefore(pe(),i),i,void 0,t??{})}return n._$AI(l),n};var nt=globalThis,P=class extends L{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){let e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Dt(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return I}};P._$litElement$=!0,P.finalized=!0,nt.litElementHydrateSupport?.({LitElement:P});var Ts=nt.litElementPolyfillSupport;Ts?.({LitElement:P});(nt.litElementVersions??=[]).push("4.2.0");var H=l=>(e,t)=>{t!==void 0?t.addInitializer(()=>{customElements.define(l,e)}):customElements.define(l,e)};var Ss={attribute:!0,type:String,converter:le,reflect:!1,hasChanged:Re},Es=(l=Ss,e,t)=>{let{kind:s,metadata:n}=t,i=globalThis.litPropertyMetadata.get(n);if(i===void 0&&globalThis.litPropertyMetadata.set(n,i=new Map),s==="setter"&&((l=Object.create(l)).wrapped=!0),i.set(t.name,l),s==="accessor"){let{name:r}=t;return{set(a){let o=e.get.call(this);e.set.call(this,a),this.requestUpdate(r,o,l)},init(a){return a!==void 0&&this.C(r,void 0,l,a),a}}}if(s==="setter"){let{name:r}=t;return function(a){let o=this[r];e.call(this,a),this.requestUpdate(r,o,l)}}throw Error("Unsupported decorator location: "+s)};function q(l){return(e,t)=>typeof t=="object"?Es(l,e,t):((s,n,i)=>{let r=n.hasOwnProperty(i);return n.constructor.createProperty(i,s),r?Object.getOwnPropertyDescriptor(n,i):void 0})(l,e,t)}function X(l){return q({...l,state:!0,attribute:!1})}var Ne=class{processRawPairs(e){if(!e||e.length===0)return[];let t=[];for(let s=0;s<e.length;s++){let n=e[s];if(!(!n?.request||!n?.response))try{let i=!!n.response.body_raw,r,a=null;if(n.response.body_raw)a=this.isBedrockResponse(n.response.body_raw)?"bedrock":"standard",r=this.parseStreamingResponse(n.response.body_raw);else if(n.response.body)r=n.response.body;else continue;let o=this.extractModel(n);t.push({id:`${n.request.timestamp||Date.now()}_${Math.random()}`,timestamp:new Date((n.request.timestamp||Date.now())*1e3).toISOString(),request:n.request.body,response:r,model:o,isStreaming:i,rawStreamData:n.response.body_raw,streamFormat:a})}catch(i){console.warn(`Failed to process raw pair at index ${s}:`,i)}}return t}isBedrockResponse(e){return e.startsWith("\0\0")}parseBedrockStreamingResponse(e){if(!e||e.length===0)throw new Error("Empty bodyRaw provided to parseBedrockStreamingResponse");let t=[],s=null;try{let n=this.extractJsonChunksFromEventStream(e);for(let i of n)try{let r=JSON.parse(i);if(r.bytes){let a=r.bytes,o=this.decodeBase64ToUtf8(a),c=JSON.parse(o);t.push(c)}}catch(r){console.warn("Failed to parse JSON chunk:",i,r)}s=this.extractBedrockMetrics(e)}catch(n){throw console.error("Failed to parse Bedrock streaming response:",n),new Error(`Bedrock streaming response parsing failed: ${n}`)}return this.buildMessageFromEvents(t,s)}decodeBase64ToUtf8(e){if(typeof window<"u"&&typeof atob<"u")return atob(e);if(typeof Buffer<"u")return Buffer.from(e,"base64").toString("utf-8");throw new Error("Base64 decoding not supported in this environment")}extractJsonChunksFromEventStream(e){if(!e||e.length===0)return[];let t=[],s='event{"bytes":',n=0;for(;n<e.length;){let i=e.indexOf(s,n);if(i===-1)break;let r=i+5,a=0,o=-1;for(let c=r;c<e.length;c++){let h=e[c];if(h==="{")a++;else if(h==="}"&&(a--,a===0)){o=c;break}}if(o!==-1){let c=e.substring(r,o+1);t.push(c),n=o+1}else n=i+s.length}return t}extractBedrockMetrics(e){try{let t=e.match(/"amazon-bedrock-invocationMetrics":\s*(\{[^}]+\})/);if(t&&t[1])return JSON.parse(t[1])}catch{}return null}parseStreamingResponse(e){return this.isBedrockResponse(e)?this.parseBedrockStreamingResponse(e):this.parseStandardStreamingResponse(e)}parseStandardStreamingResponse(e){if(!e||e.length===0)throw new Error("Empty bodyRaw provided to parseStandardStreamingResponse");let t=e.split(`
`),s=[];for(let n of t){if(!n.startsWith("data: "))continue;let i=n.substring(6).trim();if(i==="[DONE]")break;try{let r=JSON.parse(i);s.push(r)}catch(r){console.warn("Failed to parse SSE event:",i,r)}}return this.buildMessageFromEvents(s)}buildMessageFromEvents(e,t){let s={id:"",type:"message",role:"assistant",content:[],model:"",stop_reason:null,stop_sequence:null,usage:{input_tokens:0,output_tokens:0,cache_creation_input_tokens:null,cache_read_input_tokens:null,server_tool_use:null,service_tier:null}},n=[],i=-1;for(let r of e)switch(r.type){case"message_start":s={...s,...r.message};break;case"content_block_start":i=r.index,n[i]={...r.content_block};break;case"content_block_delta":if(i>=0&&n[i]){let a=n[i],o=r.delta;switch(o.type){case"text_delta":a.type==="text"&&(a.text=(a.text||"")+o.text);break;case"input_json_delta":if(a.type==="tool_use"){let c=a;typeof c.input=="string"?c.input=c.input+o.partial_json:c.input=o.partial_json}break;case"thinking_delta":a.type==="thinking"&&(a.thinking=(a.thinking||"")+o.thinking);break;case"signature_delta":a.type==="thinking"&&(a.signature=(a.signature||"")+o.signature);break;case"citations_delta":break}}break;case"content_block_stop":if(i>=0&&n[i]){let a=n[i];if(a.type==="tool_use"){let o=a;if(typeof o.input=="string")try{o.input=JSON.parse(o.input)}catch{console.warn("Failed to parse tool input JSON:",o.input)}}}break;case"message_delta":if(r.delta.stop_reason&&(s.stop_reason=r.delta.stop_reason),r.delta.stop_sequence&&(s.stop_sequence=r.delta.stop_sequence),r.usage){let a=s.usage?.input_tokens??0;s.usage={input_tokens:r.usage.input_tokens??a,output_tokens:r.usage.output_tokens??s.usage?.output_tokens??0,cache_creation_input_tokens:r.usage.cache_creation_input_tokens??s.usage?.cache_creation_input_tokens??null,cache_read_input_tokens:r.usage.cache_read_input_tokens??s.usage?.cache_read_input_tokens??null,server_tool_use:r.usage.server_tool_use??s.usage?.server_tool_use??null,service_tier:null}}break;case"message_stop":break}return s.content=n.filter(r=>r!=null),t&&s.usage&&(s.usage.input_tokens=t.inputTokenCount,s.usage.output_tokens=t.outputTokenCount),s}extractModel(e){if(e.request?.url&&e.request.url.includes("bedrock-runtime")){let t=e.request.url.match(/\/model\/([^\/]+)/);if(t&&t[1])return this.normalizeModelName(t[1])}return e.request?.body&&typeof e.request.body=="object"&&"model"in e.request.body?this.normalizeModelName(e.request.body.model):e.response?.body&&typeof e.response.body=="object"&&"model"in e.response.body?this.normalizeModelName(e.response.body.model):"unknown"}normalizeModelName(e){if(!e)return"unknown";if(e.startsWith("us.anthropic.")){let t=e.match(/us\.anthropic\.([^:]+)/);if(t&&t[1])return t[1]}return e}mergeConversations(e,t={}){if(!e||e.length===0)return[];let s=new Map;for(let a of e){let o=a.request.system,c=a.model,h=JSON.stringify({system:o,model:c});s.has(h)||s.set(h,[]),s.get(h).push(a)}let n=[];for(let[,a]of s){let o=[...a].sort((h,p)=>new Date(h.timestamp).getTime()-new Date(p.timestamp).getTime()),c=new Map;for(let h of o){let p=h.request.messages||[];if(p.length===0)continue;let d=p[0],m=this.normalizeMessageForGrouping(d),x=JSON.stringify({firstMessage:m}),w=this.hashString(x);c.has(w)||c.set(w,[]),c.get(w).push(h)}for(let[h,p]of c){let d=[...p].sort((g,f)=>new Date(g.timestamp).getTime()-new Date(f.timestamp).getTime()),m=d.reduce((g,f)=>{let _=f.request.messages||[],E=g.request.messages||[];return _.length>E.length?f:g}),x=new Set(d.map(g=>g.model)),w=this.processToolResults(m.request.messages||[]),$={id:this.hashString(h),models:x,system:m.request.system,messages:w,response:m.response,allPairs:d,finalPair:m,metadata:{startTime:d[0].timestamp,endTime:m.timestamp,totalPairs:d.length,inputTokens:m.response.usage?.input_tokens||0,outputTokens:m.response.usage?.output_tokens||0,totalTokens:(m.response.usage?.input_tokens||0)+(m.response.usage?.output_tokens||0)}};n.push($)}}let i=this.detectAndMergeCompactConversations(n);return(t.includeShortConversations?i:i.filter(a=>a.messages.length>2)).sort((a,o)=>new Date(a.metadata.startTime).getTime()-new Date(o.metadata.startTime).getTime())}processToolResults(e){let t=[],s={};for(let n=0;n<e.length;n++){let i=e[n],r={...i,toolResults:{},hide:!1};if(Array.isArray(i.content)){let a=!0,o=!1;for(let c=0;c<i.content.length;c++){let h=i.content[c];if(h.type==="tool_use"&&"id"in h){let p=h;s[p.id]={messageIndex:n,toolIndex:c},a=!1}else if(h.type==="tool_result"&&"tool_use_id"in h){let p=h,d=p.tool_use_id;if(s[d]){let{messageIndex:m}=s[d];t[m]||(t[m]={...e[m],toolResults:{},hide:!1}),t[m].toolResults[d]=p,delete s[d]}}else h.type==="text"&&(o=!0),a=!1}a&&!o&&(r.hide=!0)}t[n]=r}return t}detectAndMergeCompactConversations(e){if(e.length<=1)return e;let t=[...e].sort((i,r)=>new Date(i.metadata.startTime).getTime()-new Date(r.metadata.startTime).getTime()),s=new Set,n=[];for(let i=0;i<t.length;i++){let r=t[i];if(!s.has(i))if(r.allPairs.length===1&&r.messages.length>2){let a=null,o=-1;for(let c=0;c<t.length;c++){if(c===i||s.has(c))continue;let h=t[c];if(h.messages.length===r.messages.length-2){let p=!0;for(let d=1;d<h.messages.length;d++)if(!this.messagesRoughlyEqual(h.messages[d],r.messages[d])){p=!1;break}if(p){a=h,o=c;break}}}if(a){let c=this.mergeCompactConversation(a,r);n.push(c),s.add(i),s.add(o)}else r.compacted=!0,n.push(r),s.add(i)}else n.push(r),s.add(i)}for(let i=0;i<t.length;i++)s.has(i)||n.push(t[i]);return n.sort((i,r)=>new Date(i.metadata.startTime).getTime()-new Date(r.metadata.startTime).getTime())}mergeCompactConversation(e,t){let s=e.messages||[],i=[...t.messages||[]];s.length>0&&i.length>0&&(i[0]=s[0]);let r=[...e.allPairs,...t.allPairs].sort((h,p)=>new Date(h.timestamp).getTime()-new Date(p.timestamp).getTime()),a=new Set([...e.models,...t.models]),o=r[0].timestamp,c=r[r.length-1].timestamp;return{id:t.id,models:a,system:e.system,messages:i,response:t.response,allPairs:r,finalPair:t.finalPair,compacted:!0,metadata:{startTime:o,endTime:c,totalPairs:r.length,inputTokens:(e.metadata.inputTokens||0)+(t.metadata.inputTokens||0),outputTokens:(e.metadata.outputTokens||0)+(t.metadata.outputTokens||0),totalTokens:(e.metadata.totalTokens||0)+(t.metadata.totalTokens||0)}}}messagesRoughlyEqual(e,t){if(e.role!==t.role)return!1;let s=e.content,n=t.content;return!(typeof s!=typeof n||Array.isArray(s)!==Array.isArray(n))}normalizeMessageForGrouping(e){if(!e||!e.content)return e;let t;return Array.isArray(e.content)?t=e.content.map(s=>{if(s.type==="text"&&"text"in s){let n=s.text;return n=n.replace(/Generated \d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/g,"Generated [TIMESTAMP]"),n=n.replace(/The user opened the file [^\s]+ in the IDE\./g,"The user opened file in IDE."),n=n.replace(/<system-reminder>.*?<\/system-reminder>/gs,"[SYSTEM-REMINDER]"),{type:"text",text:n}}return s}):t=e.content,{role:e.role,content:t}}hashString(e){let t=0;for(let s=0;s<e.length;s++){let n=e.charCodeAt(s);t=(t<<5)-t+n,t=t&t}return Math.abs(t).toString()}};var A=class extends P{constructor(){super(...arguments);this.data={rawPairs:[]};this.conversations=[];this.processedPairs=[];this.currentView="conversations";this.selectedModels=new Set}createRenderRoot(){return console.log("createRenderRoot"),this}connectedCallback(){super.connectedCallback(),this.data=window.claudeData||{rawPairs:[]},this.processData()}processData(){let t=performance.now(),s=new Ne;this.processedPairs=s.processRawPairs(this.data.rawPairs);let n=this.data.metadata?.includeAllRequests||!1;this.conversations=s.mergeConversations(this.processedPairs,{includeShortConversations:n});let i=new Set(this.conversations.flatMap(c=>Array.from(c.models))),r=new Set(this.processedPairs.map(c=>c.model)),a=new Set(this.data.rawPairs.map(c=>c.request.body?.model||"unknown")),o=new Set([...i,...r,...a]);this.selectedModels=o,console.log(`Processed data in ${performance.now()-t}ms`)}switchView(t){this.currentView=t}toggleModel(t){let s=new Set(this.selectedModels);s.has(t)?s.delete(t):s.add(t),this.selectedModels=s}get filteredConversations(){return this.conversations.filter(t=>Array.from(t.models).some(s=>this.selectedModels.has(s)))}get filteredProcessedPairs(){return this.processedPairs.filter(t=>this.selectedModels.has(t.model))}get filteredRawPairs(){return this.data.rawPairs.filter(t=>{let s=t.request.body?.model||"unknown";return this.selectedModels.has(s)})}get allRawPairs(){return this.data.rawPairs.filter(t=>t.response!==null)}get modelCounts(){let t=new Map;return this.conversations.forEach(s=>{Array.from(s.models).forEach(n=>{t.set(n,(t.get(n)||0)+1)})}),t}render(){let t=this.modelCounts,s=this.filteredConversations;return u`
			<div class="min-h-screen bg-vs-bg text-vs-text font-mono">
				<div class="max-w-[60em] mx-auto p-4">
					<div class="mb-8">
						<div class="mb-4 text-center">
							<span class="text-vs-function">~ claude-traffic</span>
							<span class="text-vs-muted ml-8">${this.data.timestamp||new Date().toISOString()}</span>
						</div>

						<div class="mb-8 text-center">
							<span
								@click=${()=>this.switchView("conversations")}
								class="cursor-pointer mr-12 ${this.currentView==="conversations"?"text-vs-nav-active":"text-vs-text hover:text-vs-accent"}"
							>
								conversations (${s.length})
							</span>
							<span
								@click=${()=>this.switchView("raw")}
								class="cursor-pointer mr-12 ${this.currentView==="raw"?"text-vs-nav-active":"text-vs-text hover:text-vs-accent"}"
							>
								raw calls (${this.allRawPairs.length})
							</span>
							<span
								@click=${()=>this.switchView("json")}
								class="cursor-pointer mr-12 ${this.currentView==="json"?"text-vs-nav-active":"text-vs-text hover:text-vs-accent"}"
							>
								json debug (${this.filteredProcessedPairs.length})
							</span>
						</div>

						${t.size>1&&this.currentView!=="raw"?u`
									<div class="mb-4 text-center">
										${Array.from(t.entries()).map(([n,i])=>u`
												<span
													@click=${()=>this.toggleModel(n)}
													class="cursor-pointer hover:text-vs-accent mr-8"
												>
													${this.selectedModels.has(n)?"[x]":"[ ]"} ${n}
												</span>
											`)}
									</div>
								`:""}
					</div>

					<div>
						${this.currentView==="conversations"?u`
									<div id="conversations-view">
										${s.length===0?u`<div>No conversations found for selected models.</div>`:u`<simple-conversation-view
													.conversations=${s}
												></simple-conversation-view>`}
									</div>
								`:""}
						${this.currentView==="raw"?u`
									<div id="raw-view">
										${this.allRawPairs.length===0?u`<div>No raw pairs found.</div>`:u`<raw-pairs-view .rawPairs=${this.allRawPairs}></raw-pairs-view>`}
									</div>
								`:""}
						${this.currentView==="json"?u`
									<div id="json-view">
										${this.filteredProcessedPairs.length===0?u`<div>No processed pairs found for selected models.</div>`:u`<json-view .processedPairs=${this.filteredProcessedPairs}></json-view>`}
									</div>
								`:""}
					</div>
				</div>
			</div>
		`}};S([X()],A.prototype,"data",2),S([X()],A.prototype,"conversations",2),S([X()],A.prototype,"processedPairs",2),S([X()],A.prototype,"currentView",2),S([X()],A.prototype,"selectedModels",2),A=S([H("claude-app")],A);var Ht={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},qt=l=>(...e)=>({_$litDirective$:l,values:e}),Be=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,s){this._$Ct=e,this._$AM=t,this._$Ci=s}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};var fe=class extends Be{constructor(e){if(super(e),this.it=y,e.type!==Ht.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===y||e==null)return this._t=void 0,this.it=e;if(e===I)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;let t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}};fe.directiveName="unsafeHTML",fe.resultType=1;var U=qt(fe);var ge=class{diff(e,t,s={}){let n;typeof s=="function"?(n=s,s={}):"callback"in s&&(n=s.callback);let i=this.castInput(e,s),r=this.castInput(t,s),a=this.removeEmpty(this.tokenize(i,s)),o=this.removeEmpty(this.tokenize(r,s));return this.diffWithOptionsObj(a,o,s,n)}diffWithOptionsObj(e,t,s,n){var i;let r=f=>{if(f=this.postProcess(f,s),n){setTimeout(function(){n(f)},0);return}else return f},a=t.length,o=e.length,c=1,h=a+o;s.maxEditLength!=null&&(h=Math.min(h,s.maxEditLength));let p=(i=s.timeout)!==null&&i!==void 0?i:1/0,d=Date.now()+p,m=[{oldPos:-1,lastComponent:void 0}],x=this.extractCommon(m[0],t,e,0,s);if(m[0].oldPos+1>=o&&x+1>=a)return r(this.buildValues(m[0].lastComponent,t,e));let w=-1/0,$=1/0,g=()=>{for(let f=Math.max(w,-c);f<=Math.min($,c);f+=2){let _,E=m[f-1],M=m[f+1];E&&(m[f-1]=void 0);let qe=!1;if(M){let gt=M.oldPos-f;qe=M&&0<=gt&&gt<a}let ft=E&&E.oldPos+1<o;if(!qe&&!ft){m[f]=void 0;continue}if(!ft||qe&&E.oldPos<M.oldPos?_=this.addToPath(M,!0,!1,0,s):_=this.addToPath(E,!1,!0,1,s),x=this.extractCommon(_,t,e,f,s),_.oldPos+1>=o&&x+1>=a)return r(this.buildValues(_.lastComponent,t,e))||!0;m[f]=_,_.oldPos+1>=o&&($=Math.min($,f-1)),x+1>=a&&(w=Math.max(w,f+1))}c++};if(n)(function f(){setTimeout(function(){if(c>h||Date.now()>d)return n(void 0);g()||f()},0)})();else for(;c<=h&&Date.now()<=d;){let f=g();if(f)return f}}addToPath(e,t,s,n,i){let r=e.lastComponent;return r&&!i.oneChangePerToken&&r.added===t&&r.removed===s?{oldPos:e.oldPos+n,lastComponent:{count:r.count+1,added:t,removed:s,previousComponent:r.previousComponent}}:{oldPos:e.oldPos+n,lastComponent:{count:1,added:t,removed:s,previousComponent:r}}}extractCommon(e,t,s,n,i){let r=t.length,a=s.length,o=e.oldPos,c=o-n,h=0;for(;c+1<r&&o+1<a&&this.equals(s[o+1],t[c+1],i);)c++,o++,h++,i.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return h&&!i.oneChangePerToken&&(e.lastComponent={count:h,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=o,c}equals(e,t,s){return s.comparator?s.comparator(e,t):e===t||!!s.ignoreCase&&e.toLowerCase()===t.toLowerCase()}removeEmpty(e){let t=[];for(let s=0;s<e.length;s++)e[s]&&t.push(e[s]);return t}castInput(e,t){return e}tokenize(e,t){return Array.from(e)}join(e){return e.join("")}postProcess(e,t){return e}get useLongestToken(){return!1}buildValues(e,t,s){let n=[],i;for(;e;)n.push(e),i=e.previousComponent,delete e.previousComponent,e=i;n.reverse();let r=n.length,a=0,o=0,c=0;for(;a<r;a++){let h=n[a];if(h.removed)h.value=this.join(s.slice(c,c+h.count)),c+=h.count;else{if(!h.added&&this.useLongestToken){let p=t.slice(o,o+h.count);p=p.map(function(d,m){let x=s[c+m];return x.length>d.length?x:d}),h.value=this.join(p)}else h.value=this.join(t.slice(o,o+h.count));o+=h.count,h.added||(c+=h.count)}}return n}};var it=class extends ge{constructor(){super(...arguments),this.tokenize=Ps}equals(e,t,s){return s.ignoreWhitespace?((!s.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!s.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):s.ignoreNewlineAtEof&&!s.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),super.equals(e,t,s)}},Ut=new it;function rt(l,e,t){return Ut.diff(l,e,t)}function Ps(l,e){e.stripTrailingCr&&(l=l.replace(/\r\n/g,`
`));let t=[],s=l.split(/(\n|\r\n)/);s[s.length-1]||s.pop();for(let n=0;n<s.length;n++){let i=s[n];n%2&&!e.newlineIsToken?t[t.length-1]+=i:t.push(i)}return t}function lt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var G=lt();function Gt(l){G=l}var Zt=/[&<>"']/,As=new RegExp(Zt.source,"g"),Qt=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Rs=new RegExp(Qt.source,"g"),Ms={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jt=l=>Ms[l];function C(l,e){if(e){if(Zt.test(l))return l.replace(As,jt)}else if(Qt.test(l))return l.replace(Rs,jt);return l}var Ls=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Is(l){return l.replace(Ls,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}var Ns=/(^|[^\[])\^/g;function k(l,e){let t=typeof l=="string"?l:l.source;e=e||"";let s={replace:(n,i)=>{let r=typeof i=="string"?i:i.source;return r=r.replace(Ns,"$1"),t=t.replace(n,r),s},getRegex:()=>new RegExp(t,e)};return s}function Wt(l){try{l=encodeURI(l).replace(/%25/g,"%")}catch{return null}return l}var xe={exec:()=>null};function Ft(l,e){let t=l.replace(/\|/g,(i,r,a)=>{let o=!1,c=r;for(;--c>=0&&a[c]==="\\";)o=!o;return o?"|":" |"}),s=t.split(/ \|/),n=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;n<s.length;n++)s[n]=s[n].trim().replace(/\\\|/g,"|");return s}function Oe(l,e,t){let s=l.length;if(s===0)return"";let n=0;for(;n<s;){let i=l.charAt(s-n-1);if(i===e&&!t)n++;else if(i!==e&&t)n++;else break}return l.slice(0,s-n)}function Bs(l,e){if(l.indexOf(e[1])===-1)return-1;let t=0;for(let s=0;s<l.length;s++)if(l[s]==="\\")s++;else if(l[s]===e[0])t++;else if(l[s]===e[1]&&(t--,t<0))return s;return-1}function Jt(l,e,t,s){let n=e.href,i=e.title?C(e.title):null,r=l[1].replace(/\\([\[\]])/g,"$1");if(l[0].charAt(0)!=="!"){s.state.inLink=!0;let a={type:"link",raw:t,href:n,title:i,text:r,tokens:s.inlineTokens(r)};return s.state.inLink=!1,a}return{type:"image",raw:t,href:n,title:i,text:C(r)}}function Os(l,e){let t=l.match(/^(\s+)(?:```)/);if(t===null)return e;let s=t[1];return e.split(`
`).map(n=>{let i=n.match(/^\s+/);if(i===null)return n;let[r]=i;return r.length>=s.length?n.slice(s.length):n}).join(`
`)}var ee=class{options;rules;lexer;constructor(e){this.options=e||G}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let s=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?s:Oe(s,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let s=t[0],n=Os(s,t[3]||"");return{type:"code",raw:s,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let s=t[2].trim();if(/#$/.test(s)){let n=Oe(s,"#");(this.options.pedantic||!n||/ $/.test(n))&&(s=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let s=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);s=Oe(s.replace(/^ *>[ \t]?/gm,""),`
`);let n=this.lexer.state.top;this.lexer.state.top=!0;let i=this.lexer.blockTokens(s);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:i,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let s=t[1].trim(),n=s.length>1,i={type:"list",raw:"",ordered:n,start:n?+s.slice(0,-1):"",loose:!1,items:[]};s=n?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=n?s:"[*+-]");let r=new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`),a="",o="",c=!1;for(;e;){let h=!1;if(!(t=r.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let p=t[2].split(`
`,1)[0].replace(/^\t+/,g=>" ".repeat(3*g.length)),d=e.split(`
`,1)[0],m=0;this.options.pedantic?(m=2,o=p.trimStart()):(m=t[2].search(/[^ ]/),m=m>4?1:m,o=p.slice(m),m+=t[1].length);let x=!1;if(!p&&/^ *$/.test(d)&&(a+=d+`
`,e=e.substring(d.length+1),h=!0),!h){let g=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),f=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),_=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),E=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){let M=e.split(`
`,1)[0];if(d=M,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),_.test(d)||E.test(d)||g.test(d)||f.test(e))break;if(d.search(/[^ ]/)>=m||!d.trim())o+=`
`+d.slice(m);else{if(x||p.search(/[^ ]/)>=4||_.test(p)||E.test(p)||f.test(p))break;o+=`
`+d}!x&&!d.trim()&&(x=!0),a+=M+`
`,e=e.substring(M.length+1),p=d.slice(m)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let w=null,$;this.options.gfm&&(w=/^\[[ xX]\] /.exec(o),w&&($=w[0]!=="[ ] ",o=o.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!w,checked:$,loose:!1,text:o,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=o.trimEnd(),i.raw=i.raw.trimEnd();for(let h=0;h<i.items.length;h++)if(this.lexer.state.top=!1,i.items[h].tokens=this.lexer.blockTokens(i.items[h].text,[]),!i.loose){let p=i.items[h].tokens.filter(m=>m.type==="space"),d=p.length>0&&p.some(m=>/\n.*\n/.test(m.raw));i.loose=d}if(i.loose)for(let h=0;h<i.items.length;h++)i.items[h].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let s=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:s,raw:t[0],href:n,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;let s=Ft(t[1]),n=t[2].replace(/^\||\| *$/g,"").split("|"),i=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],r={type:"table",raw:t[0],header:[],align:[],rows:[]};if(s.length===n.length){for(let a of n)/^ *-+: *$/.test(a)?r.align.push("right"):/^ *:-+: *$/.test(a)?r.align.push("center"):/^ *:-+ *$/.test(a)?r.align.push("left"):r.align.push(null);for(let a of s)r.header.push({text:a,tokens:this.lexer.inline(a)});for(let a of i)r.rows.push(Ft(a,r.header.length).map(o=>({text:o,tokens:this.lexer.inline(o)})));return r}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let s=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:s,tokens:this.lexer.inline(s)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:C(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let s=t[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;let r=Oe(s.slice(0,-1),"\\");if((s.length-r.length)%2===0)return}else{let r=Bs(t[2],"()");if(r>-1){let o=(t[0].indexOf("!")===0?5:4)+t[1].length+r;t[2]=t[2].substring(0,r),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){let r=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);r&&(n=r[1],i=r[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(this.options.pedantic&&!/>$/.test(s)?n=n.slice(1):n=n.slice(1,-1)),Jt(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){let n=(s[2]||s[1]).replace(/\s+/g," "),i=t[n.toLowerCase()];if(!i){let r=s[0].charAt(0);return{type:"text",raw:r,text:r}}return Jt(s,i,s[0],this.lexer)}}emStrong(e,t,s=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!n||n[3]&&s.match(/[\p{L}\p{N}]/u))return;if(!(n[1]||n[2]||"")||!s||this.rules.inline.punctuation.exec(s)){let r=[...n[0]].length-1,a,o,c=r,h=0,p=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+r);(n=p.exec(t))!=null;){if(a=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!a)continue;if(o=[...a].length,n[3]||n[4]){c+=o;continue}else if((n[5]||n[6])&&r%3&&!((r+o)%3)){h+=o;continue}if(c-=o,c>0)continue;o=Math.min(o,o+c+h);let d=[...n[0]][0].length,m=e.slice(0,r+n.index+d+o);if(Math.min(r,o)%2){let w=m.slice(1,-1);return{type:"em",raw:m,text:w,tokens:this.lexer.inlineTokens(w)}}let x=m.slice(2,-2);return{type:"strong",raw:m,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let s=t[2].replace(/\n/g," "),n=/[^ ]/.test(s),i=/^ /.test(s)&&/ $/.test(s);return n&&i&&(s=s.substring(1,s.length-1)),s=C(s,!0),{type:"codespan",raw:t[0],text:s}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let s,n;return t[2]==="@"?(s=C(t[1]),n="mailto:"+s):(s=C(t[1]),n=s),{type:"link",raw:t[0],text:s,href:n,tokens:[{type:"text",raw:s,text:s}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let s,n;if(t[2]==="@")s=C(t[0]),n="mailto:"+s;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(i!==t[0]);s=C(t[0]),t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:s,href:n,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let s;return this.lexer.state.inRawBlock?s=t[0]:s=C(t[0]),{type:"text",raw:t[0],text:s}}}},zs=/^(?: *(?:\n|$))+/,Ds=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Hs=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ke=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,qs=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Kt=/(?:[*+-]|\d{1,9}[.)])/,Xt=k(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Kt).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ct=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Us=/^[^\n]+/,ht=/(?!\s*\])(?:\\.|[^\[\]\\])+/,js=k(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",ht).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ws=k(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Kt).getRegex(),He="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",pt=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Fs=k("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",pt).replace("tag",He).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Yt=k(ct).replace("hr",ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",He).getRegex(),Js=k(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Yt).getRegex(),ut={blockquote:Js,code:Ds,def:js,fences:Hs,heading:qs,hr:ke,html:Fs,lheading:Xt,list:Ws,newline:zs,paragraph:Yt,table:xe,text:Us},Vt=k("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",He).getRegex(),Vs={...ut,table:Vt,paragraph:k(ct).replace("hr",ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Vt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",He).getRegex()},Gs={...ut,html:k(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",pt).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:xe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:k(ct).replace("hr",ke).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Xt).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},es=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Zs=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ts=/^( {2,}|\\)\n(?!\s*$)/,Qs=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,we="\\p{P}\\p{S}",Ks=k(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,we).getRegex(),Xs=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Ys=k(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,we).getRegex(),en=k("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,we).getRegex(),tn=k("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,we).getRegex(),sn=k(/\\([punct])/,"gu").replace(/punct/g,we).getRegex(),nn=k(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),rn=k(pt).replace("(?:-->|$)","-->").getRegex(),on=k("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",rn).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),De=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,an=k(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",De).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ss=k(/^!?\[(label)\]\[(ref)\]/).replace("label",De).replace("ref",ht).getRegex(),ns=k(/^!?\[(ref)\](?:\[\])?/).replace("ref",ht).getRegex(),ln=k("reflink|nolink(?!\\()","g").replace("reflink",ss).replace("nolink",ns).getRegex(),dt={_backpedal:xe,anyPunctuation:sn,autolink:nn,blockSkip:Xs,br:ts,code:Zs,del:xe,emStrongLDelim:Ys,emStrongRDelimAst:en,emStrongRDelimUnd:tn,escape:es,link:an,nolink:ns,punctuation:Ks,reflink:ss,reflinkSearch:ln,tag:on,text:Qs,url:xe},cn={...dt,link:k(/^!?\[(label)\]\((.*?)\)/).replace("label",De).getRegex(),reflink:k(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",De).getRegex()},ot={...dt,escape:k(es).replace("])","~|])").getRegex(),url:k(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},hn={...ot,br:k(ts).replace("{2,}","*").getRegex(),text:k(ot.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ze={normal:ut,gfm:Vs,pedantic:Gs},ve={normal:dt,gfm:ot,breaks:hn,pedantic:cn},N=class l{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||G,this.options.tokenizer=this.options.tokenizer||new ee,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:ze.normal,inline:ve.normal};this.options.pedantic?(t.block=ze.pedantic,t.inline=ve.pedantic):this.options.gfm&&(t.block=ze.gfm,this.options.breaks?t.inline=ve.breaks:t.inline=ve.gfm),this.tokenizer.rules=t}static get rules(){return{block:ze,inline:ve}}static lex(e,t){return new l(t).lex(e)}static lexInline(e,t){return new l(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let s=this.inlineQueue[t];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,o,c)=>o+"    ".repeat(c.length));let s,n,i,r;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(s=a.call({lexer:this},e,t))?(e=e.substring(s.raw.length),t.push(s),!0):!1))){if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length),s.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+s.raw,n.text+=`
`+s.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+s.raw,n.text+=`
`+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0,o=e.slice(1),c;this.options.extensions.startBlock.forEach(h=>{c=h.call({lexer:this},o),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(s=this.tokenizer.paragraph(i))){n=t[t.length-1],r&&n.type==="paragraph"?(n.raw+=`
`+s.raw,n.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(s),r=i.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length),n=t[t.length-1],n&&n.type==="text"?(n.raw+=`
`+s.raw,n.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(s);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let s,n,i,r=e,a,o,c;if(this.tokens.links){let h=Object.keys(this.tokens.links);if(h.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)h.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,a.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(o||(c=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(s=h.call({lexer:this},e,t))?(e=e.substring(s.raw.length),t.push(s),!0):!1))){if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),n=t[t.length-1],n&&s.type==="text"&&n.type==="text"?(n.raw+=s.raw,n.text+=s.text):t.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length),n=t[t.length-1],n&&s.type==="text"&&n.type==="text"?(n.raw+=s.raw,n.text+=s.text):t.push(s);continue}if(s=this.tokenizer.emStrong(e,r,c)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.autolink(e)){e=e.substring(s.raw.length),t.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e))){e=e.substring(s.raw.length),t.push(s);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0,p=e.slice(1),d;this.options.extensions.startInline.forEach(m=>{d=m.call({lexer:this},p),typeof d=="number"&&d>=0&&(h=Math.min(h,d))}),h<1/0&&h>=0&&(i=e.substring(0,h+1))}if(s=this.tokenizer.inlineText(i)){e=e.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(c=s.raw.slice(-1)),o=!0,n=t[t.length-1],n&&n.type==="text"?(n.raw+=s.raw,n.text+=s.text):t.push(s);continue}if(e){let h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return t}},te=class{options;constructor(e){this.options=e||G}code(e,t,s){let n=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+`
`,n?'<pre><code class="language-'+C(n)+'">'+(s?e:C(e,!0))+`</code></pre>
`:"<pre><code>"+(s?e:C(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,s){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,s){let n=t?"ol":"ul",i=t&&s!==1?' start="'+s+'"':"";return"<"+n+i+`>
`+e+"</"+n+`>
`}listitem(e,t,s){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){let s=t.header?"th":"td";return(t.align?`<${s} align="${t.align}">`:`<${s}>`)+e+`</${s}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,s){let n=Wt(e);if(n===null)return s;e=n;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+s+"</a>",i}image(e,t,s){let n=Wt(e);if(n===null)return s;e=n;let i=`<img src="${e}" alt="${s}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(e){return e}},be=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,s){return""+s}image(e,t,s){return""+s}br(){return""}},B=class l{options;renderer;textRenderer;constructor(e){this.options=e||G,this.options.renderer=this.options.renderer||new te,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new be}static parse(e,t){return new l(t).parse(e)}static parseInline(e,t){return new l(t).parseInline(e)}parse(e,t=!0){let s="";for(let n=0;n<e.length;n++){let i=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){let r=i,a=this.options.extensions.renderers[r.type].call({parser:this},r);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(r.type)){s+=a||"";continue}}switch(i.type){case"space":continue;case"hr":{s+=this.renderer.hr();continue}case"heading":{let r=i;s+=this.renderer.heading(this.parseInline(r.tokens),r.depth,Is(this.parseInline(r.tokens,this.textRenderer)));continue}case"code":{let r=i;s+=this.renderer.code(r.text,r.lang,!!r.escaped);continue}case"table":{let r=i,a="",o="";for(let h=0;h<r.header.length;h++)o+=this.renderer.tablecell(this.parseInline(r.header[h].tokens),{header:!0,align:r.align[h]});a+=this.renderer.tablerow(o);let c="";for(let h=0;h<r.rows.length;h++){let p=r.rows[h];o="";for(let d=0;d<p.length;d++)o+=this.renderer.tablecell(this.parseInline(p[d].tokens),{header:!1,align:r.align[d]});c+=this.renderer.tablerow(o)}s+=this.renderer.table(a,c);continue}case"blockquote":{let r=i,a=this.parse(r.tokens);s+=this.renderer.blockquote(a);continue}case"list":{let r=i,a=r.ordered,o=r.start,c=r.loose,h="";for(let p=0;p<r.items.length;p++){let d=r.items[p],m=d.checked,x=d.task,w="";if(d.task){let $=this.renderer.checkbox(!!m);c?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=$+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=$+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:$+" "}):w+=$+" "}w+=this.parse(d.tokens,c),h+=this.renderer.listitem(w,x,!!m)}s+=this.renderer.list(h,a,o);continue}case"html":{let r=i;s+=this.renderer.html(r.text,r.block);continue}case"paragraph":{let r=i;s+=this.renderer.paragraph(this.parseInline(r.tokens));continue}case"text":{let r=i,a=r.tokens?this.parseInline(r.tokens):r.text;for(;n+1<e.length&&e[n+1].type==="text";)r=e[++n],a+=`
`+(r.tokens?this.parseInline(r.tokens):r.text);s+=t?this.renderer.paragraph(a):a;continue}default:{let r='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return s}parseInline(e,t){t=t||this.renderer;let s="";for(let n=0;n<e.length;n++){let i=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){let r=this.options.extensions.renderers[i.type].call({parser:this},i);if(r!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){s+=r||"";continue}}switch(i.type){case"escape":{let r=i;s+=t.text(r.text);break}case"html":{let r=i;s+=t.html(r.text);break}case"link":{let r=i;s+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{let r=i;s+=t.image(r.href,r.title,r.text);break}case"strong":{let r=i;s+=t.strong(this.parseInline(r.tokens,t));break}case"em":{let r=i;s+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{let r=i;s+=t.codespan(r.text);break}case"br":{s+=t.br();break}case"del":{let r=i;s+=t.del(this.parseInline(r.tokens,t));break}case"text":{let r=i;s+=t.text(r.text);break}default:{let r='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return s}},Y=class{options;constructor(e){this.options=e||G}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}},at=class{defaults=lt();options=this.setOptions;parse=this.#e(N.lex,B.parse);parseInline=this.#e(N.lexInline,B.parseInline);Parser=B;Renderer=te;TextRenderer=be;Lexer=N;Tokenizer=ee;Hooks=Y;constructor(...e){this.use(...e)}walkTokens(e,t){let s=[];for(let n of e)switch(s=s.concat(t.call(this,n)),n.type){case"table":{let i=n;for(let r of i.header)s=s.concat(this.walkTokens(r.tokens,t));for(let r of i.rows)for(let a of r)s=s.concat(this.walkTokens(a.tokens,t));break}case"list":{let i=n;s=s.concat(this.walkTokens(i.items,t));break}default:{let i=n;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(r=>{let a=i[r].flat(1/0);s=s.concat(this.walkTokens(a,t))}):i.tokens&&(s=s.concat(this.walkTokens(i.tokens,t)))}}return s}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{let n={...s};if(n.async=this.defaults.async||n.async||!1,s.extensions&&(s.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let r=t.renderers[i.name];r?t.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=r.apply(this,a)),o}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let r=t[i.level];r?r.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),n.extensions=t),s.renderer){let i=this.defaults.renderer||new te(this.defaults);for(let r in s.renderer){if(!(r in i))throw new Error(`renderer '${r}' does not exist`);if(r==="options")continue;let a=r,o=s.renderer[a],c=i[a];i[a]=(...h)=>{let p=o.apply(i,h);return p===!1&&(p=c.apply(i,h)),p||""}}n.renderer=i}if(s.tokenizer){let i=this.defaults.tokenizer||new ee(this.defaults);for(let r in s.tokenizer){if(!(r in i))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;let a=r,o=s.tokenizer[a],c=i[a];i[a]=(...h)=>{let p=o.apply(i,h);return p===!1&&(p=c.apply(i,h)),p}}n.tokenizer=i}if(s.hooks){let i=this.defaults.hooks||new Y;for(let r in s.hooks){if(!(r in i))throw new Error(`hook '${r}' does not exist`);if(r==="options")continue;let a=r,o=s.hooks[a],c=i[a];Y.passThroughHooks.has(r)?i[a]=h=>{if(this.defaults.async)return Promise.resolve(o.call(i,h)).then(d=>c.call(i,d));let p=o.call(i,h);return c.call(i,p)}:i[a]=(...h)=>{let p=o.apply(i,h);return p===!1&&(p=c.apply(i,h)),p}}n.hooks=i}if(s.walkTokens){let i=this.defaults.walkTokens,r=s.walkTokens;n.walkTokens=function(a){let o=[];return o.push(r.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return N.lex(e,t??this.defaults)}parser(e,t){return B.parse(e,t??this.defaults)}#e(e,t){return(s,n)=>{let i={...n},r={...this.defaults,...i};this.defaults.async===!0&&i.async===!1&&(r.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),r.async=!0);let a=this.#t(!!r.silent,!!r.async);if(typeof s>"u"||s===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));if(r.hooks&&(r.hooks.options=r),r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(s):s).then(o=>e(o,r)).then(o=>r.hooks?r.hooks.processAllTokens(o):o).then(o=>r.walkTokens?Promise.all(this.walkTokens(o,r.walkTokens)).then(()=>o):o).then(o=>t(o,r)).then(o=>r.hooks?r.hooks.postprocess(o):o).catch(a);try{r.hooks&&(s=r.hooks.preprocess(s));let o=e(s,r);r.hooks&&(o=r.hooks.processAllTokens(o)),r.walkTokens&&this.walkTokens(o,r.walkTokens);let c=t(o,r);return r.hooks&&(c=r.hooks.postprocess(c)),c}catch(o){return a(o)}}}#t(e,t){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+C(s.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(s);throw s}}},V=new at;function v(l,e){return V.parse(l,e)}v.options=v.setOptions=function(l){return V.setOptions(l),v.defaults=V.defaults,Gt(v.defaults),v};v.getDefaults=lt;v.defaults=G;v.use=function(...l){return V.use(...l),v.defaults=V.defaults,Gt(v.defaults),v};v.walkTokens=function(l,e){return V.walkTokens(l,e)};v.parseInline=V.parseInline;v.Parser=B;v.parser=B.parse;v.Renderer=te;v.TextRenderer=be;v.Lexer=N;v.lexer=N.lex;v.Tokenizer=ee;v.Hooks=Y;v.parse=v;var qi=v.options,Ui=v.setOptions,ji=v.use,Wi=v.walkTokens,Fi=v.parseInline;var Ji=B.parse,Vi=N.lex;v.setOptions({gfm:!0,breaks:!0});function is(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function O(l){if(!l)return"";try{let e=is(l);return v(e)}catch(e){return console.warn("Failed to parse markdown:",e),is(l).replace(/\n/g,"<br>")}}var ye=class extends P{constructor(){super(...arguments);this.conversations=[]}createRenderRoot(){return this}handleToggle(t,s={}){let{type:n="content",targetSelector:i,toggleSelector:r,customHandler:a}=s,o=t.currentTarget;if(n==="write"){let p=o.previousElementSibling;p&&(!p.classList.contains("hidden")?(p.classList.add("hidden"),o.classList.remove("hidden")):(p.classList.remove("hidden"),o.classList.add("hidden")));return}let c=i?o.querySelector(i):o.nextElementSibling,h=r?o.querySelector(r):o.querySelector("span:first-child");if(c){let p=c.classList.contains("hidden");a?a(c,p):(c.classList.toggle("hidden",!p),h&&(h.textContent=p?"[-]":"[+]"))}}toggleContent(t){this.handleToggle(t)}toggleWriteContent(t){this.handleToggle(t,{type:"write"})}formatContent(t,s){return typeof t=="string"?this.formatStringContent(t):Array.isArray(t)?u`
				${t.map(n=>{if(n.type==="text")return this.formatStringContent(n.text);if(n.type==="thinking")return u`
							<div class="mt-4 mb-4">
								<div class="text-gray-500 italic">
									<em>Thinking</em>
								</div>
								<div class="text-gray-400 mt-2 markdown-content">
									${U(O(n.thinking||""))}
								</div>
							</div>
						`;if(n.type==="tool_result")return u``;if(n.type==="tool_use"){let r=s?.[n.id];if(n.name==="TodoWrite"||n.name==="Edit"||n.name==="MultiEdit")return this.renderToolContainer(n,r);if(n.name==="Write"){let a=u`
								<div class="bg-vs-bg-secondary p-4 text-vs-text hidden">
									${this.renderToolUseContent(n)}
								</div>
								<div
									class="bg-vs-bg-secondary mx-4 p-4 text-vs-text cursor-pointer hover:bg-vs-border transition-colors"
									@click=${this.toggleWriteContent}
								>
									${this.renderWritePreview(n)}
								</div>
							`;return u`
								<div class="mt-4 mb-4">
									<div class="text-vs-type px-4 break-all">${this.getToolDisplayName(n)}</div>
									${a} ${r?this.renderToolResult(r,n):""}
								</div>
							`}return this.renderToolContainer(n,r,{isCollapsible:!0,isCollapsed:!0,isClickToExpand:!0})}return u`<pre class="mb-4">${JSON.stringify(n,null,2)}</pre>`})}
			`:u`<pre>${JSON.stringify(t,null,2)}</pre>`}formatStringContent(t){let s=/&lt;system-reminder&gt;([\s\S]*?)&lt;\/system-reminder&gt;/g,n=/<system-reminder>([\s\S]*?)<\/system-reminder>/g,i=[],r;for(;(r=s.exec(t))!==null;)i.push(r[1].trim());for(;(r=n.exec(t))!==null;)i.push(r[1].trim());let a=t.replace(s,"").replace(n,"").trim();return u`
			${a?u`<div class="mt-4 markdown-content">${U(O(a))}</div>`:""}
			${i.length>0?this.renderCollapsibleSection("System Reminder",u`<div class="text-vs-muted">
							${i.map((o,c)=>u`
									<div class="mb-4">
										${i.length>1?u`<div class="text-vs-function font-bold mb-2">Reminder ${c+1}:</div>`:""}
										<div class="markdown-content">${U(O(o))}</div>
									</div>
								`)}
						</div>`,{titleClasses:"text-vs-muted",containerClasses:"mt-4 mb-4",count:i.length>1?i.length:void 0}):""}
		`}formatSystem(t){if(!t)return"";if(typeof t=="string")return O(t);if(Array.isArray(t)){let s=t.map(n=>n.type==="text"?n.text:JSON.stringify(n,null,2)).join(`
`);return O(s)}return JSON.stringify(t,null,2)}formatResponseContent(t){return t?t.content&&Array.isArray(t.content)?u`
				${t.content.map(s=>s.type==="text"?u`<div class="mt-4 markdown-content">${U(O(s.text))}</div>`:s.type==="thinking"?u`
							<div class="mt-4 mb-4">
								<div class="text-gray-500 italic">
									<em>Thinking</em>
								</div>
								<div class="text-gray-400 mt-2 markdown-content">
									${U(O(s.thinking||""))}
								</div>
							</div>
						`:s.type==="tool_use"?s.name==="TodoWrite"?u`
								<div class="mt-4 mb-4">
									<div class="text-vs-type px-4 break-all">${this.getToolDisplayName(s)}</div>
									<div class="bg-vs-bg-secondary mx-4 p-4 text-vs-text">
										${this.renderToolUseContent(s)}
									</div>
								</div>
							`:u`
							<div class="mt-4 mb-4">
								<div
									class="text-vs-type px-4 py-2 break-all cursor-pointer hover:text-white transition-colors"
									@click=${this.toggleContent}
								>
									<span class="mr-2">[+]</span>
									${this.getToolDisplayName(s)}
								</div>
								<div class="bg-vs-bg-secondary mx-4 p-4 text-vs-text hidden">
									${this.renderToolUseContent(s)}
								</div>
							</div>
						`:u`<pre class="mb-4">${JSON.stringify(s,null,2)}</pre>`)}
			`:u`<pre>${JSON.stringify(t,null,2)}</pre>`:u``}formatSingleParam(t,s,n=""){return s?u`${t}(<span class="text-vs-text">${this.unescapeHtml(s)}</span>)`:u`${t}`}formatMultiParam(t,s){return s.length>0?u`${t}(<span class="text-vs-text">${s.join(", ")}</span>)`:u`${t}`}unescapeHtml(t){let s=document.createElement("div");return s.innerHTML=t,s.textContent||s.innerText||""}wrapInScrollable(t,s=!0){return s&&typeof t=="string"?u`
				<div class="overflow-x-auto">
					<pre class="text-vs-text m-0" style="white-space: pre; font-family: monospace;">${t}</pre>
				</div>
			`:u` <div class="overflow-x-auto">${t}</div> `}renderCollapsibleSection(t,s,n={}){let{isExpanded:i=!1,titleClasses:r="",containerClasses:a="",count:o}=n,c=i?"":"hidden",h=i?"[-]":"[+]",p=o!==void 0?`${t} (${o})`:t;return u`
			<div class="${a}">
				<div class="cursor-pointer hover:text-white transition-colors ${r}" @click=${this.toggleContent}>
					<span class="mr-2">${h}</span>
					<span>${p}</span>
				</div>
				<div class="${c} mt-4">${s}</div>
			</div>
		`}getToolDisplayName(t,s){let n=t.name,i=t.input;switch(n){case"Read":return this.formatSingleParam(n,i?.file_path);case"Bash":return this.formatSingleParam(n,i?.command);case"Write":return this.formatSingleParam(n,i?.file_path);case"Glob":if(i?.pattern){let r=[this.unescapeHtml(i.pattern)];return i?.path&&r.push(this.unescapeHtml(i.path)),this.formatMultiParam(n,r)}return u`${n}`;case"Grep":if(i?.pattern){let r=[this.unescapeHtml(i.pattern)];return i?.include&&r.push(this.unescapeHtml(i.include)),i?.path&&r.push(this.unescapeHtml(i.path)),this.formatMultiParam(n,r)}return u`${n}`;case"LS":if(i?.path){let r=[this.unescapeHtml(i.path)];if(i?.ignore){let a=i.ignore.map(o=>this.unescapeHtml(o)).join(", ");r.push(`ignore: ${a}`)}return this.formatMultiParam(n,r)}return u`${n}`;case"Edit":return i?.file_path?this.formatSingleParam(n,this.unescapeHtml(i.file_path).split("/").pop()):u`${n}`;case"MultiEdit":if(i?.file_path){let r=this.unescapeHtml(i.file_path).split("/").pop()||i.file_path,a=i?.edits?i.edits.length:0;return this.formatMultiParam(n,[r,`${a} edits`])}return u`${n}`;case"NotebookRead":return i?.notebook_path?this.formatSingleParam(n,this.unescapeHtml(i.notebook_path).split("/").pop()):u`${n}`;case"NotebookEdit":if(i?.notebook_path&&i?.cell_number!==void 0){let r=this.unescapeHtml(i.notebook_path).split("/").pop(),a=i.cell_number,o=i?.edit_mode||"replace";return this.formatMultiParam(n,[r,`cell ${a}`,o])}return u`${n}`;case"WebFetch":return i?.url?this.formatSingleParam(n,i.url):u`${n}`;case"WebSearch":return i?.query?this.formatSingleParam(n,i.query):u`${n}`;default:return u`${n}`}}renderToolUseContent(t){let s=t.name,n=t.input;if(s==="TodoWrite"&&n?.todos){let i=n.todos;return this.wrapInScrollable(u`${i.map(r=>{let a=r.status==="completed"?"line-through text-vs-text":r.status==="in_progress"?"text-green-400":"text-vs-muted";return u`
						<div class="overflow-hidden whitespace-nowrap text-ellipsis ${a}"> ${r.content}</div>
					`})}`,!1)}if(s==="NotebookEdit"&&n?.new_source){let i=n.new_source;return this.wrapInScrollable(i)}if(s==="Write"&&n?.content){let i=n.content;return this.wrapInScrollable(i)}if(s==="MultiEdit"&&n?.edits){let i=n.edits;return this.wrapInScrollable(u`${i.map((r,a)=>{let o=r.old_string,c=r.new_string,h=this.renderDiff(o,c);return u`
						<div class="mb-4">
							<div class="text-vs-muted mb-2">Edit ${a+1}:</div>
							<div>${h}</div>
						</div>
					`})}`,!1)}if(s==="Edit"&&n?.old_string&&n?.new_string){let i=n.old_string,r=n.new_string,a=this.renderDiff(i,r);return this.wrapInScrollable(u`${a}`,!1)}if(s==="WebFetch"&&n?.url&&n?.prompt)return this.wrapInScrollable(u`
					<div class="mb-3">
						<div class="text-vs-muted mb-1">URL:</div>
						<div class="text-vs-text">${n.url}</div>
					</div>
					<div>
						<div class="text-vs-muted mb-1">Prompt:</div>
						<div class="text-vs-text">${n.prompt}</div>
					</div>
				`,!1);if(s==="WebSearch"&&n?.query){let i=[];return i.push(u`
				<div class="mb-3">
					<div class="text-vs-muted mb-1">Query:</div>
					<div class="text-vs-text">${n.query}</div>
				</div>
			`),n?.allowed_domains&&i.push(u`
					<div class="mb-3">
						<div class="text-vs-muted mb-1">Allowed Domains:</div>
						<div class="text-vs-text">${n.allowed_domains.join(", ")}</div>
					</div>
				`),n?.blocked_domains&&i.push(u`
					<div class="mb-3">
						<div class="text-vs-muted mb-1">Blocked Domains:</div>
						<div class="text-vs-text">${n.blocked_domains.join(", ")}</div>
					</div>
				`),this.wrapInScrollable(u`${i}`,!1)}return this.wrapInScrollable(JSON.stringify(n,null,2))}renderToolResult(t,s){return u`
			<div class="mb-4">
				<div
					class="text-vs-muted px-4 pb-0 cursor-pointer hover:text-white transition-colors"
					@click=${this.toggleContent}
				>
					<span class="mr-2">[+]</span>
					Tool Result ${t?.is_error?"\u274C":"\u2705"}
				</div>
				<div class="bg-vs-bg-secondary mx-4 p-4 text-vs-text hidden overflow-x-auto">
					<pre class="whitespace-pre overflow-x-auto" style="white-space: pre; font-family: monospace;">
${typeof t.content=="string"?t.content:JSON.stringify(t.content,null,2)}</pre
					>
				</div>
				${s?u`
							<div>
								<div
									class="text-vs-muted px-4 cursor-pointer hover:text-white transition-colors"
									@click=${this.toggleContent}
								>
									<span class="mr-2">[+]</span>
									Raw Tool Call
								</div>
								<div class="bg-vs-bg-secondary mx-4 p-4 text-vs-text hidden">
									${this.wrapInScrollable(JSON.stringify(s,null,2))}
								</div>
							</div>
						`:""}
			</div>
		`}renderToolContainer(t,s,n={}){let{isCollapsible:i=!1,isCollapsed:r=!1,isClickToExpand:a=!1,customContent:o}=n,c=o||u`${this.renderToolUseContent(t)}`,h=a?"text-vs-type px-4 break-all cursor-pointer hover:text-white transition-colors":"text-vs-type px-4 break-all",p=r?"bg-vs-bg-secondary mx-4 p-4 text-vs-text hidden":"bg-vs-bg-secondary mx-4 p-4 text-vs-text";return u`
			<div class="mt-4 mb-4">
				<div class="${h}" @click=${a?this.toggleContent:void 0}>
					${i?u`<span class="mr-2">[${r?"+":"-"}]</span>`:""}
					${this.getToolDisplayName(t)}
				</div>
				<div class="${p}">${c}</div>
				${s?this.renderToolResult(s,t):""}
			</div>
		`}renderWritePreview(t){let s=t.input;if(!s?.content)return u`<div class="text-vs-muted">No content</div>`;let i=s.content.split(`
`),r=i.slice(0,10),a=i.length>10;return u`
			${this.wrapInScrollable(r.join(`
`))}
			${a?u`<div class="text-vs-muted">... ${i.length-10} more lines (click to expand)</div>`:""}
		`}renderDiff(t,s){let n=rt(t,s),i=[];for(let r of n){let a=r.value.split(`
`);a[a.length-1]===""&&a.pop();for(let o of a)r.added?i.push(u`<div class="bg-green-600/20"><pre class="text-vs-text m-0">+ ${o}</pre></div>`):r.removed?i.push(u`<div class="bg-red-600/20"><pre class="text-vs-text m-0">- ${o}</pre></div>`):i.push(u`<div><pre class="text-vs-text m-0">  ${o}</pre></div>`)}return i}hasTools(t){return!!(t.finalPair.request.tools&&t.finalPair.request.tools.length>0)}renderTools(t){return u`
			${t.map(s=>{if("name"in s&&s.name){let n="description"in s&&s.description||"No description";return this.renderCollapsibleSection(s.name,u`
							<div class="text-vs-text ml-4 mb-3 markdown-content">
								${U(O(n))}
							</div>

							${"input_schema"in s&&s.input_schema&&typeof s.input_schema=="object"?(()=>{let i=s.input_schema;return i.properties?u`
												<div class="text-vs-muted mb-2">Parameters:</div>
												${Object.entries(i.properties).map(([r,a])=>{let o=a,c=i.required?.includes(r)?" (required)":"",h=o.type?` [${o.type}]`:"",p=o.description?` - ${o.description}`:"";return u`
														<div class="ml-4 mb-1">
															<span class="text-vs-user">${r}</span>
															<span class="text-vs-muted">${h}${c}${p}</span>
														</div>
													`})}
											`:u``})():u``}
						`,{titleClasses:"text-vs-type font-bold",containerClasses:"mb-4",isExpanded:!0})}return u`<pre class="mb-4">${JSON.stringify(s,null,2)}</pre>`})}
		`}renderConversationContent(t){return u`
			<!-- System Prompt (Expandable) -->
			${t.system?this.renderCollapsibleSection("System Prompt",u`<div class="text-vs-text markdown-content mb-4">
							${U(this.formatSystem(t.system))}
						</div>`,{titleClasses:"text-vs-function",containerClasses:"px-4 mt-4"}):""}

			<!-- Tools (Expandable) -->
			${this.hasTools(t)?this.renderCollapsibleSection("Tools",u`<div class="ml-4">
							<div class="text-vs-text">${this.renderTools(t.finalPair.request.tools||[])}</div>
						</div>`,{titleClasses:"text-vs-type",containerClasses:"px-4",count:t.finalPair.request.tools?.length||0}):""}

			<!-- Conversation Messages -->
			<div class="px-4 mt-4">
				${t.messages.filter(s=>!s.hide).map((s,n)=>u`
							<div class="mb-4">
								<div
									class="font-bold uppercase ${s.role==="user"?"text-vs-user":"text-vs-assistant"}"
								>
									<span>${s.role}</span>
								</div>
								<div class="text-vs-text">
									${this.formatContent(s.content,s.toolResults)}
								</div>
							</div>
						`)}

				<!-- Assistant Response -->
				<div class="mb-4">
					<div class="font-bold uppercase text-vs-assistant">
						<span>assistant</span>
					</div>
					<div class="text-vs-text">${this.formatResponseContent(t.response)}</div>
				</div>
			</div>
		`}render(){return this.conversations.length===0?u`<div>No conversations found.</div>`:u`
			<div class="max-w-[60em] mx-auto">
				${this.conversations.map(t=>u`
						<div class="mt-8 first:mt-0">
							${t.compacted?u`
										<!-- Compacted Conversation (Collapsed) -->
										<div
											class="cursor-pointer text-red-400 hover:text-red-300 transition-colors border border-red-700 p-4"
											@click=${this.toggleContent}
										>
											<span class="mr-2">[+]</span>
											<span>Compacted (click to view details)</span>
										</div>
										<div class="hidden mt-8">
											<!-- Conversation Header -->
											<div class="border border-red-700 p-4 mb-0">
												<div class="text-red-400">${Array.from(t.models).join(", ")}</div>
												<div class="text-vs-muted">
													${new Date(t.metadata.startTime).toLocaleString()}
													<span class="ml-4">${t.messages.length+1} messages</span>
												</div>
											</div>
											${this.renderConversationContent(t)}
										</div>
									`:u`
										<!-- Regular Conversation -->
										<!-- Conversation Header -->
										<div class="border border-vs-highlight p-4 mb-0">
											<div class="text-vs-assistant">${Array.from(t.models).join(", ")}</div>
											<div class="text-vs-muted">
												${new Date(t.metadata.startTime).toLocaleString()}
												<span class="ml-4">${t.messages.length+1} messages</span>
											</div>
										</div>
										${this.renderConversationContent(t)}
									`}
						</div>
					`)}
			</div>
		`}};S([q({type:Array})],ye.prototype,"conversations",2),ye=S([H("simple-conversation-view")],ye);var _e=class extends P{constructor(){super(...arguments);this.rawPairs=[]}createRenderRoot(){return this}render(){if(this.rawPairs.length===0)return u`<div class="text-vs-muted">No raw pairs found.</div>`;let t=this.rawPairs.filter(s=>s.response!==null);return u`
			<div>
				${t.map((s,n)=>u`
						<div class="mt-8 first:mt-0">
							<!-- Pair Header -->
							<div class="border border-vs-highlight p-4 mb-0">
								<div class="text-vs-assistant font-bold">
									${s.request.method} ${this.getUrlPath(s.request.url)}
								</div>
								<div class="text-vs-muted">
									Raw Pair ${n+1}  ${this.getModelName(s)}  Status ${s.response.status_code} 
									${new Date(s.logged_at).toLocaleString()}
								</div>
							</div>

							<!-- Request Section -->
							<div class="px-4 mt-4">
								<div class="mb-4">
									<div
										class="cursor-pointer text-vs-user font-bold hover:text-white transition-colors"
										@click=${i=>this.toggleContent(i)}
									>
										<span class="mr-2">[+]</span>
										<span>Request</span>
									</div>
									<div class="hidden mt-2">
										<div class="bg-vs-bg-secondary p-4 text-vs-text overflow-x-auto">
											<pre class="whitespace-pre text-vs-text m-0">${this.formatJson(s.request)}</pre>
										</div>
									</div>
								</div>

								<!-- Response Section -->
								<div class="mb-4">
									<div
										class="cursor-pointer text-vs-assistant font-bold hover:text-white transition-colors"
										@click=${i=>this.toggleContent(i)}
									>
										<span class="mr-2">[+]</span>
										<span>Response</span>
									</div>
									<div class="hidden mt-2">
										<div class="bg-vs-bg-secondary p-4 text-vs-text overflow-x-auto">
											<pre class="whitespace-pre text-vs-text m-0">${this.formatJson(s.response)}</pre>
										</div>
									</div>
								</div>

								<!-- SSE Events Section -->
								${s.response.events&&s.response.events.length>0?u`
											<div class="mb-4">
												<div
													class="cursor-pointer text-vs-type font-bold hover:text-white transition-colors"
													@click=${i=>this.toggleContent(i)}
												>
													<span class="mr-2">[+]</span>
													<span>SSE Events (${s.response.events.length})</span>
												</div>
												<div class="hidden mt-2">
													<div class="bg-vs-bg-secondary p-4 text-vs-text overflow-x-auto">
														<pre class="whitespace-pre text-vs-text m-0">
${this.formatJson(s.response.events)}</pre
														>
													</div>
												</div>
											</div>
										`:""}
							</div>
						</div>
					`)}
			</div>
		`}getUrlPath(t){try{return new URL(t).pathname}catch{return t}}getModelName(t){if(t.request.url&&t.request.url.includes("bedrock-runtime")){let s=t.request.url.match(/\/model\/([^\/]+)/);if(s&&s[1])return this.normalizeModelName(s[1])}return t.request.body&&t.request.body.model?this.normalizeModelName(t.request.body.model):"unknown"}normalizeModelName(t){if(!t)return"unknown";if(t.startsWith("us.anthropic.")){let s=t.match(/us\.anthropic\.([^:]+)/);if(s&&s[1])return s[1]}return t}formatJson(t){try{return JSON.stringify(t,null,2)}catch{return String(t)}}toggleContent(t){let s=t.currentTarget,n=s.nextElementSibling,i=s.querySelector("span:first-child");if(n&&i){let r=n.classList.contains("hidden");n.classList.toggle("hidden",!r),i.textContent=r?"[-]":"[+]"}}};S([q({type:Array})],_e.prototype,"rawPairs",2),_e=S([H("raw-pairs-view")],_e);var $e=class extends P{constructor(){super(...arguments);this.processedPairs=[]}createRenderRoot(){return this}render(){return this.processedPairs.length===0?u`<div class="text-vs-muted">No processed pairs found.</div>`:u`
			<div>
				${this.processedPairs.map((t,s)=>u`
						<div class="mt-8 first:mt-0">
							<!-- Pair Header -->
							<div class="border border-vs-highlight p-4 mb-0">
								<div class="text-vs-assistant font-bold">${t.model}</div>
								<div class="text-vs-muted">
									Pair ${s+1}  ${t.isStreaming?"streaming":"non-streaming"} 
									${new Date(t.timestamp).toLocaleString()}
								</div>
							</div>

							<!-- Request Section -->
							<div class="px-4 mt-4">
								<div class="mb-4">
									<div
										class="cursor-pointer text-vs-user font-bold hover:text-white transition-colors"
										@click=${n=>this.toggleContent(n)}
									>
										<span class="mr-2">[+]</span>
										<span>Request (MessageCreateParams)</span>
									</div>
									<div class="hidden mt-2">
										<div class="bg-vs-bg-secondary p-4 text-vs-text overflow-x-auto">
											<pre class="whitespace-pre text-vs-text m-0">${this.formatJson(t.request)}</pre>
										</div>
									</div>
								</div>

								<!-- Response Section -->
								<div class="mb-4">
									<div
										class="cursor-pointer text-vs-assistant font-bold hover:text-white transition-colors"
										@click=${n=>this.toggleContent(n)}
									>
										<span class="mr-2">[+]</span>
										<span>Response (Message)${t.isStreaming?" - Reconstructed from SSE":""}</span>
									</div>
									<div class="hidden mt-2">
										<div class="bg-vs-bg-secondary p-4 text-vs-text overflow-x-auto">
											<pre class="whitespace-pre text-vs-text m-0">${this.formatJson(t.response)}</pre>
										</div>
									</div>
								</div>
							</div>
						</div>
					`)}
			</div>
		`}formatJson(t){try{return JSON.stringify(t,null,2)}catch(s){return`Error formatting JSON: ${s}`}}toggleContent(t){let s=t.currentTarget,n=s.nextElementSibling,i=s.querySelector("span:first-child");if(n&&i){let r=n.classList.contains("hidden");n.classList.toggle("hidden",!r),i.textContent=r?"[-]":"[+]"}}};S([q({type:Array})],$e.prototype,"processedPairs",2),$e=S([H("json-view")],$e);var mt=`*, ::before, ::after {
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x:  ;
  --tw-pan-y:  ;
  --tw-pinch-zoom:  ;
  --tw-scroll-snap-strictness: proximity;
  --tw-gradient-from-position:  ;
  --tw-gradient-via-position:  ;
  --tw-gradient-to-position:  ;
  --tw-ordinal:  ;
  --tw-slashed-zero:  ;
  --tw-numeric-figure:  ;
  --tw-numeric-spacing:  ;
  --tw-numeric-fraction:  ;
  --tw-ring-inset:  ;
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-blur:  ;
  --tw-brightness:  ;
  --tw-contrast:  ;
  --tw-grayscale:  ;
  --tw-hue-rotate:  ;
  --tw-invert:  ;
  --tw-saturate:  ;
  --tw-sepia:  ;
  --tw-drop-shadow:  ;
  --tw-backdrop-blur:  ;
  --tw-backdrop-brightness:  ;
  --tw-backdrop-contrast:  ;
  --tw-backdrop-grayscale:  ;
  --tw-backdrop-hue-rotate:  ;
  --tw-backdrop-invert:  ;
  --tw-backdrop-opacity:  ;
  --tw-backdrop-saturate:  ;
  --tw-backdrop-sepia:  ;
  --tw-contain-size:  ;
  --tw-contain-layout:  ;
  --tw-contain-paint:  ;
  --tw-contain-style:  ;
}

::backdrop {
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x:  ;
  --tw-pan-y:  ;
  --tw-pinch-zoom:  ;
  --tw-scroll-snap-strictness: proximity;
  --tw-gradient-from-position:  ;
  --tw-gradient-via-position:  ;
  --tw-gradient-to-position:  ;
  --tw-ordinal:  ;
  --tw-slashed-zero:  ;
  --tw-numeric-figure:  ;
  --tw-numeric-spacing:  ;
  --tw-numeric-fraction:  ;
  --tw-ring-inset:  ;
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-blur:  ;
  --tw-brightness:  ;
  --tw-contrast:  ;
  --tw-grayscale:  ;
  --tw-hue-rotate:  ;
  --tw-invert:  ;
  --tw-saturate:  ;
  --tw-sepia:  ;
  --tw-drop-shadow:  ;
  --tw-backdrop-blur:  ;
  --tw-backdrop-brightness:  ;
  --tw-backdrop-contrast:  ;
  --tw-backdrop-grayscale:  ;
  --tw-backdrop-hue-rotate:  ;
  --tw-backdrop-invert:  ;
  --tw-backdrop-opacity:  ;
  --tw-backdrop-saturate:  ;
  --tw-backdrop-sepia:  ;
  --tw-contain-size:  ;
  --tw-contain-layout:  ;
  --tw-contain-paint:  ;
  --tw-contain-style:  ;
}

/*
! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com
*/

/*
1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)
2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)
*/

*,
::before,
::after {
  box-sizing: border-box;
  /* 1 */
  border-width: 0;
  /* 2 */
  border-style: solid;
  /* 2 */
  border-color: #e5e7eb;
  /* 2 */
}

::before,
::after {
  --tw-content: '';
}

/*
1. Use a consistent sensible line-height in all browsers.
2. Prevent adjustments of font size after orientation changes in iOS.
3. Use a more readable tab size.
4. Use the user's configured \`sans\` font-family by default.
5. Use the user's configured \`sans\` font-feature-settings by default.
6. Use the user's configured \`sans\` font-variation-settings by default.
7. Disable tap highlights on iOS
*/

html,
:host {
  line-height: 1.5;
  /* 1 */
  -webkit-text-size-adjust: 100%;
  /* 2 */
  -moz-tab-size: 4;
  /* 3 */
  -o-tab-size: 4;
     tab-size: 4;
  /* 3 */
  font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  /* 4 */
  font-feature-settings: normal;
  /* 5 */
  font-variation-settings: normal;
  /* 6 */
  -webkit-tap-highlight-color: transparent;
  /* 7 */
}

/*
1. Remove the margin in all browsers.
2. Inherit line-height from \`html\` so users can set them as a class directly on the \`html\` element.
*/

body {
  margin: 0;
  /* 1 */
  line-height: inherit;
  /* 2 */
}

/*
1. Add the correct height in Firefox.
2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)
3. Ensure horizontal rules are visible by default.
*/

hr {
  height: 0;
  /* 1 */
  color: inherit;
  /* 2 */
  border-top-width: 1px;
  /* 3 */
}

/*
Add the correct text decoration in Chrome, Edge, and Safari.
*/

abbr:where([title]) {
  -webkit-text-decoration: underline dotted;
          text-decoration: underline dotted;
}

/*
Remove the default font size and weight for headings.
*/

h1,
h2,
h3,
h4,
h5,
h6 {
  font-size: inherit;
  font-weight: inherit;
}

/*
Reset links to optimize for opt-in styling instead of opt-out.
*/

a {
  color: inherit;
  text-decoration: inherit;
}

/*
Add the correct font weight in Edge and Safari.
*/

b,
strong {
  font-weight: bolder;
}

/*
1. Use the user's configured \`mono\` font-family by default.
2. Use the user's configured \`mono\` font-feature-settings by default.
3. Use the user's configured \`mono\` font-variation-settings by default.
4. Correct the odd \`em\` font sizing in all browsers.
*/

code,
kbd,
samp,
pre {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  /* 1 */
  font-feature-settings: normal;
  /* 2 */
  font-variation-settings: normal;
  /* 3 */
  font-size: 1em;
  /* 4 */
}

/*
Add the correct font size in all browsers.
*/

small {
  font-size: 80%;
}

/*
Prevent \`sub\` and \`sup\` elements from affecting the line height in all browsers.
*/

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sub {
  bottom: -0.25em;
}

sup {
  top: -0.5em;
}

/*
1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)
2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)
3. Remove gaps between table borders by default.
*/

table {
  text-indent: 0;
  /* 1 */
  border-color: inherit;
  /* 2 */
  border-collapse: collapse;
  /* 3 */
}

/*
1. Change the font styles in all browsers.
2. Remove the margin in Firefox and Safari.
3. Remove default padding in all browsers.
*/

button,
input,
optgroup,
select,
textarea {
  font-family: inherit;
  /* 1 */
  font-feature-settings: inherit;
  /* 1 */
  font-variation-settings: inherit;
  /* 1 */
  font-size: 100%;
  /* 1 */
  font-weight: inherit;
  /* 1 */
  line-height: inherit;
  /* 1 */
  letter-spacing: inherit;
  /* 1 */
  color: inherit;
  /* 1 */
  margin: 0;
  /* 2 */
  padding: 0;
  /* 3 */
}

/*
Remove the inheritance of text transform in Edge and Firefox.
*/

button,
select {
  text-transform: none;
}

/*
1. Correct the inability to style clickable types in iOS and Safari.
2. Remove default button styles.
*/

button,
input:where([type='button']),
input:where([type='reset']),
input:where([type='submit']) {
  -webkit-appearance: button;
  /* 1 */
  background-color: transparent;
  /* 2 */
  background-image: none;
  /* 2 */
}

/*
Use the modern Firefox focus style for all focusable elements.
*/

:-moz-focusring {
  outline: auto;
}

/*
Remove the additional \`:invalid\` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)
*/

:-moz-ui-invalid {
  box-shadow: none;
}

/*
Add the correct vertical alignment in Chrome and Firefox.
*/

progress {
  vertical-align: baseline;
}

/*
Correct the cursor style of increment and decrement buttons in Safari.
*/

::-webkit-inner-spin-button,
::-webkit-outer-spin-button {
  height: auto;
}

/*
1. Correct the odd appearance in Chrome and Safari.
2. Correct the outline style in Safari.
*/

[type='search'] {
  -webkit-appearance: textfield;
  /* 1 */
  outline-offset: -2px;
  /* 2 */
}

/*
Remove the inner padding in Chrome and Safari on macOS.
*/

::-webkit-search-decoration {
  -webkit-appearance: none;
}

/*
1. Correct the inability to style clickable types in iOS and Safari.
2. Change font properties to \`inherit\` in Safari.
*/

::-webkit-file-upload-button {
  -webkit-appearance: button;
  /* 1 */
  font: inherit;
  /* 2 */
}

/*
Add the correct display in Chrome and Safari.
*/

summary {
  display: list-item;
}

/*
Removes the default spacing and border for appropriate elements.
*/

blockquote,
dl,
dd,
h1,
h2,
h3,
h4,
h5,
h6,
hr,
figure,
p,
pre {
  margin: 0;
}

fieldset {
  margin: 0;
  padding: 0;
}

legend {
  padding: 0;
}

ol,
ul,
menu {
  list-style: none;
  margin: 0;
  padding: 0;
}

/*
Reset default styling for dialogs.
*/

dialog {
  padding: 0;
}

/*
Prevent resizing textareas horizontally by default.
*/

textarea {
  resize: vertical;
}

/*
1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)
2. Set the default placeholder color to the user's configured gray 400 color.
*/

input::-moz-placeholder, textarea::-moz-placeholder {
  opacity: 1;
  /* 1 */
  color: #9ca3af;
  /* 2 */
}

input::placeholder,
textarea::placeholder {
  opacity: 1;
  /* 1 */
  color: #9ca3af;
  /* 2 */
}

/*
Set the default cursor for buttons.
*/

button,
[role="button"] {
  cursor: pointer;
}

/*
Make sure disabled buttons don't get the pointer cursor.
*/

:disabled {
  cursor: default;
}

/*
1. Make replaced elements \`display: block\` by default. (https://github.com/mozdevs/cssremedy/issues/14)
2. Add \`vertical-align: middle\` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)
   This can trigger a poorly considered lint error in some tools but is included by design.
*/

img,
svg,
video,
canvas,
audio,
iframe,
embed,
object {
  display: block;
  /* 1 */
  vertical-align: middle;
  /* 2 */
}

/*
Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)
*/

img,
video {
  max-width: 100%;
  height: auto;
}

/* Make elements with the HTML hidden attribute stay hidden by default */

[hidden]:where(:not([hidden="until-found"])) {
  display: none;
}

.m-0 {
  margin: 0px;
}

.mx-4 {
  margin-left: 1rem;
  margin-right: 1rem;
}

.mx-auto {
  margin-left: auto;
  margin-right: auto;
}

.mb-0 {
  margin-bottom: 0px;
}

.mb-1 {
  margin-bottom: 0.25rem;
}

.mb-2 {
  margin-bottom: 0.5rem;
}

.mb-3 {
  margin-bottom: 0.75rem;
}

.mb-4 {
  margin-bottom: 1rem;
}

.mb-8 {
  margin-bottom: 2rem;
}

.ml-4 {
  margin-left: 1rem;
}

.ml-8 {
  margin-left: 2rem;
}

.mr-12 {
  margin-right: 3rem;
}

.mr-2 {
  margin-right: 0.5rem;
}

.mr-8 {
  margin-right: 2rem;
}

.mt-2 {
  margin-top: 0.5rem;
}

.mt-4 {
  margin-top: 1rem;
}

.mt-8 {
  margin-top: 2rem;
}

.block {
  display: block;
}

.hidden {
  display: none;
}

.min-h-screen {
  min-height: 100vh;
}

.max-w-\\[60em\\] {
  max-width: 60em;
}

.cursor-pointer {
  cursor: pointer;
}

.overflow-hidden {
  overflow: hidden;
}

.overflow-x-auto {
  overflow-x: auto;
}

.text-ellipsis {
  text-overflow: ellipsis;
}

.whitespace-nowrap {
  white-space: nowrap;
}

.whitespace-pre {
  white-space: pre;
}

.break-all {
  word-break: break-all;
}

.border {
  border-width: 1px;
}

.border-red-700 {
  --tw-border-opacity: 1;
  border-color: rgb(185 28 28 / var(--tw-border-opacity, 1));
}

.border-vs-highlight {
  --tw-border-opacity: 1;
  border-color: rgb(139 105 20 / var(--tw-border-opacity, 1));
}

.bg-green-600\\/20 {
  background-color: rgb(22 163 74 / 0.2);
}

.bg-red-600\\/20 {
  background-color: rgb(220 38 38 / 0.2);
}

.bg-vs-bg {
  --tw-bg-opacity: 1;
  background-color: rgb(30 30 30 / var(--tw-bg-opacity, 1));
}

.bg-vs-bg-secondary {
  --tw-bg-opacity: 1;
  background-color: rgb(45 45 48 / var(--tw-bg-opacity, 1));
}

.p-4 {
  padding: 1rem;
}

.px-4 {
  padding-left: 1rem;
  padding-right: 1rem;
}

.py-2 {
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
}

.pb-0 {
  padding-bottom: 0px;
}

.text-center {
  text-align: center;
}

.font-mono {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

.font-bold {
  font-weight: 700;
}

.uppercase {
  text-transform: uppercase;
}

.italic {
  font-style: italic;
}

.text-gray-400 {
  --tw-text-opacity: 1;
  color: rgb(156 163 175 / var(--tw-text-opacity, 1));
}

.text-gray-500 {
  --tw-text-opacity: 1;
  color: rgb(107 114 128 / var(--tw-text-opacity, 1));
}

.text-green-400 {
  --tw-text-opacity: 1;
  color: rgb(74 222 128 / var(--tw-text-opacity, 1));
}

.text-red-400 {
  --tw-text-opacity: 1;
  color: rgb(248 113 113 / var(--tw-text-opacity, 1));
}

.text-vs-assistant {
  --tw-text-opacity: 1;
  color: rgb(206 145 120 / var(--tw-text-opacity, 1));
}

.text-vs-function {
  --tw-text-opacity: 1;
  color: rgb(220 220 170 / var(--tw-text-opacity, 1));
}

.text-vs-muted {
  --tw-text-opacity: 1;
  color: rgb(140 140 140 / var(--tw-text-opacity, 1));
}

.text-vs-nav-active {
  --tw-text-opacity: 1;
  color: rgb(244 135 113 / var(--tw-text-opacity, 1));
}

.text-vs-text {
  --tw-text-opacity: 1;
  color: rgb(212 212 212 / var(--tw-text-opacity, 1));
}

.text-vs-type {
  --tw-text-opacity: 1;
  color: rgb(78 201 176 / var(--tw-text-opacity, 1));
}

.text-vs-user {
  --tw-text-opacity: 1;
  color: rgb(106 153 85 / var(--tw-text-opacity, 1));
}

.line-through {
  text-decoration-line: line-through;
}

.shadow {
  --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}

.filter {
  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}

.transition-colors {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

html, body {
  font-size: 12px;
  background-color: #1e1e1e;
  /* vs-bg color */
}

/* Text wrapping only for markdown content */

.markdown-content {
  word-wrap: break-word;
  overflow-wrap: break-word;
  word-break: break-word;
  max-width: 100%;
  overflow-x: hidden;
}

/* Terminal-style markdown styling - full line spacing only */

.markdown-content h1,\r
.markdown-content h2,\r
.markdown-content h3,\r
.markdown-content h4,\r
.markdown-content h5,\r
.markdown-content h6 {
  font-size: inherit;
  /* Same as body text */
  font-weight: bold;
  color: #dcdcaa;
  /* vs-function color */
  margin: 1em 0;
  /* Full line spacing */
}

.markdown-content p {
  margin: 0 0 1em 0;
  /* One line after paragraphs */
  font-size: inherit;
}

.markdown-content strong,\r
.markdown-content b {
  font-weight: bold;
  color: #d4d4d4;
  /* vs-text color */
}

.markdown-content em,\r
.markdown-content i {
  font-style: italic;
  color: #ce9178;
  /* vs-assistant color */
}

.markdown-content code {
  font-family: monospace;
  font-size: inherit;
  color: #4ec9b0;
  /* vs-type color */
}

.markdown-content pre {
  font-family: monospace;
  font-size: inherit;
  margin: 1em 0;
  /* Full line spacing */
  white-space: pre-wrap;
  /* Wrap long lines */
}

.markdown-content pre code {
  color: inherit;
}

.markdown-content ul,\r
.markdown-content ol {
  margin: 1em 0;
  /* Full line spacing */
  padding-left: 0;
  list-style: none;
}

.markdown-content li {
  margin: 0;
  /* No spacing between list items */
  font-size: inherit;
  padding-left: 1.5em;
  position: relative;
}

.markdown-content ul li::before {
  content: "- ";
  color: #8c8c8c;
  /* vs-muted */
  position: absolute;
  left: 0;
}

.markdown-content ol li::before {
  content: counter(list-item) ". ";
  color: #8c8c8c;
  /* vs-muted */
  position: absolute;
  left: 0;
}

.markdown-content blockquote {
  border-left: 2px solid #8c8c8c;
  /* vs-muted */
  padding-left: 0.75em;
  margin: 1em 0;
  /* Full line spacing */
  color: #8c8c8c;
  /* vs-muted */
  font-style: italic;
}

.markdown-content a {
  color: #569cd6;
  /* vs-accent */
  text-decoration: underline;
}

.markdown-content a:hover {
  color: #ffffff;
}

.markdown-content hr {
  border: none;
  border-top: 1px solid #3e3e42;
  /* vs-border */
  margin: 1em 0;
  /* Full line spacing */
}

/* Remove top margin from first element to avoid double spacing */

.markdown-content > *:first-child {
  margin-top: 0;
}

/* Remove bottom margin from last element to avoid extra spacing */

.markdown-content > *:last-child {
  margin-bottom: 0;
}

.first\\:mt-0:first-child {
  margin-top: 0px;
}

.hover\\:bg-vs-border:hover {
  --tw-bg-opacity: 1;
  background-color: rgb(62 62 66 / var(--tw-bg-opacity, 1));
}

.hover\\:text-red-300:hover {
  --tw-text-opacity: 1;
  color: rgb(252 165 165 / var(--tw-text-opacity, 1));
}

.hover\\:text-vs-accent:hover {
  --tw-text-opacity: 1;
  color: rgb(86 156 214 / var(--tw-text-opacity, 1));
}

.hover\\:text-white:hover {
  --tw-text-opacity: 1;
  color: rgb(255 255 255 / var(--tw-text-opacity, 1));
}\r
\r
`;if(mt&&mt!=="__CSS_CONTENT__"){let l=document.createElement("style");l.textContent=mt,document.head.appendChild(l)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",rs):rs();function rs(){let l=new A,e=document.getElementById("app");e?e.appendChild(l):console.error("App mount point not found")}})();
/*! Bundled license information:

@lit-labs/ssr-dom-shim/lib/element-internals.js:
@lit-labs/ssr-dom-shim/lib/events.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit-labs/ssr-dom-shim/index.js:
@lit/reactive-element/node/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/lit-html.js:
lit-element/lit-element.js:
@lit/reactive-element/node/decorators/custom-element.js:
@lit/reactive-element/node/decorators/property.js:
@lit/reactive-element/node/decorators/state.js:
@lit/reactive-element/node/decorators/event-options.js:
@lit/reactive-element/node/decorators/base.js:
@lit/reactive-element/node/decorators/query.js:
@lit/reactive-element/node/decorators/query-all.js:
@lit/reactive-element/node/decorators/query-async.js:
@lit/reactive-element/node/decorators/query-assigned-nodes.js:
lit-html/node/directive.js:
lit-html/node/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BsaXQtbGFicy9zc3ItZG9tLXNoaW0vc3JjL2xpYi9lbGVtZW50LWludGVybmFscy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGxpdC1sYWJzL3Nzci1kb20tc2hpbS9zcmMvbGliL2V2ZW50cy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGxpdC1sYWJzL3Nzci1kb20tc2hpbS9zcmMvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9zcmMvY3NzLXRhZy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L3NyYy9yZWFjdGl2ZS1lbGVtZW50LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9zcmMvbGl0LWh0bWwudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L3NyYy9saXQtZWxlbWVudC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L3NyYy9kZWNvcmF0b3JzL2N1c3RvbS1lbGVtZW50LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvc3JjL2RlY29yYXRvcnMvcHJvcGVydHkudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9zcmMvZGVjb3JhdG9ycy9zdGF0ZS50cyIsICIuLi8uLi9zcmMvc2hhcmVkLWNvbnZlcnNhdGlvbi1wcm9jZXNzb3IudHMiLCAiLi4vc3JjL2FwcC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL2RpcmVjdGl2ZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL2RpcmVjdGl2ZXMvdW5zYWZlLWh0bWwudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RpZmYvbGliZXNtL2RpZmYvYmFzZS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZGlmZi9saWJlc20vZGlmZi9saW5lLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9tYXJrZWQvc3JjL2RlZmF1bHRzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9tYXJrZWQvc3JjL2hlbHBlcnMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL21hcmtlZC9zcmMvVG9rZW5pemVyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9tYXJrZWQvc3JjL3J1bGVzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9tYXJrZWQvc3JjL0xleGVyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9tYXJrZWQvc3JjL1JlbmRlcmVyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9tYXJrZWQvc3JjL1RleHRSZW5kZXJlci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbWFya2VkL3NyYy9QYXJzZXIudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL21hcmtlZC9zcmMvSG9va3MudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL21hcmtlZC9zcmMvSW5zdGFuY2UudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL21hcmtlZC9zcmMvbWFya2VkLnRzIiwgIi4uL3NyYy91dGlscy9tYXJrZG93bi50cyIsICIuLi9zcmMvY29tcG9uZW50cy9zaW1wbGUtY29udmVyc2F0aW9uLXZpZXcudHMiLCAiLi4vc3JjL2NvbXBvbmVudHMvcmF3LXBhaXJzLXZpZXcudHMiLCAiLi4vc3JjL2NvbXBvbmVudHMvanNvbi12aWV3LnRzIiwgIi4uL3NyYy9pbmRleC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbnR5cGUgQVJJQUF0dHJpYnV0ZU1hcCA9IHtcbiAgW0sgaW4ga2V5b2YgQVJJQU1peGluXTogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBNYXAgb2YgQVJJQU1peGluIHByb3BlcnRpZXMgdG8gYXR0cmlidXRlc1xuICovXG5leHBvcnQgY29uc3QgYXJpYU1peGluQXR0cmlidXRlczogQVJJQUF0dHJpYnV0ZU1hcCA9IHtcbiAgYXJpYUF0b21pYzogJ2FyaWEtYXRvbWljJyxcbiAgYXJpYUF1dG9Db21wbGV0ZTogJ2FyaWEtYXV0b2NvbXBsZXRlJyxcbiAgYXJpYUJyYWlsbGVMYWJlbDogJ2FyaWEtYnJhaWxsZWxhYmVsJyxcbiAgYXJpYUJyYWlsbGVSb2xlRGVzY3JpcHRpb246ICdhcmlhLWJyYWlsbGVyb2xlZGVzY3JpcHRpb24nLFxuICBhcmlhQnVzeTogJ2FyaWEtYnVzeScsXG4gIGFyaWFDaGVja2VkOiAnYXJpYS1jaGVja2VkJyxcbiAgYXJpYUNvbENvdW50OiAnYXJpYS1jb2xjb3VudCcsXG4gIGFyaWFDb2xJbmRleDogJ2FyaWEtY29saW5kZXgnLFxuICBhcmlhQ29sU3BhbjogJ2FyaWEtY29sc3BhbicsXG4gIGFyaWFDdXJyZW50OiAnYXJpYS1jdXJyZW50JyxcbiAgYXJpYURlc2NyaXB0aW9uOiAnYXJpYS1kZXNjcmlwdGlvbicsXG4gIGFyaWFEaXNhYmxlZDogJ2FyaWEtZGlzYWJsZWQnLFxuICBhcmlhRXhwYW5kZWQ6ICdhcmlhLWV4cGFuZGVkJyxcbiAgYXJpYUhhc1BvcHVwOiAnYXJpYS1oYXNwb3B1cCcsXG4gIGFyaWFIaWRkZW46ICdhcmlhLWhpZGRlbicsXG4gIGFyaWFJbnZhbGlkOiAnYXJpYS1pbnZhbGlkJyxcbiAgYXJpYUtleVNob3J0Y3V0czogJ2FyaWEta2V5c2hvcnRjdXRzJyxcbiAgYXJpYUxhYmVsOiAnYXJpYS1sYWJlbCcsXG4gIGFyaWFMZXZlbDogJ2FyaWEtbGV2ZWwnLFxuICBhcmlhTGl2ZTogJ2FyaWEtbGl2ZScsXG4gIGFyaWFNb2RhbDogJ2FyaWEtbW9kYWwnLFxuICBhcmlhTXVsdGlMaW5lOiAnYXJpYS1tdWx0aWxpbmUnLFxuICBhcmlhTXVsdGlTZWxlY3RhYmxlOiAnYXJpYS1tdWx0aXNlbGVjdGFibGUnLFxuICBhcmlhT3JpZW50YXRpb246ICdhcmlhLW9yaWVudGF0aW9uJyxcbiAgYXJpYVBsYWNlaG9sZGVyOiAnYXJpYS1wbGFjZWhvbGRlcicsXG4gIGFyaWFQb3NJblNldDogJ2FyaWEtcG9zaW5zZXQnLFxuICBhcmlhUHJlc3NlZDogJ2FyaWEtcHJlc3NlZCcsXG4gIGFyaWFSZWFkT25seTogJ2FyaWEtcmVhZG9ubHknLFxuICBhcmlhUmVxdWlyZWQ6ICdhcmlhLXJlcXVpcmVkJyxcbiAgYXJpYVJvbGVEZXNjcmlwdGlvbjogJ2FyaWEtcm9sZWRlc2NyaXB0aW9uJyxcbiAgYXJpYVJvd0NvdW50OiAnYXJpYS1yb3djb3VudCcsXG4gIGFyaWFSb3dJbmRleDogJ2FyaWEtcm93aW5kZXgnLFxuICBhcmlhUm93U3BhbjogJ2FyaWEtcm93c3BhbicsXG4gIGFyaWFTZWxlY3RlZDogJ2FyaWEtc2VsZWN0ZWQnLFxuICBhcmlhU2V0U2l6ZTogJ2FyaWEtc2V0c2l6ZScsXG4gIGFyaWFTb3J0OiAnYXJpYS1zb3J0JyxcbiAgYXJpYVZhbHVlTWF4OiAnYXJpYS12YWx1ZW1heCcsXG4gIGFyaWFWYWx1ZU1pbjogJ2FyaWEtdmFsdWVtaW4nLFxuICBhcmlhVmFsdWVOb3c6ICdhcmlhLXZhbHVlbm93JyxcbiAgYXJpYVZhbHVlVGV4dDogJ2FyaWEtdmFsdWV0ZXh0JyxcbiAgcm9sZTogJ3JvbGUnLFxufTtcblxudHlwZSBFbGVtZW50SW50ZXJuYWxzSW50ZXJmYWNlID0gRWxlbWVudEludGVybmFscztcblxuLy8gU2hpbSB0aGUgZ2xvYmFsIGVsZW1lbnQgaW50ZXJuYWxzIG9iamVjdFxuLy8gTWV0aG9kcyBzaG91bGQgYmUgZmluZSBhcyBub29wcyBhbmQgcHJvcGVydGllcyBjYW4gZ2VuZXJhbGx5XG4vLyBiZSB3aGlsZSBvbiB0aGUgc2VydmVyLlxuZXhwb3J0IGNvbnN0IEVsZW1lbnRJbnRlcm5hbHNTaGltID0gY2xhc3MgRWxlbWVudEludGVybmFsc1xuICBpbXBsZW1lbnRzIEVsZW1lbnRJbnRlcm5hbHNJbnRlcmZhY2VcbntcbiAgYXJpYUF0b21pYyA9ICcnO1xuICBhcmlhQXV0b0NvbXBsZXRlID0gJyc7XG4gIGFyaWFCcmFpbGxlTGFiZWwgPSAnJztcbiAgYXJpYUJyYWlsbGVSb2xlRGVzY3JpcHRpb24gPSAnJztcbiAgYXJpYUJ1c3kgPSAnJztcbiAgYXJpYUNoZWNrZWQgPSAnJztcbiAgYXJpYUNvbENvdW50ID0gJyc7XG4gIGFyaWFDb2xJbmRleCA9ICcnO1xuICBhcmlhQ29sU3BhbiA9ICcnO1xuICBhcmlhQ3VycmVudCA9ICcnO1xuICBhcmlhRGVzY3JpcHRpb24gPSAnJztcbiAgYXJpYURpc2FibGVkID0gJyc7XG4gIGFyaWFFeHBhbmRlZCA9ICcnO1xuICBhcmlhSGFzUG9wdXAgPSAnJztcbiAgYXJpYUhpZGRlbiA9ICcnO1xuICBhcmlhSW52YWxpZCA9ICcnO1xuICBhcmlhS2V5U2hvcnRjdXRzID0gJyc7XG4gIGFyaWFMYWJlbCA9ICcnO1xuICBhcmlhTGV2ZWwgPSAnJztcbiAgYXJpYUxpdmUgPSAnJztcbiAgYXJpYU1vZGFsID0gJyc7XG4gIGFyaWFNdWx0aUxpbmUgPSAnJztcbiAgYXJpYU11bHRpU2VsZWN0YWJsZSA9ICcnO1xuICBhcmlhT3JpZW50YXRpb24gPSAnJztcbiAgYXJpYVBsYWNlaG9sZGVyID0gJyc7XG4gIGFyaWFQb3NJblNldCA9ICcnO1xuICBhcmlhUHJlc3NlZCA9ICcnO1xuICBhcmlhUmVhZE9ubHkgPSAnJztcbiAgYXJpYVJlcXVpcmVkID0gJyc7XG4gIGFyaWFSb2xlRGVzY3JpcHRpb24gPSAnJztcbiAgYXJpYVJvd0NvdW50ID0gJyc7XG4gIGFyaWFSb3dJbmRleCA9ICcnO1xuICBhcmlhUm93U3BhbiA9ICcnO1xuICBhcmlhU2VsZWN0ZWQgPSAnJztcbiAgYXJpYVNldFNpemUgPSAnJztcbiAgYXJpYVNvcnQgPSAnJztcbiAgYXJpYVZhbHVlTWF4ID0gJyc7XG4gIGFyaWFWYWx1ZU1pbiA9ICcnO1xuICBhcmlhVmFsdWVOb3cgPSAnJztcbiAgYXJpYVZhbHVlVGV4dCA9ICcnO1xuICByb2xlID0gJyc7XG4gIF9faG9zdDogSFRNTEVsZW1lbnQ7XG4gIGdldCBzaGFkb3dSb290KCkge1xuICAgIC8vIEdyYWIgdGhlIHNoYWRvdyByb290IGluc3RhbmNlIGZyb20gdGhlIEVsZW1lbnQgc2hpbVxuICAgIC8vIHRvIGVuc3VyZSB0aGF0IHRoZSBzaGFkb3cgcm9vdCBpcyBhbHdheXMgYXZhaWxhYmxlXG4gICAgLy8gdG8gdGhlIGludGVybmFscyBpbnN0YW5jZSBldmVuIGlmIHRoZSBtb2RlIGlzICdjbG9zZWQnXG4gICAgcmV0dXJuICh0aGlzLl9faG9zdCBhcyBIVE1MRWxlbWVudCAmIHtfX3NoYWRvd1Jvb3Q6IFNoYWRvd1Jvb3R9KVxuICAgICAgLl9fc2hhZG93Um9vdDtcbiAgfVxuICBjb25zdHJ1Y3RvcihfaG9zdDogSFRNTEVsZW1lbnQpIHtcbiAgICB0aGlzLl9faG9zdCA9IF9ob3N0O1xuICB9XG4gIGNoZWNrVmFsaWRpdHkoKSB7XG4gICAgLy8gVE9ETyhhdWd1c3RqaykgQ29uc2lkZXIgYWN0dWFsbHkgaW1wbGVtZW50aW5nIGxvZ2ljLlxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbGl0L2xpdC9pc3N1ZXMvMzc0MFxuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdgRWxlbWVudEludGVybmFscy5jaGVja1ZhbGlkaXR5KClgIHdhcyBjYWxsZWQgb24gdGhlIHNlcnZlci4nICtcbiAgICAgICAgJ1RoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm5zIHRydWUuJ1xuICAgICk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZm9ybSA9IG51bGw7XG4gIGxhYmVscyA9IFtdIGFzIHVua25vd24gYXMgTm9kZUxpc3RPZjxIVE1MTGFiZWxFbGVtZW50PjtcbiAgcmVwb3J0VmFsaWRpdHkoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgc2V0Rm9ybVZhbHVlKCk6IHZvaWQge31cbiAgc2V0VmFsaWRpdHkoKTogdm9pZCB7fVxuICBzdGF0ZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgdmFsaWRhdGlvbk1lc3NhZ2UgPSAnJztcbiAgdmFsaWRpdHkgPSB7fSBhcyBWYWxpZGl0eVN0YXRlO1xuICB3aWxsVmFsaWRhdGUgPSB0cnVlO1xufTtcblxuY29uc3QgRWxlbWVudEludGVybmFsc1NoaW1XaXRoUmVhbFR5cGUgPVxuICBFbGVtZW50SW50ZXJuYWxzU2hpbSBhcyBvYmplY3QgYXMgdHlwZW9mIEVsZW1lbnRJbnRlcm5hbHM7XG5leHBvcnQge0VsZW1lbnRJbnRlcm5hbHNTaGltV2l0aFJlYWxUeXBlIGFzIEVsZW1lbnRJbnRlcm5hbHN9O1xuXG5leHBvcnQgY29uc3QgSFlEUkFURV9JTlRFUk5BTFNfQVRUUl9QUkVGSVggPSAnaHlkcmF0ZS1pbnRlcm5hbHMtJztcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLyoqXG4gKiBUaGlzIGlzIGEgYmFzaWMgaW1wbGVtZW50YXRpb24gb2YgYW4gRXZlbnRUYXJnZXQsIEV2ZW50IGFuZCBDdXN0b21FdmVudC5cbiAqXG4gKiBUaGlzIGlzIG5vdCBmdWxseSBzcGVjIGNvbXBsaWFudCAoZS5nLiB2YWxpZGF0aW9uKSxcbiAqIGJ1dCBzaG91bGQgd29yayB3ZWxsIGVub3VnaCBmb3Igb3VyIHVzZSBjYXNlcy5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZy8jZXZlbnR0YXJnZXRcbiAqIEBzZWUgaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnLyNldmVudFxuICogQHNlZSBodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcvI2N1c3RvbWV2ZW50XG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudFRhcmdldFNoaW1NZXRhIHtcbiAgLyoqXG4gICAqIFRoZSBldmVudCB0YXJnZXQgcGFyZW50IHJlcHJlc2VudHMgdGhlIHByZXZpb3VzIGV2ZW50IHRhcmdldCBmb3IgYW4gZXZlbnRcbiAgICogaW4gY2FwdHVyZSBwaGFzZSBhbmQgdGhlIG5leHQgZXZlbnQgdGFyZ2V0IGZvciBhIGJ1YmJsaW5nIGV2ZW50LlxuICAgKiBOb3RlIHRoYXQgdGhpcyBpcyBub3QgdGhlIGVsZW1lbnQgcGFyZW50XG4gICAqL1xuICBfX2V2ZW50VGFyZ2V0UGFyZW50OiBFdmVudFRhcmdldCB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIFRoZSBob3N0IGV2ZW50IHRhcmdldC9lbGVtZW50IG9mIHRoaXMgZXZlbnQgdGFyZ2V0LCBpZiB0aGlzIGV2ZW50IHRhcmdldFxuICAgKiBpcyBpbnNpZGUgYSBTaGFkb3cgRE9NLlxuICAgKi9cbiAgX19ob3N0OiBFdmVudFRhcmdldCB8IHVuZGVmaW5lZDtcbn1cblxudHlwZSBFdmVudFRhcmdldEludGVyZmFjZSA9IEV2ZW50VGFyZ2V0O1xuXG5jb25zdCBpc0NhcHR1cmVFdmVudExpc3RlbmVyID0gKFxuICBvcHRpb25zOiB1bmRlZmluZWQgfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyB8IGJvb2xlYW5cbikgPT4gKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucz8uY2FwdHVyZSA/PyBmYWxzZSk7XG5cbi8vIEV2ZW50IHBoYXNlc1xuY29uc3QgTk9ORSA9IDA7XG5jb25zdCBDQVBUVVJJTkdfUEhBU0UgPSAxO1xuY29uc3QgQVRfVEFSR0VUID0gMjtcbmNvbnN0IEJVQkJMSU5HX1BIQVNFID0gMztcblxuLy8gU2hpbSB0aGUgZ2xvYmFsIEV2ZW50VGFyZ2V0IG9iamVjdFxuY29uc3QgRXZlbnRUYXJnZXRTaGltID0gY2xhc3MgRXZlbnRUYXJnZXRcbiAgaW1wbGVtZW50cyBFdmVudFRhcmdldEludGVyZmFjZSwgRXZlbnRUYXJnZXRTaGltTWV0YVxue1xuICBwcml2YXRlIF9fZXZlbnRMaXN0ZW5lcnMgPSBuZXcgTWFwPFxuICAgIHN0cmluZyxcbiAgICBNYXA8RXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnM+XG4gID4oKTtcbiAgcHJpdmF0ZSBfX2NhcHR1cmVFdmVudExpc3RlbmVycyA9IG5ldyBNYXA8XG4gICAgc3RyaW5nLFxuICAgIE1hcDxFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucz5cbiAgPigpO1xuICBfX2V2ZW50VGFyZ2V0UGFyZW50OiBFdmVudFRhcmdldCB8IHVuZGVmaW5lZDtcbiAgX19ob3N0OiBFdmVudFRhcmdldCB8IHVuZGVmaW5lZDtcblxuICBhZGRFdmVudExpc3RlbmVyKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBjYWxsYmFjazogRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCB8IG51bGwsXG4gICAgb3B0aW9ucz86IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zIHwgYm9vbGVhblxuICApOiB2b2lkIHtcbiAgICBpZiAoY2FsbGJhY2sgPT09IHVuZGVmaW5lZCB8fCBjYWxsYmFjayA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBldmVudExpc3RlbmVyc01hcCA9IGlzQ2FwdHVyZUV2ZW50TGlzdGVuZXIob3B0aW9ucylcbiAgICAgID8gdGhpcy5fX2NhcHR1cmVFdmVudExpc3RlbmVyc1xuICAgICAgOiB0aGlzLl9fZXZlbnRMaXN0ZW5lcnM7XG4gICAgbGV0IGV2ZW50TGlzdGVuZXJzID0gZXZlbnRMaXN0ZW5lcnNNYXAuZ2V0KHR5cGUpO1xuICAgIGlmIChldmVudExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBldmVudExpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICAgIGV2ZW50TGlzdGVuZXJzTWFwLnNldCh0eXBlLCBldmVudExpc3RlbmVycyk7XG4gICAgfSBlbHNlIGlmIChldmVudExpc3RlbmVycy5oYXMoY2FsbGJhY2spKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgbm9ybWFsaXplZE9wdGlvbnMgPVxuICAgICAgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMgPyBvcHRpb25zIDoge307XG4gICAgbm9ybWFsaXplZE9wdGlvbnMuc2lnbmFsPy5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+XG4gICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIG9wdGlvbnMpXG4gICAgKTtcbiAgICBldmVudExpc3RlbmVycy5zZXQoY2FsbGJhY2ssIG5vcm1hbGl6ZWRPcHRpb25zID8/IHt9KTtcbiAgfVxuICByZW1vdmVFdmVudExpc3RlbmVyKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBjYWxsYmFjazogRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCB8IG51bGwsXG4gICAgb3B0aW9ucz86IEV2ZW50TGlzdGVuZXJPcHRpb25zIHwgYm9vbGVhblxuICApOiB2b2lkIHtcbiAgICBpZiAoY2FsbGJhY2sgPT09IHVuZGVmaW5lZCB8fCBjYWxsYmFjayA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBldmVudExpc3RlbmVyc01hcCA9IGlzQ2FwdHVyZUV2ZW50TGlzdGVuZXIob3B0aW9ucylcbiAgICAgID8gdGhpcy5fX2NhcHR1cmVFdmVudExpc3RlbmVyc1xuICAgICAgOiB0aGlzLl9fZXZlbnRMaXN0ZW5lcnM7XG4gICAgY29uc3QgZXZlbnRMaXN0ZW5lcnMgPSBldmVudExpc3RlbmVyc01hcC5nZXQodHlwZSk7XG4gICAgaWYgKGV2ZW50TGlzdGVuZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGV2ZW50TGlzdGVuZXJzLmRlbGV0ZShjYWxsYmFjayk7XG4gICAgICBpZiAoIWV2ZW50TGlzdGVuZXJzLnNpemUpIHtcbiAgICAgICAgZXZlbnRMaXN0ZW5lcnNNYXAuZGVsZXRlKHR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBkaXNwYXRjaEV2ZW50KGV2ZW50OiBFdmVudCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNvbXBvc2VkUGF0aDogRXZlbnRUYXJnZXRbXSA9IFt0aGlzXTtcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5fX2V2ZW50VGFyZ2V0UGFyZW50O1xuICAgIGlmIChldmVudC5jb21wb3NlZCkge1xuICAgICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICBjb21wb3NlZFBhdGgucHVzaChwYXJlbnQpO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX19ldmVudFRhcmdldFBhcmVudDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdGhlIGV2ZW50IGlzIG5vdCBjb21wb3NlZCBhbmQgdGhlIGV2ZW50IHdhcyBkaXNwYXRjaGVkIGluc2lkZVxuICAgICAgLy8gc2hhZG93IERPTSwgd2UgbmVlZCB0byBzdG9wIGJlZm9yZSB0aGUgaG9zdCBvZiB0aGUgc2hhZG93IERPTS5cbiAgICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50ICE9PSB0aGlzLl9faG9zdCkge1xuICAgICAgICBjb21wb3NlZFBhdGgucHVzaChwYXJlbnQpO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX19ldmVudFRhcmdldFBhcmVudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSBuZWVkIHRvIHBhdGNoIHZhcmlvdXMgcHJvcGVydGllcyB0aGF0IHdvdWxkIGVpdGhlciBiZSBlbXB0eSBvciB3cm9uZ1xuICAgIC8vIGluIHRoaXMgc2NlbmFyaW8uXG4gICAgbGV0IHN0b3BQcm9wYWdhdGlvbiA9IGZhbHNlO1xuICAgIGxldCBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSBmYWxzZTtcbiAgICBsZXQgZXZlbnRQaGFzZSA9IE5PTkU7XG4gICAgbGV0IHRhcmdldDogRXZlbnRUYXJnZXQgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgdG1wVGFyZ2V0OiBFdmVudFRhcmdldCB8IG51bGwgPSBudWxsO1xuICAgIGxldCBjdXJyZW50VGFyZ2V0OiBFdmVudFRhcmdldCB8IG51bGwgPSBudWxsO1xuICAgIGNvbnN0IG9yaWdpbmFsU3RvcFByb3BhZ2F0aW9uID0gZXZlbnQuc3RvcFByb3BhZ2F0aW9uO1xuICAgIGNvbnN0IG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGV2ZW50LCB7XG4gICAgICB0YXJnZXQ6IHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0YXJnZXQgPz8gdG1wVGFyZ2V0O1xuICAgICAgICB9LFxuICAgICAgICAuLi5lbnVtZXJhYmxlUHJvcGVydHksXG4gICAgICB9LFxuICAgICAgc3JjRWxlbWVudDoge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldDtcbiAgICAgICAgfSxcbiAgICAgICAgLi4uZW51bWVyYWJsZVByb3BlcnR5LFxuICAgICAgfSxcbiAgICAgIGN1cnJlbnRUYXJnZXQ6IHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBjdXJyZW50VGFyZ2V0O1xuICAgICAgICB9LFxuICAgICAgICAuLi5lbnVtZXJhYmxlUHJvcGVydHksXG4gICAgICB9LFxuICAgICAgZXZlbnRQaGFzZToge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50UGhhc2U7XG4gICAgICAgIH0sXG4gICAgICAgIC4uLmVudW1lcmFibGVQcm9wZXJ0eSxcbiAgICAgIH0sXG4gICAgICBjb21wb3NlZFBhdGg6IHtcbiAgICAgICAgdmFsdWU6ICgpID0+IGNvbXBvc2VkUGF0aCxcbiAgICAgICAgLi4uZW51bWVyYWJsZVByb3BlcnR5LFxuICAgICAgfSxcbiAgICAgIHN0b3BQcm9wYWdhdGlvbjoge1xuICAgICAgICB2YWx1ZTogKCkgPT4ge1xuICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbiA9IHRydWU7XG4gICAgICAgICAgb3JpZ2luYWxTdG9wUHJvcGFnYXRpb24uY2FsbChldmVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIC4uLmVudW1lcmFibGVQcm9wZXJ0eSxcbiAgICAgIH0sXG4gICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IHtcbiAgICAgICAgdmFsdWU6ICgpID0+IHtcbiAgICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgICAgICAgIG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLmNhbGwoZXZlbnQpO1xuICAgICAgICB9LFxuICAgICAgICAuLi5lbnVtZXJhYmxlUHJvcGVydHksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gQW4gZXZlbnQgaGFuZGxlciBjYW4gZWl0aGVyIGJlIGEgZnVuY3Rpb24sIGFuIG9iamVjdCB3aXRoIGEgaGFuZGxlRXZlbnRcbiAgICAvLyBtZXRob2Qgb3IgbnVsbC4gVGhpcyBmdW5jdGlvbiB0YWtlcyBjYXJlIHRvIGNhbGwgdGhlIGV2ZW50IGhhbmRsZXJcbiAgICAvLyBjb3JyZWN0bHkuXG4gICAgY29uc3QgaW52b2tlRXZlbnRMaXN0ZW5lciA9IChcbiAgICAgIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LFxuICAgICAgb3B0aW9uczogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMsXG4gICAgICBldmVudExpc3RlbmVyTWFwOiBNYXA8XG4gICAgICAgIEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QsXG4gICAgICAgIEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zXG4gICAgICA+XG4gICAgKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGxpc3RlbmVyKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3RlbmVyPy5oYW5kbGVFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBsaXN0ZW5lci5oYW5kbGVFdmVudChldmVudCk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5vbmNlKSB7XG4gICAgICAgIGV2ZW50TGlzdGVuZXJNYXAuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIFdoZW4gYW4gZXZlbnQgaXMgZmluaXNoZWQgYmVpbmcgZGlzcGF0Y2hlZCwgd2hpY2ggY2FuIGJlIGFmdGVyIHRoZSBldmVudFxuICAgIC8vIHRyZWUgaGFzIGJlZW4gdHJhdmVyc2VkIG9yIHN0b3BQcm9wYWdhdGlvbi9zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gaGFzXG4gICAgLy8gYmVlbiBjYWxsZWQuIE9uY2UgdGhhdCBpcyB0aGUgY2FzZSwgdGhlIGN1cnJlbnRUYXJnZXQgYW5kIGV2ZW50UGhhc2VcbiAgICAvLyBuZWVkIHRvIGJlIHJlc2V0IGFuZCBhIHZhbHVlLCByZXByZXNlbnRpbmcgd2hldGhlciB0aGUgZXZlbnQgaGFzIG5vdFxuICAgIC8vIGJlZW4gcHJldmVudGVkLCBuZWVkcyB0byBiZSByZXR1cm5lZC5cbiAgICBjb25zdCBmaW5pc2hEaXNwYXRjaCA9ICgpID0+IHtcbiAgICAgIGN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgICAgZXZlbnRQaGFzZSA9IE5PTkU7XG4gICAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfTtcblxuICAgIC8vIEFuIGV2ZW50IHN0YXJ0cyB3aXRoIHRoZSBjYXB0dXJlIG9yZGVyLCB3aGVyZSBpdCBzdGFydHMgZnJvbSB0aGUgdG9wLlxuICAgIC8vIFRoaXMgaXMgZG9uZSBldmVuIGlmIGJ1YmJsZXMgaXMgc2V0IHRvIGZhbHNlLCB3aGljaCBpcyB0aGUgZGVmYXVsdC5cbiAgICBjb25zdCBjYXB0dXJlRXZlbnRQYXRoID0gY29tcG9zZWRQYXRoLnNsaWNlKCkucmV2ZXJzZSgpO1xuICAgIC8vIElmIHRoZSBldmVudCB0YXJnZXQsIHdoaWNoIGRpc3BhdGNoZXMgdGhlIGV2ZW50LCBpcyBlaXRoZXIgaW4gdGhlIGxpZ2h0IERPTVxuICAgIC8vIG9yIHRoZSBldmVudCBpcyBub3QgY29tcG9zZWQsIHRoZSB0YXJnZXQgaXMgYWx3YXlzIGl0c2VsZi4gSWYgdGhhdCBpcyBub3RcbiAgICAvLyB0aGUgY2FzZSwgdGhlIHRhcmdldCBuZWVkcyB0byBiZSByZXRhcmdldGVkOiBodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcvI3JldGFyZ2V0XG4gICAgdGFyZ2V0ID0gIXRoaXMuX19ob3N0IHx8ICFldmVudC5jb21wb3NlZCA/IHRoaXMgOiBudWxsO1xuICAgIGNvbnN0IHJldGFyZ2V0ID0gKGV2ZW50VGFyZ2V0czogRXZlbnRUYXJnZXRbXSkgPT4ge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICB0bXBUYXJnZXQgPSB0aGlzO1xuICAgICAgd2hpbGUgKHRtcFRhcmdldC5fX2hvc3QgJiYgZXZlbnRUYXJnZXRzLmluY2x1ZGVzKHRtcFRhcmdldC5fX2hvc3QpKSB7XG4gICAgICAgIHRtcFRhcmdldCA9IHRtcFRhcmdldC5fX2hvc3Q7XG4gICAgICB9XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGV2ZW50VGFyZ2V0IG9mIGNhcHR1cmVFdmVudFBhdGgpIHtcbiAgICAgIGlmICghdGFyZ2V0ICYmICghdG1wVGFyZ2V0IHx8IHRtcFRhcmdldCA9PT0gZXZlbnRUYXJnZXQuX19ob3N0KSkge1xuICAgICAgICByZXRhcmdldChjYXB0dXJlRXZlbnRQYXRoLnNsaWNlKGNhcHR1cmVFdmVudFBhdGguaW5kZXhPZihldmVudFRhcmdldCkpKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRUYXJnZXQgPSBldmVudFRhcmdldDtcbiAgICAgIGV2ZW50UGhhc2UgPSBldmVudFRhcmdldCA9PT0gZXZlbnQudGFyZ2V0ID8gQVRfVEFSR0VUIDogQ0FQVFVSSU5HX1BIQVNFO1xuICAgICAgY29uc3QgY2FwdHVyZUV2ZW50TGlzdGVuZXJzID0gZXZlbnRUYXJnZXQuX19jYXB0dXJlRXZlbnRMaXN0ZW5lcnMuZ2V0KFxuICAgICAgICBldmVudC50eXBlXG4gICAgICApO1xuICAgICAgaWYgKGNhcHR1cmVFdmVudExpc3RlbmVycykge1xuICAgICAgICBmb3IgKGNvbnN0IFtsaXN0ZW5lciwgb3B0aW9uc10gb2YgY2FwdHVyZUV2ZW50TGlzdGVuZXJzKSB7XG4gICAgICAgICAgaW52b2tlRXZlbnRMaXN0ZW5lcihsaXN0ZW5lciwgb3B0aW9ucywgY2FwdHVyZUV2ZW50TGlzdGVuZXJzKTtcbiAgICAgICAgICBpZiAoc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAvLyBFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSBzdG9wcyBhbnkgZm9sbG93aW5nIGludm9jYXRpb25cbiAgICAgICAgICAgIC8vIG9mIGFuIGV2ZW50IGhhbmRsZXIgZXZlbiBvbiB0aGUgc2FtZSBldmVudCB0YXJnZXQuXG4gICAgICAgICAgICByZXR1cm4gZmluaXNoRGlzcGF0Y2goKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgLy8gRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkgc3RvcHMgYW55IGZvbGxvd2luZyBpbnZvY2F0aW9uXG4gICAgICAgIC8vIG9mIGFuIGV2ZW50IGhhbmRsZXIgZm9yIGFueSBmb2xsb3dpbmcgZXZlbnQgdGFyZ2V0cy5cbiAgICAgICAgcmV0dXJuIGZpbmlzaERpc3BhdGNoKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYnViYmxlRXZlbnRQYXRoID0gZXZlbnQuYnViYmxlcyA/IGNvbXBvc2VkUGF0aCA6IFt0aGlzXTtcbiAgICB0bXBUYXJnZXQgPSBudWxsO1xuICAgIGZvciAoY29uc3QgZXZlbnRUYXJnZXQgb2YgYnViYmxlRXZlbnRQYXRoKSB7XG4gICAgICBpZiAoXG4gICAgICAgICF0YXJnZXQgJiZcbiAgICAgICAgKCF0bXBUYXJnZXQgfHwgZXZlbnRUYXJnZXQgPT09ICh0bXBUYXJnZXQgYXMgRXZlbnRUYXJnZXQpLl9faG9zdClcbiAgICAgICkge1xuICAgICAgICByZXRhcmdldChcbiAgICAgICAgICBidWJibGVFdmVudFBhdGguc2xpY2UoMCwgYnViYmxlRXZlbnRQYXRoLmluZGV4T2YoZXZlbnRUYXJnZXQpICsgMSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRUYXJnZXQgPSBldmVudFRhcmdldDtcbiAgICAgIGV2ZW50UGhhc2UgPSBldmVudFRhcmdldCA9PT0gZXZlbnQudGFyZ2V0ID8gQVRfVEFSR0VUIDogQlVCQkxJTkdfUEhBU0U7XG4gICAgICBjb25zdCBjYXB0dXJlRXZlbnRMaXN0ZW5lcnMgPSBldmVudFRhcmdldC5fX2V2ZW50TGlzdGVuZXJzLmdldChcbiAgICAgICAgZXZlbnQudHlwZVxuICAgICAgKTtcbiAgICAgIGlmIChjYXB0dXJlRXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBbbGlzdGVuZXIsIG9wdGlvbnNdIG9mIGNhcHR1cmVFdmVudExpc3RlbmVycykge1xuICAgICAgICAgIGludm9rZUV2ZW50TGlzdGVuZXIobGlzdGVuZXIsIG9wdGlvbnMsIGNhcHR1cmVFdmVudExpc3RlbmVycyk7XG4gICAgICAgICAgaWYgKHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgLy8gRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkgc3RvcHMgYW55IGZvbGxvd2luZyBpbnZvY2F0aW9uXG4gICAgICAgICAgICAvLyBvZiBhbiBldmVudCBoYW5kbGVyIGV2ZW4gb24gdGhlIHNhbWUgZXZlbnQgdGFyZ2V0LlxuICAgICAgICAgICAgcmV0dXJuIGZpbmlzaERpc3BhdGNoKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgIC8vIEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpIHN0b3BzIGFueSBmb2xsb3dpbmcgaW52b2NhdGlvblxuICAgICAgICAvLyBvZiBhbiBldmVudCBoYW5kbGVyIGZvciBhbnkgZm9sbG93aW5nIGV2ZW50IHRhcmdldHMuXG4gICAgICAgIHJldHVybiBmaW5pc2hEaXNwYXRjaCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmluaXNoRGlzcGF0Y2goKTtcbiAgfVxufTtcblxuY29uc3QgRXZlbnRUYXJnZXRTaGltV2l0aFJlYWxUeXBlID1cbiAgRXZlbnRUYXJnZXRTaGltIGFzIG9iamVjdCBhcyB0eXBlb2YgRXZlbnRUYXJnZXQ7XG5leHBvcnQge1xuICBFdmVudFRhcmdldFNoaW1XaXRoUmVhbFR5cGUgYXMgRXZlbnRUYXJnZXQsXG4gIEV2ZW50VGFyZ2V0U2hpbVdpdGhSZWFsVHlwZSBhcyBFdmVudFRhcmdldFNoaW0sXG59O1xuXG4vKiBBZGFwdGVkIGZyb20gTm9kZS5qcyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi9tYWluL2xpYi9pbnRlcm5hbC9ldmVudF90YXJnZXQuanMgKi9cblxudHlwZSBFdmVudEludGVyZmFjZSA9IEV2ZW50O1xuXG5jb25zdCBlbnVtZXJhYmxlUHJvcGVydHk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge19fcHJvdG9fXzogbnVsbH07XG5lbnVtZXJhYmxlUHJvcGVydHkuZW51bWVyYWJsZSA9IHRydWU7XG5PYmplY3QuZnJlZXplKGVudW1lcmFibGVQcm9wZXJ0eSk7XG5cbi8vIFRPRE86IFJlbW92ZSB0aGlzIHdoZW4gd2UgcmVtb3ZlIHN1cHBvcnQgZm9yIHZtIG1vZHVsZXMgKC0tZXhwZXJpbWVudGFsLXZtLW1vZHVsZXMpLlxuY29uc3QgRXZlbnRTaGltID0gY2xhc3MgRXZlbnQgaW1wbGVtZW50cyBFdmVudEludGVyZmFjZSB7XG4gICNjYW5jZWxhYmxlID0gZmFsc2U7XG4gICNidWJibGVzID0gZmFsc2U7XG4gICNjb21wb3NlZCA9IGZhbHNlO1xuICAjZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuICAjdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgI3Byb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlO1xuICAjdHlwZTogc3RyaW5nO1xuICAjdGFyZ2V0OiBFdmVudFRhcmdldCB8IG51bGw7XG4gICNpc0JlaW5nRGlzcGF0Y2hlZDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgTk9ORSA9IE5PTkU7XG4gIHJlYWRvbmx5IENBUFRVUklOR19QSEFTRSA9IENBUFRVUklOR19QSEFTRTtcbiAgcmVhZG9ubHkgQVRfVEFSR0VUID0gQVRfVEFSR0VUO1xuICByZWFkb25seSBCVUJCTElOR19QSEFTRSA9IEJVQkJMSU5HX1BIQVNFO1xuICBzdGF0aWMgcmVhZG9ubHkgTk9ORSA9IE5PTkU7XG4gIHN0YXRpYyByZWFkb25seSBDQVBUVVJJTkdfUEhBU0UgPSBDQVBUVVJJTkdfUEhBU0U7XG4gIHN0YXRpYyByZWFkb25seSBBVF9UQVJHRVQgPSBBVF9UQVJHRVQ7XG4gIHN0YXRpYyByZWFkb25seSBCVUJCTElOR19QSEFTRSA9IEJVQkJMSU5HX1BIQVNFO1xuXG4gIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgb3B0aW9uczogRXZlbnRJbml0ID0ge30pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHR5cGUgYXJndW1lbnQgbXVzdCBiZSBzcGVjaWZpZWRgKTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnIHx8ICFvcHRpb25zKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBcIm9wdGlvbnNcIiBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdGApO1xuICAgIH1cbiAgICBjb25zdCB7YnViYmxlcywgY2FuY2VsYWJsZSwgY29tcG9zZWR9ID0gb3B0aW9ucztcbiAgICB0aGlzLiNjYW5jZWxhYmxlID0gISFjYW5jZWxhYmxlO1xuICAgIHRoaXMuI2J1YmJsZXMgPSAhIWJ1YmJsZXM7XG4gICAgdGhpcy4jY29tcG9zZWQgPSAhIWNvbXBvc2VkO1xuXG4gICAgdGhpcy4jdHlwZSA9IGAke3R5cGV9YDtcbiAgICB0aGlzLiN0YXJnZXQgPSBudWxsO1xuICAgIHRoaXMuI2lzQmVpbmdEaXNwYXRjaGVkID0gZmFsc2U7XG4gIH1cblxuICBpbml0RXZlbnQoX3R5cGU6IHN0cmluZywgX2J1YmJsZXM/OiBib29sZWFuLCBfY2FuY2VsYWJsZT86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gIH1cblxuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuXG4gIHByZXZlbnREZWZhdWx0KCkge1xuICAgIHRoaXMuI2RlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICB9XG5cbiAgZ2V0IHRhcmdldCgpOiBFdmVudFRhcmdldCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLiN0YXJnZXQ7XG4gIH1cblxuICBnZXQgY3VycmVudFRhcmdldCgpOiBFdmVudFRhcmdldCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLiN0YXJnZXQ7XG4gIH1cblxuICBnZXQgc3JjRWxlbWVudCgpOiBFdmVudFRhcmdldCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLiN0YXJnZXQ7XG4gIH1cblxuICBnZXQgdHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiN0eXBlO1xuICB9XG5cbiAgZ2V0IGNhbmNlbGFibGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuI2NhbmNlbGFibGU7XG4gIH1cblxuICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy4jY2FuY2VsYWJsZSAmJiB0aGlzLiNkZWZhdWx0UHJldmVudGVkO1xuICB9XG5cbiAgZ2V0IHRpbWVTdGFtcCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiN0aW1lc3RhbXA7XG4gIH1cblxuICBjb21wb3NlZFBhdGgoKTogRXZlbnRUYXJnZXRbXSB7XG4gICAgcmV0dXJuIHRoaXMuI2lzQmVpbmdEaXNwYXRjaGVkID8gW3RoaXMuI3RhcmdldCFdIDogW107XG4gIH1cblxuICBnZXQgcmV0dXJuVmFsdWUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICF0aGlzLiNjYW5jZWxhYmxlIHx8ICF0aGlzLiNkZWZhdWx0UHJldmVudGVkO1xuICB9XG5cbiAgZ2V0IGJ1YmJsZXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuI2J1YmJsZXM7XG4gIH1cblxuICBnZXQgY29tcG9zZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuI2NvbXBvc2VkO1xuICB9XG5cbiAgZ2V0IGV2ZW50UGhhc2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jaXNCZWluZ0Rpc3BhdGNoZWQgPyBFdmVudC5BVF9UQVJHRVQgOiBFdmVudC5OT05FO1xuICB9XG5cbiAgZ2V0IGNhbmNlbEJ1YmJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy4jcHJvcGFnYXRpb25TdG9wcGVkO1xuICB9XG5cbiAgc2V0IGNhbmNlbEJ1YmJsZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy4jcHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBzdG9wUHJvcGFnYXRpb24oKTogdm9pZCB7XG4gICAgdGhpcy4jcHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGdldCBpc1RydXN0ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhFdmVudFNoaW0ucHJvdG90eXBlLCB7XG4gIGluaXRFdmVudDogZW51bWVyYWJsZVByb3BlcnR5LFxuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGVudW1lcmFibGVQcm9wZXJ0eSxcbiAgcHJldmVudERlZmF1bHQ6IGVudW1lcmFibGVQcm9wZXJ0eSxcbiAgdGFyZ2V0OiBlbnVtZXJhYmxlUHJvcGVydHksXG4gIGN1cnJlbnRUYXJnZXQ6IGVudW1lcmFibGVQcm9wZXJ0eSxcbiAgc3JjRWxlbWVudDogZW51bWVyYWJsZVByb3BlcnR5LFxuICB0eXBlOiBlbnVtZXJhYmxlUHJvcGVydHksXG4gIGNhbmNlbGFibGU6IGVudW1lcmFibGVQcm9wZXJ0eSxcbiAgZGVmYXVsdFByZXZlbnRlZDogZW51bWVyYWJsZVByb3BlcnR5LFxuICB0aW1lU3RhbXA6IGVudW1lcmFibGVQcm9wZXJ0eSxcbiAgY29tcG9zZWRQYXRoOiBlbnVtZXJhYmxlUHJvcGVydHksXG4gIHJldHVyblZhbHVlOiBlbnVtZXJhYmxlUHJvcGVydHksXG4gIGJ1YmJsZXM6IGVudW1lcmFibGVQcm9wZXJ0eSxcbiAgY29tcG9zZWQ6IGVudW1lcmFibGVQcm9wZXJ0eSxcbiAgZXZlbnRQaGFzZTogZW51bWVyYWJsZVByb3BlcnR5LFxuICBjYW5jZWxCdWJibGU6IGVudW1lcmFibGVQcm9wZXJ0eSxcbiAgc3RvcFByb3BhZ2F0aW9uOiBlbnVtZXJhYmxlUHJvcGVydHksXG4gIGlzVHJ1c3RlZDogZW51bWVyYWJsZVByb3BlcnR5LFxufSk7XG5cbnR5cGUgQ3VzdG9tRXZlbnRJbnRlcmZhY2UgPSBDdXN0b21FdmVudDtcblxuLy8gVE9ETzogUmVtb3ZlIHRoaXMgd2hlbiB3ZSByZW1vdmUgc3VwcG9ydCBmb3Igdm0gbW9kdWxlcyAoLS1leHBlcmltZW50YWwtdm0tbW9kdWxlcykuXG5jb25zdCBDdXN0b21FdmVudFNoaW0gPSBjbGFzcyBDdXN0b21FdmVudDxUPlxuICBleHRlbmRzIEV2ZW50U2hpbVxuICBpbXBsZW1lbnRzIEN1c3RvbUV2ZW50SW50ZXJmYWNlXG57XG4gICNkZXRhaWw6IFQgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgb3B0aW9uczogQ3VzdG9tRXZlbnRJbml0PFQ+ID0ge30pIHtcbiAgICBzdXBlcih0eXBlLCBvcHRpb25zKTtcbiAgICB0aGlzLiNkZXRhaWwgPSBvcHRpb25zPy5kZXRhaWwgPz8gbnVsbDtcbiAgfVxuXG4gIGluaXRDdXN0b21FdmVudChcbiAgICBfdHlwZTogc3RyaW5nLFxuICAgIF9idWJibGVzPzogYm9vbGVhbixcbiAgICBfY2FuY2VsYWJsZT86IGJvb2xlYW4sXG4gICAgX2RldGFpbD86IFRcbiAgKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICB9XG5cbiAgZ2V0IGRldGFpbCgpOiBUIHtcbiAgICByZXR1cm4gdGhpcy4jZGV0YWlsITtcbiAgfVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQ3VzdG9tRXZlbnRTaGltLnByb3RvdHlwZSwge1xuICBkZXRhaWw6IGVudW1lcmFibGVQcm9wZXJ0eSxcbn0pO1xuXG5jb25zdCBFdmVudFNoaW1XaXRoUmVhbFR5cGUgPSBFdmVudFNoaW0gYXMgb2JqZWN0IGFzIHR5cGVvZiBFdmVudDtcbmNvbnN0IEN1c3RvbUV2ZW50U2hpbVdpdGhSZWFsVHlwZSA9XG4gIEN1c3RvbUV2ZW50U2hpbSBhcyBvYmplY3QgYXMgdHlwZW9mIEN1c3RvbUV2ZW50O1xuZXhwb3J0IHtcbiAgRXZlbnRTaGltV2l0aFJlYWxUeXBlIGFzIEV2ZW50LFxuICBFdmVudFNoaW1XaXRoUmVhbFR5cGUgYXMgRXZlbnRTaGltLFxuICBDdXN0b21FdmVudFNoaW1XaXRoUmVhbFR5cGUgYXMgQ3VzdG9tRXZlbnQsXG4gIEN1c3RvbUV2ZW50U2hpbVdpdGhSZWFsVHlwZSBhcyBDdXN0b21FdmVudFNoaW0sXG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuaW1wb3J0IHtFbGVtZW50SW50ZXJuYWxzU2hpbX0gZnJvbSAnLi9saWIvZWxlbWVudC1pbnRlcm5hbHMuanMnO1xuaW1wb3J0IHtcbiAgRXZlbnRUYXJnZXRTaGltLFxuICBFdmVudFNoaW0sXG4gIEN1c3RvbUV2ZW50U2hpbSxcbiAgRXZlbnRUYXJnZXRTaGltTWV0YSxcbn0gZnJvbSAnLi9saWIvZXZlbnRzLmpzJztcblxuZXhwb3J0IHtcbiAgYXJpYU1peGluQXR0cmlidXRlcyxcbiAgRWxlbWVudEludGVybmFscyxcbiAgSFlEUkFURV9JTlRFUk5BTFNfQVRUUl9QUkVGSVgsXG59IGZyb20gJy4vbGliL2VsZW1lbnQtaW50ZXJuYWxzLmpzJztcbmV4cG9ydCB7Q3VzdG9tRXZlbnQsIEV2ZW50LCBFdmVudFRhcmdldH0gZnJvbSAnLi9saWIvZXZlbnRzLmpzJztcblxuLy8gSW4gYW4gZW1wdHkgTm9kZS5qcyB2bSwgd2UgbmVlZCB0byBwYXRjaCB0aGUgZ2xvYmFsIGNvbnRleHQuXG4vLyBUT0RPOiBSZW1vdmUgdGhlc2UgZ2xvYmFsVGhpcyBhc3NpZ25tZW50cyB3aGVuIHdlIHJlbW92ZSBzdXBwb3J0XG4vLyBmb3Igdm0gbW9kdWxlcyAoLS1leHBlcmltZW50YWwtdm0tbW9kdWxlcykuXG5nbG9iYWxUaGlzLkV2ZW50ID8/PSBFdmVudFNoaW07XG5nbG9iYWxUaGlzLkN1c3RvbUV2ZW50ID8/PSBDdXN0b21FdmVudFNoaW07XG5cbi8vIEludGVybmFsIHR5cGUgdG8gYmUgdXNlZCBmb3IgdGhlIGV2ZW50IHBvbHlmaWxsIGZ1bmN0aW9uYWxpdHkuXG5leHBvcnQgdHlwZSBIVE1MRWxlbWVudFdpdGhFdmVudE1ldGEgPSBIVE1MRWxlbWVudCAmIEV2ZW50VGFyZ2V0U2hpbU1ldGE7XG5cbmNvbnN0IGF0dHJpYnV0ZXMgPSBuZXcgV2Vha01hcDxcbiAgSW5zdGFuY2VUeXBlPHR5cGVvZiBIVE1MRWxlbWVudFNoaW0+LFxuICBNYXA8c3RyaW5nLCBzdHJpbmc+XG4+KCk7XG5jb25zdCBhdHRyaWJ1dGVzRm9yRWxlbWVudCA9IChcbiAgZWxlbWVudDogSW5zdGFuY2VUeXBlPHR5cGVvZiBIVE1MRWxlbWVudFNoaW0+XG4pID0+IHtcbiAgbGV0IGF0dHJzID0gYXR0cmlidXRlcy5nZXQoZWxlbWVudCk7XG4gIGlmIChhdHRycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXR0cmlidXRlcy5zZXQoZWxlbWVudCwgKGF0dHJzID0gbmV3IE1hcCgpKSk7XG4gIH1cbiAgcmV0dXJuIGF0dHJzO1xufTtcblxuLy8gVGhlIHR5cGluZ3MgYXJvdW5kIHRoZSBleHBvcnRzIGJlbG93IGFyZSBhIGxpdHRsZSBmdW5reTpcbi8vXG4vLyAxLiBXZSB3YW50IHRoZSBgbmFtZWAgb2YgdGhlIHNoaW0gY2xhc3NlcyB0byBtYXRjaCB0aGUgcmVhbCBvbmVzIGF0IHJ1bnRpbWUsXG4vLyAgICBoZW5jZSBlLmcuIGBjbGFzcyBFbGVtZW50YC5cbi8vIDIuIFdlIGNhbid0IHNoYWRvdyB0aGUgZ2xvYmFsIHR5cGVzIHdpdGggYSBzaW1wbGUgY2xhc3MgZGVjbGFyYXRpb24sIGJlY2F1c2Vcbi8vICAgIHRoZW4gd2UgY2FuJ3QgcmVmZXJlbmNlIHRoZSBnbG9iYWwgdHlwZXMgZm9yIGNhc3RpbmcsIGhlbmNlIGUuZy5cbi8vICAgIGBjb25zdCBFbGVtZW50U2hpbSA9IGNsYXNzIEVsZW1lbnRgLlxuLy8gMy4gV2Ugd2FudCB0byBleHBvcnQgdGhlIGNsYXNzZXMgdHlwZWQgYXMgdGhlIHJlYWwgb25lcywgaGVuY2UgZS5nLlxuLy8gICAgYGNvbnN0IEVsZW1lbnRTaGltV2l0aFJlYWxUeXBlID0gRWxlbWVudFNoaW0gYXMgb2JqZWN0IGFzIHR5cGVvZiBFbGVtZW50O2AuXG4vLyA0LiBXZSB3YW50IHRoZSBleHBvcnRlZCBuYW1lcyB0byBtYXRjaCB0aGUgcmVhbCBvbmVzLCBoZW5jZSBlLmcuXG4vLyAgICBgZXhwb3J0IHtFbGVtZW50U2hpbVdpdGhSZWFsVHlwZSBhcyBFbGVtZW50fWAuXG5jb25zdCBFbGVtZW50U2hpbSA9IGNsYXNzIEVsZW1lbnQgZXh0ZW5kcyBFdmVudFRhcmdldFNoaW0ge1xuICBnZXQgYXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShhdHRyaWJ1dGVzRm9yRWxlbWVudCh0aGlzKSkubWFwKChbbmFtZSwgdmFsdWVdKSA9PiAoe1xuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlLFxuICAgIH0pKTtcbiAgfVxuICBwcml2YXRlIF9fc2hhZG93Um9vdE1vZGU6IG51bGwgfCBTaGFkb3dSb290TW9kZSA9IG51bGw7XG4gIHByb3RlY3RlZCBfX3NoYWRvd1Jvb3Q6IG51bGwgfCBTaGFkb3dSb290ID0gbnVsbDtcbiAgcHJvdGVjdGVkIF9faW50ZXJuYWxzOiBudWxsIHwgRWxlbWVudEludGVybmFscyA9IG51bGw7XG5cbiAgZ2V0IHNoYWRvd1Jvb3QoKSB7XG4gICAgaWYgKHRoaXMuX19zaGFkb3dSb290TW9kZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fX3NoYWRvd1Jvb3Q7XG4gIH1cbiAgZ2V0IGxvY2FsTmFtZSgpIHtcbiAgICByZXR1cm4gKHRoaXMuY29uc3RydWN0b3IgYXMgTmFtZWRDdXN0b21IVE1MRWxlbWVudENvbnN0cnVjdG9yKS5fX2xvY2FsTmFtZTtcbiAgfVxuICBnZXQgdGFnTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbE5hbWU/LnRvVXBwZXJDYXNlKCk7XG4gIH1cbiAgc2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICAvLyBFbXVsYXRlIGJyb3dzZXIgYmVoYXZpb3IgdGhhdCBzaWxlbnRseSBjYXN0cyBhbGwgdmFsdWVzIHRvIHN0cmluZy4gRS5nLlxuICAgIC8vIGA0MmAgYmVjb21lcyBgXCI0MlwiYCBhbmQgYHt9YCBiZWNvbWVzIGBcIltvYmplY3QgT2JqZWN0XVwiXCJgLlxuICAgIGF0dHJpYnV0ZXNGb3JFbGVtZW50KHRoaXMpLnNldChuYW1lLCBTdHJpbmcodmFsdWUpKTtcbiAgfVxuICByZW1vdmVBdHRyaWJ1dGUobmFtZTogc3RyaW5nKSB7XG4gICAgYXR0cmlidXRlc0ZvckVsZW1lbnQodGhpcykuZGVsZXRlKG5hbWUpO1xuICB9XG4gIHRvZ2dsZUF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIGZvcmNlPzogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIC8vIFN0ZXBzIHJlZmVyZW5jZSBodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcvI2RvbS1lbGVtZW50LXRvZ2dsZWF0dHJpYnV0ZVxuICAgIGlmICh0aGlzLmhhc0F0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgLy8gU3RlcCA1XG4gICAgICBpZiAoZm9yY2UgPT09IHVuZGVmaW5lZCB8fCAhZm9yY2UpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3RlcCA0XG4gICAgICBpZiAoZm9yY2UgPT09IHVuZGVmaW5lZCB8fCBmb3JjZSkge1xuICAgICAgICAvLyBTdGVwIDQuMVxuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCAnJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU3RlcCA0LjJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBTdGVwIDZcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBoYXNBdHRyaWJ1dGUobmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZXNGb3JFbGVtZW50KHRoaXMpLmhhcyhuYW1lKTtcbiAgfVxuICBhdHRhY2hTaGFkb3coaW5pdDogU2hhZG93Um9vdEluaXQpOiBTaGFkb3dSb290IHtcbiAgICBjb25zdCBzaGFkb3dSb290ID0ge2hvc3Q6IHRoaXN9IGFzIG9iamVjdCBhcyBTaGFkb3dSb290O1xuICAgIHRoaXMuX19zaGFkb3dSb290TW9kZSA9IGluaXQubW9kZTtcbiAgICBpZiAoaW5pdCAmJiBpbml0Lm1vZGUgPT09ICdvcGVuJykge1xuICAgICAgdGhpcy5fX3NoYWRvd1Jvb3QgPSBzaGFkb3dSb290O1xuICAgIH1cbiAgICByZXR1cm4gc2hhZG93Um9vdDtcbiAgfVxuICBhdHRhY2hJbnRlcm5hbHMoKTogRWxlbWVudEludGVybmFscyB7XG4gICAgaWYgKHRoaXMuX19pbnRlcm5hbHMgIT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEZhaWxlZCB0byBleGVjdXRlICdhdHRhY2hJbnRlcm5hbHMnIG9uICdIVE1MRWxlbWVudCc6IGAgK1xuICAgICAgICAgIGBFbGVtZW50SW50ZXJuYWxzIGZvciB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgd2FzIGFscmVhZHkgYXR0YWNoZWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgaW50ZXJuYWxzID0gbmV3IEVsZW1lbnRJbnRlcm5hbHNTaGltKHRoaXMgYXMgdW5rbm93biBhcyBIVE1MRWxlbWVudCk7XG4gICAgdGhpcy5fX2ludGVybmFscyA9IGludGVybmFscztcbiAgICByZXR1cm4gaW50ZXJuYWxzIGFzIEVsZW1lbnRJbnRlcm5hbHM7XG4gIH1cbiAgZ2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IHZhbHVlID0gYXR0cmlidXRlc0ZvckVsZW1lbnQodGhpcykuZ2V0KG5hbWUpO1xuICAgIHJldHVybiB2YWx1ZSA/PyBudWxsO1xuICB9XG59O1xuY29uc3QgRWxlbWVudFNoaW1XaXRoUmVhbFR5cGUgPSBFbGVtZW50U2hpbSBhcyBvYmplY3QgYXMgdHlwZW9mIEVsZW1lbnQ7XG5leHBvcnQge0VsZW1lbnRTaGltV2l0aFJlYWxUeXBlIGFzIEVsZW1lbnR9O1xuXG5jb25zdCBIVE1MRWxlbWVudFNoaW0gPSBjbGFzcyBIVE1MRWxlbWVudCBleHRlbmRzIEVsZW1lbnRTaGltIHt9O1xuY29uc3QgSFRNTEVsZW1lbnRTaGltV2l0aFJlYWxUeXBlID1cbiAgSFRNTEVsZW1lbnRTaGltIGFzIG9iamVjdCBhcyB0eXBlb2YgSFRNTEVsZW1lbnQ7XG5leHBvcnQge0hUTUxFbGVtZW50U2hpbVdpdGhSZWFsVHlwZSBhcyBIVE1MRWxlbWVudH07XG5cbi8vIEZvciBjb252ZW5pZW5jZSwgd2UgcHJvdmlkZSBhIGdsb2JhbCBpbnN0YW5jZSBvZiBhIEhUTUxFbGVtZW50IGFzIGFuIGV2ZW50XG4vLyB0YXJnZXQuIFRoaXMgZmFjaWxpdGF0ZXMgcmVnaXN0ZXJpbmcgZ2xvYmFsIGV2ZW50IGhhbmRsZXJzXG4vLyAoZS5nLiBmb3IgQGxpdC9jb250ZXh0IENvbnRleHRQcm92aWRlcikuXG4vLyBXZSB1c2UgdGhpcyBpbiBpbiB0aGUgU1NSIHJlbmRlciBmdW5jdGlvbi5cbi8vIE5vdGUsIHRoaXMgaXMgYSBiZXNwb2tlIGVsZW1lbnQgYW5kIG5vdCBzaW1wbHkgYGRvY3VtZW50YCBvciBgd2luZG93YCBzaW5jZVxuLy8gdXNlciBjb2RlIHJlbGllcyBvbiB0aGVzZSBiZWluZyB1bmRlZmluZWQgaW4gdGhlIHNlcnZlciBlbnZpcm9ubWVudC5cbmdsb2JhbFRoaXMubGl0U2VydmVyUm9vdCA/Pz0gT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICBuZXcgSFRNTEVsZW1lbnRTaGltV2l0aFJlYWxUeXBlKCksXG4gICdsb2NhbE5hbWUnLFxuICB7XG4gICAgLy8gUGF0Y2ggbG9jYWxOYW1lIChhbmQgdGFnTmFtZSkgdG8gcmV0dXJuIGEgdW5pcXVlIG5hbWUuXG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuICdsaXQtc2VydmVyLXJvb3QnO1xuICAgIH0sXG4gIH1cbik7XG5cbmludGVyZmFjZSBDdXN0b21IVE1MRWxlbWVudENvbnN0cnVjdG9yIHtcbiAgbmV3ICgpOiBIVE1MRWxlbWVudDtcbiAgb2JzZXJ2ZWRBdHRyaWJ1dGVzPzogc3RyaW5nW107XG59XG5cbmludGVyZmFjZSBOYW1lZEN1c3RvbUhUTUxFbGVtZW50Q29uc3RydWN0b3JcbiAgZXh0ZW5kcyBDdXN0b21IVE1MRWxlbWVudENvbnN0cnVjdG9yIHtcbiAgX19sb2NhbE5hbWU6IHN0cmluZztcbn1cblxudHlwZSBDdXN0b21FbGVtZW50UmVnaXN0cmF0aW9uID0ge1xuICBjdG9yOiB7bmV3ICgpOiBIVE1MRWxlbWVudH07XG4gIG9ic2VydmVkQXR0cmlidXRlczogc3RyaW5nW107XG59O1xuXG5jb25zdCBDdXN0b21FbGVtZW50UmVnaXN0cnlTaGltID0gY2xhc3MgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5IHtcbiAgcHJpdmF0ZSBfX2RlZmluaXRpb25zID0gbmV3IE1hcDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRSZWdpc3RyYXRpb24+KCk7XG5cbiAgZGVmaW5lKG5hbWU6IHN0cmluZywgY3RvcjogQ3VzdG9tSFRNTEVsZW1lbnRDb25zdHJ1Y3Rvcikge1xuICAgIGlmICh0aGlzLl9fZGVmaW5pdGlvbnMuaGFzKG5hbWUpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGAnQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5JyBhbHJlYWR5IGhhcyBcIiR7bmFtZX1cIiBkZWZpbmVkLiBgICtcbiAgICAgICAgICAgIGBUaGlzIG1heSBoYXZlIGJlZW4gY2F1c2VkIGJ5IGxpdmUgcmVsb2FkIG9yIGhvdCBtb2R1bGUgYCArXG4gICAgICAgICAgICBgcmVwbGFjZW1lbnQgaW4gd2hpY2ggY2FzZSBpdCBjYW4gYmUgc2FmZWx5IGlnbm9yZWQuXFxuYCArXG4gICAgICAgICAgICBgTWFrZSBzdXJlIHRvIHRlc3QgeW91ciBhcHBsaWNhdGlvbiB3aXRoIGEgcHJvZHVjdGlvbiBidWlsZCBhcyBgICtcbiAgICAgICAgICAgIGByZXBlYXQgcmVnaXN0cmF0aW9ucyB3aWxsIHRocm93IGluIHByb2R1Y3Rpb24uYFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBGYWlsZWQgdG8gZXhlY3V0ZSAnZGVmaW5lJyBvbiAnQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5JzogYCArXG4gICAgICAgICAgICBgdGhlIG5hbWUgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiB1c2VkIHdpdGggdGhpcyByZWdpc3RyeWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gUHJvdmlkZSB0YWdOYW1lIGFuZCBsb2NhbE5hbWUgZm9yIHRoZSBjb21wb25lbnQuXG4gICAgKGN0b3IgYXMgTmFtZWRDdXN0b21IVE1MRWxlbWVudENvbnN0cnVjdG9yKS5fX2xvY2FsTmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fX2RlZmluaXRpb25zLnNldChuYW1lLCB7XG4gICAgICBjdG9yLFxuICAgICAgLy8gTm90ZSBpdCdzIGltcG9ydGFudCB3ZSByZWFkIGBvYnNlcnZlZEF0dHJpYnV0ZXNgIGluIGNhc2UgaXQgaXMgYSBnZXR0ZXJcbiAgICAgIC8vIHdpdGggc2lkZS1lZmZlY3RzLCBhcyBpcyB0aGUgY2FzZSBpbiBMaXQsIHdoZXJlIGl0IHRyaWdnZXJzIGNsYXNzXG4gICAgICAvLyBmaW5hbGl6YXRpb24uXG4gICAgICAvL1xuICAgICAgLy8gVE9ETyhhb21hcmtzKSBUbyBiZSBzcGVjIGNvbXBsaWFudCwgd2Ugc2hvdWxkIGFsc28gY2FwdHVyZSB0aGVcbiAgICAgIC8vIHJlZ2lzdHJhdGlvbi10aW1lIGxpZmVjeWNsZSBtZXRob2RzIGxpa2UgYGNvbm5lY3RlZENhbGxiYWNrYC4gRm9yIHRoZW1cbiAgICAgIC8vIHRvIGJlIGFjdHVhbGx5IGFjY2Vzc2libGUgdG8gZS5nLiB0aGUgTGl0IFNTUiBlbGVtZW50IHJlbmRlcmVyLCB0aG91Z2gsXG4gICAgICAvLyB3ZSdkIG5lZWQgdG8gaW50cm9kdWNlIGEgbmV3IEFQSSBmb3IgYWNjZXNzaW5nIHRoZW0gKHNpbmNlIGBnZXRgIG9ubHlcbiAgICAgIC8vIHJldHVybnMgdGhlIGNvbnN0cnVjdG9yKS5cbiAgICAgIG9ic2VydmVkQXR0cmlidXRlczogY3Rvci5vYnNlcnZlZEF0dHJpYnV0ZXMgPz8gW10sXG4gICAgfSk7XG4gIH1cblxuICBnZXQobmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbiA9IHRoaXMuX19kZWZpbml0aW9ucy5nZXQobmFtZSk7XG4gICAgcmV0dXJuIGRlZmluaXRpb24/LmN0b3I7XG4gIH1cbn07XG5jb25zdCBDdXN0b21FbGVtZW50UmVnaXN0cnlTaGltV2l0aFJlYWxUeXBlID1cbiAgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5U2hpbSBhcyBvYmplY3QgYXMgdHlwZW9mIEN1c3RvbUVsZW1lbnRSZWdpc3RyeTtcbmV4cG9ydCB7Q3VzdG9tRWxlbWVudFJlZ2lzdHJ5U2hpbVdpdGhSZWFsVHlwZSBhcyBDdXN0b21FbGVtZW50UmVnaXN0cnl9O1xuXG5leHBvcnQgY29uc3QgY3VzdG9tRWxlbWVudHMgPSBuZXcgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5U2hpbVdpdGhSZWFsVHlwZSgpO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcblxuLy8gQWxsb3dzIG1pbmlmaWVycyB0byByZW5hbWUgcmVmZXJlbmNlcyB0byBnbG9iYWxUaGlzXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xuXG4vKipcbiAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBgYWRvcHRlZFN0eWxlU2hlZXRzYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0czogYm9vbGVhbiA9XG4gIGdsb2JhbC5TaGFkb3dSb290ICYmXG4gIChnbG9iYWwuU2hhZHlDU1MgPT09IHVuZGVmaW5lZCB8fCBnbG9iYWwuU2hhZHlDU1MubmF0aXZlU2hhZG93KSAmJlxuICAnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUgJiZcbiAgJ3JlcGxhY2UnIGluIENTU1N0eWxlU2hlZXQucHJvdG90eXBlO1xuXG4vKipcbiAqIEEgQ1NTUmVzdWx0IG9yIG5hdGl2ZSBDU1NTdHlsZVNoZWV0LlxuICpcbiAqIEluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBjb25zdHJ1Y3RpYmxlIENTUyBzdHlsZSBzaGVldHMsIENTU1N0eWxlU2hlZXRcbiAqIG9iamVjdCBjYW4gYmUgdXNlZCBmb3Igc3R5bGluZyBhbG9uZyBzaWRlIENTU1Jlc3VsdCBmcm9tIHRoZSBgY3NzYFxuICogdGVtcGxhdGUgdGFnLlxuICovXG5leHBvcnQgdHlwZSBDU1NSZXN1bHRPck5hdGl2ZSA9IENTU1Jlc3VsdCB8IENTU1N0eWxlU2hlZXQ7XG5cbmV4cG9ydCB0eXBlIENTU1Jlc3VsdEFycmF5ID0gQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmUgfCBDU1NSZXN1bHRBcnJheT47XG5cbi8qKlxuICogQSBzaW5nbGUgQ1NTUmVzdWx0LCBDU1NTdHlsZVNoZWV0LCBvciBhbiBhcnJheSBvciBuZXN0ZWQgYXJyYXlzIG9mIHRob3NlLlxuICovXG5leHBvcnQgdHlwZSBDU1NSZXN1bHRHcm91cCA9IENTU1Jlc3VsdE9yTmF0aXZlIHwgQ1NTUmVzdWx0QXJyYXk7XG5cbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5cbmNvbnN0IGNzc1RhZ0NhY2hlID0gbmV3IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIENTU1N0eWxlU2hlZXQ+KCk7XG5cbi8qKlxuICogQSBjb250YWluZXIgZm9yIGEgc3RyaW5nIG9mIENTUyB0ZXh0LCB0aGF0IG1heSBiZSB1c2VkIHRvIGNyZWF0ZSBhIENTU1N0eWxlU2hlZXQuXG4gKlxuICogQ1NTUmVzdWx0IGlzIHRoZSByZXR1cm4gdmFsdWUgb2YgYGNzc2AtdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWxzIGFuZFxuICogYHVuc2FmZUNTUygpYC4gSW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgQ1NTUmVzdWx0cyBhcmUgb25seSBjcmVhdGVkIHZpYSB0aGVcbiAqIGBjc3NgIHRhZyBhbmQgYHVuc2FmZUNTUygpYCwgQ1NTUmVzdWx0IGNhbm5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS5cbiAqL1xuZXhwb3J0IGNsYXNzIENTU1Jlc3VsdCB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIFsnXyRjc3NSZXN1bHQkJ10gPSB0cnVlO1xuICByZWFkb25seSBjc3NUZXh0OiBzdHJpbmc7XG4gIHByaXZhdGUgX3N0eWxlU2hlZXQ/OiBDU1NTdHlsZVNoZWV0O1xuICBwcml2YXRlIF9zdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIGNzc1RleHQ6IHN0cmluZyxcbiAgICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZCxcbiAgICBzYWZlVG9rZW46IHN5bWJvbFxuICApIHtcbiAgICBpZiAoc2FmZVRva2VuICE9PSBjb25zdHJ1Y3Rpb25Ub2tlbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC4nXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmNzc1RleHQgPSBjc3NUZXh0O1xuICAgIHRoaXMuX3N0cmluZ3MgPSBzdHJpbmdzO1xuICB9XG5cbiAgLy8gVGhpcyBpcyBhIGdldHRlciBzbyB0aGF0IGl0J3MgbGF6eS4gSW4gcHJhY3RpY2UsIHRoaXMgbWVhbnMgc3R5bGVzaGVldHNcbiAgLy8gYXJlIG5vdCBjcmVhdGVkIHVudGlsIHRoZSBmaXJzdCBlbGVtZW50IGluc3RhbmNlIGlzIG1hZGUuXG4gIGdldCBzdHlsZVNoZWV0KCk6IENTU1N0eWxlU2hlZXQgfCB1bmRlZmluZWQge1xuICAgIC8vIElmIGBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHNgIGlzIHRydWUgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldCBpc1xuICAgIC8vIGNvbnN0cnVjdGFibGUuXG4gICAgbGV0IHN0eWxlU2hlZXQgPSB0aGlzLl9zdHlsZVNoZWV0O1xuICAgIGNvbnN0IHN0cmluZ3MgPSB0aGlzLl9zdHJpbmdzO1xuICAgIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgJiYgc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBjYWNoZWFibGUgPSBzdHJpbmdzICE9PSB1bmRlZmluZWQgJiYgc3RyaW5ncy5sZW5ndGggPT09IDE7XG4gICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgIHN0eWxlU2hlZXQgPSBjc3NUYWdDYWNoZS5nZXQoc3RyaW5ncyk7XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICh0aGlzLl9zdHlsZVNoZWV0ID0gc3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KCkpLnJlcGxhY2VTeW5jKFxuICAgICAgICAgIHRoaXMuY3NzVGV4dFxuICAgICAgICApO1xuICAgICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgICAgY3NzVGFnQ2FjaGUuc2V0KHN0cmluZ3MsIHN0eWxlU2hlZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZVNoZWV0O1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jc3NUZXh0O1xuICB9XG59XG5cbnR5cGUgQ29uc3RydWN0YWJsZUNTU1Jlc3VsdCA9IENTU1Jlc3VsdCAmIHtcbiAgbmV3IChcbiAgICBjc3NUZXh0OiBzdHJpbmcsXG4gICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXkgfCB1bmRlZmluZWQsXG4gICAgc2FmZVRva2VuOiBzeW1ib2xcbiAgKTogQ1NTUmVzdWx0O1xufTtcblxuY29uc3QgdGV4dEZyb21DU1NSZXN1bHQgPSAodmFsdWU6IENTU1Jlc3VsdEdyb3VwIHwgbnVtYmVyKSA9PiB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIGlmICgodmFsdWUgYXMgQ1NTUmVzdWx0KVsnXyRjc3NSZXN1bHQkJ10gPT09IHRydWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIGFzIENTU1Jlc3VsdCkuY3NzVGV4dDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogYCArXG4gICAgICAgIGAke3ZhbHVlfS4gVXNlICd1bnNhZmVDU1MnIHRvIHBhc3Mgbm9uLWxpdGVyYWwgdmFsdWVzLCBidXQgdGFrZSBjYXJlIGAgK1xuICAgICAgICBgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYFxuICAgICk7XG4gIH1cbn07XG5cbi8qKlxuICogV3JhcCBhIHZhbHVlIGZvciBpbnRlcnBvbGF0aW9uIGluIGEge0BsaW5rY29kZSBjc3N9IHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgaXMgdW5zYWZlIGJlY2F1c2UgdW50cnVzdGVkIENTUyB0ZXh0IGNhbiBiZSB1c2VkIHRvIHBob25lIGhvbWVcbiAqIG9yIGV4ZmlsdHJhdGUgZGF0YSB0byBhbiBhdHRhY2tlciBjb250cm9sbGVkIHNpdGUuIFRha2UgY2FyZSB0byBvbmx5IHVzZVxuICogdGhpcyB3aXRoIHRydXN0ZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVDU1MgPSAodmFsdWU6IHVua25vd24pID0+XG4gIG5ldyAoQ1NTUmVzdWx0IGFzIENvbnN0cnVjdGFibGVDU1NSZXN1bHQpKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSksXG4gICAgdW5kZWZpbmVkLFxuICAgIGNvbnN0cnVjdGlvblRva2VuXG4gICk7XG5cbi8qKlxuICogQSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyB3aGljaCBjYW4gYmUgdXNlZCB3aXRoIExpdEVsZW1lbnQnc1xuICoge0BsaW5rY29kZSBMaXRFbGVtZW50LnN0eWxlc30gcHJvcGVydHkgdG8gc2V0IGVsZW1lbnQgc3R5bGVzLlxuICpcbiAqIEZvciBzZWN1cml0eSByZWFzb25zLCBvbmx5IGxpdGVyYWwgc3RyaW5nIHZhbHVlcyBhbmQgbnVtYmVyIG1heSBiZSB1c2VkIGluXG4gKiBlbWJlZGRlZCBleHByZXNzaW9ucy4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIHtAbGlua2NvZGUgdW5zYWZlQ1NTfVxuICogbWF5IGJlIHVzZWQgaW5zaWRlIGFuIGV4cHJlc3Npb24uXG4gKi9cbmV4cG9ydCBjb25zdCBjc3MgPSAoXG4gIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LFxuICAuLi52YWx1ZXM6IChDU1NSZXN1bHRHcm91cCB8IG51bWJlcilbXVxuKTogQ1NTUmVzdWx0ID0+IHtcbiAgY29uc3QgY3NzVGV4dCA9XG4gICAgc3RyaW5ncy5sZW5ndGggPT09IDFcbiAgICAgID8gc3RyaW5nc1swXVxuICAgICAgOiB2YWx1ZXMucmVkdWNlKFxuICAgICAgICAgIChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLFxuICAgICAgICAgIHN0cmluZ3NbMF1cbiAgICAgICAgKTtcbiAgcmV0dXJuIG5ldyAoQ1NTUmVzdWx0IGFzIENvbnN0cnVjdGFibGVDU1NSZXN1bHQpKFxuICAgIGNzc1RleHQsXG4gICAgc3RyaW5ncyxcbiAgICBjb25zdHJ1Y3Rpb25Ub2tlblxuICApO1xufTtcblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBnaXZlbiBzdHlsZXMgdG8gYSBgc2hhZG93Um9vdGAuIFdoZW4gU2hhZG93IERPTSBpc1xuICogYXZhaWxhYmxlIGJ1dCBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBub3QsIHN0eWxlcyBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gKiBgc2hhZG93Um9vdGAgdG8gW21pbWljIHRoZSBuYXRpdmUgZmVhdHVyZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NoYWRvd1Jvb3QvYWRvcHRlZFN0eWxlU2hlZXRzKS5cbiAqIE5vdGUsIHdoZW4gc2hpbW1pbmcgaXMgdXNlZCwgYW55IHN0eWxlcyB0aGF0IGFyZSBzdWJzZXF1ZW50bHkgcGxhY2VkIGludG9cbiAqIHRoZSBzaGFkb3dSb290IHNob3VsZCBiZSBwbGFjZWQgKmJlZm9yZSogYW55IHNoaW1tZWQgYWRvcHRlZCBzdHlsZXMuIFRoaXNcbiAqIHdpbGwgbWF0Y2ggc3BlYyBiZWhhdmlvciB0aGF0IGdpdmVzIGFkb3B0ZWQgc2hlZXRzIHByZWNlZGVuY2Ugb3ZlciBzdHlsZXMgaW5cbiAqIHNoYWRvd1Jvb3QuXG4gKi9cbmV4cG9ydCBjb25zdCBhZG9wdFN0eWxlcyA9IChcbiAgcmVuZGVyUm9vdDogU2hhZG93Um9vdCxcbiAgc3R5bGVzOiBBcnJheTxDU1NSZXN1bHRPck5hdGl2ZT5cbikgPT4ge1xuICBpZiAoc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzKSB7XG4gICAgKHJlbmRlclJvb3QgYXMgU2hhZG93Um9vdCkuYWRvcHRlZFN0eWxlU2hlZXRzID0gc3R5bGVzLm1hcCgocykgPT5cbiAgICAgIHMgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0ID8gcyA6IHMuc3R5bGVTaGVldCFcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGZvciAoY29uc3QgcyBvZiBzdHlsZXMpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICBjb25zdCBub25jZSA9IChnbG9iYWwgYXMgYW55KVsnbGl0Tm9uY2UnXTtcbiAgICAgIGlmIChub25jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBub25jZSk7XG4gICAgICB9XG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9IChzIGFzIENTU1Jlc3VsdCkuY3NzVGV4dDtcbiAgICAgIHJlbmRlclJvb3QuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgY3NzUmVzdWx0RnJvbVN0eWxlU2hlZXQgPSAoc2hlZXQ6IENTU1N0eWxlU2hlZXQpID0+IHtcbiAgbGV0IGNzc1RleHQgPSAnJztcbiAgZm9yIChjb25zdCBydWxlIG9mIHNoZWV0LmNzc1J1bGVzKSB7XG4gICAgY3NzVGV4dCArPSBydWxlLmNzc1RleHQ7XG4gIH1cbiAgcmV0dXJuIHVuc2FmZUNTUyhjc3NUZXh0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb21wYXRpYmxlU3R5bGUgPVxuICBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgfHxcbiAgKE5PREVfTU9ERSAmJiBnbG9iYWwuQ1NTU3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKVxuICAgID8gKHM6IENTU1Jlc3VsdE9yTmF0aXZlKSA9PiBzXG4gICAgOiAoczogQ1NTUmVzdWx0T3JOYXRpdmUpID0+XG4gICAgICAgIHMgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0ID8gY3NzUmVzdWx0RnJvbVN0eWxlU2hlZXQocykgOiBzO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG4vKipcbiAqIFVzZSB0aGlzIG1vZHVsZSBpZiB5b3Ugd2FudCB0byBjcmVhdGUgeW91ciBvd24gYmFzZSBjbGFzcyBleHRlbmRpbmdcbiAqIHtAbGluayBSZWFjdGl2ZUVsZW1lbnR9LlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKi9cblxuaW1wb3J0IHtcbiAgZ2V0Q29tcGF0aWJsZVN0eWxlLFxuICBhZG9wdFN0eWxlcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIENTU1Jlc3VsdE9yTmF0aXZlLFxufSBmcm9tICcuL2Nzcy10YWcuanMnO1xuaW1wb3J0IHR5cGUge1xuICBSZWFjdGl2ZUNvbnRyb2xsZXIsXG4gIFJlYWN0aXZlQ29udHJvbGxlckhvc3QsXG59IGZyb20gJy4vcmVhY3RpdmUtY29udHJvbGxlci5qcyc7XG5cbi8vIEluIHRoZSBOb2RlIGJ1aWxkLCB0aGlzIGltcG9ydCB3aWxsIGJlIGluamVjdGVkIGJ5IFJvbGx1cDpcbi8vIGltcG9ydCB7SFRNTEVsZW1lbnQsIGN1c3RvbUVsZW1lbnRzfSBmcm9tICdAbGl0LWxhYnMvc3NyLWRvbS1zaGltJztcblxuZXhwb3J0ICogZnJvbSAnLi9jc3MtdGFnLmpzJztcbmV4cG9ydCB0eXBlIHtcbiAgUmVhY3RpdmVDb250cm9sbGVyLFxuICBSZWFjdGl2ZUNvbnRyb2xsZXJIb3N0LFxufSBmcm9tICcuL3JlYWN0aXZlLWNvbnRyb2xsZXIuanMnO1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGByZWFkb25seWAgbW9kaWZpZXIgZnJvbSBwcm9wZXJ0aWVzIGluIHRoZSB1bmlvbiBLLlxuICpcbiAqIFRoaXMgaXMgYSBzYWZlciB3YXkgdG8gY2FzdCBhIHZhbHVlIHRvIGEgdHlwZSB3aXRoIGEgbXV0YWJsZSB2ZXJzaW9uIG9mIGFcbiAqIHJlYWRvbmx5IGZpZWxkLCB0aGFuIGNhc3RpbmcgdG8gYW4gaW50ZXJmYWNlIHdpdGggdGhlIGZpZWxkIHJlLWRlY2xhcmVkXG4gKiBiZWNhdXNlIGl0IHByZXNlcnZlcyB0aGUgdHlwZSBvZiBhbGwgdGhlIGZpZWxkcyBhbmQgd2FybnMgb24gdHlwb3MuXG4gKi9cbnR5cGUgTXV0YWJsZTxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBPbWl0PFQsIEs+ICYge1xuICAtcmVhZG9ubHkgW1AgaW4ga2V5b2YgUGljazxULCBLPl06IFAgZXh0ZW5kcyBLID8gVFtQXSA6IG5ldmVyO1xufTtcblxuLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IEFkZCBgaGFzT3duYCBoZXJlIHdoZW4gd2Ugc2hpcCBFUzIwMjJcbmNvbnN0IHtcbiAgaXMsXG4gIGRlZmluZVByb3BlcnR5LFxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIGdldE93blByb3BlcnR5TmFtZXMsXG4gIGdldE93blByb3BlcnR5U3ltYm9scyxcbiAgZ2V0UHJvdG90eXBlT2YsXG59ID0gT2JqZWN0O1xuXG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcblxuLy8gTGV0cyBhIG1pbmlmaWVyIHJlcGxhY2UgZ2xvYmFsVGhpcyByZWZlcmVuY2VzIHdpdGggYSBtaW5pZmllZCBuYW1lXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xuXG5pZiAoTk9ERV9NT0RFKSB7XG4gIGdsb2JhbC5jdXN0b21FbGVtZW50cyA/Pz0gY3VzdG9tRWxlbWVudHM7XG59XG5cbmNvbnN0IERFVl9NT0RFID0gdHJ1ZTtcblxubGV0IGlzc3VlV2FybmluZzogKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB2b2lkO1xuXG5jb25zdCB0cnVzdGVkVHlwZXMgPSAoZ2xvYmFsIGFzIHVua25vd24gYXMge3RydXN0ZWRUeXBlcz86IHtlbXB0eVNjcmlwdDogJyd9fSlcbiAgLnRydXN0ZWRUeXBlcztcblxuLy8gVGVtcG9yYXJ5IHdvcmthcm91bmQgZm9yIGh0dHBzOi8vY3JidWcuY29tLzk5MzI2OFxuLy8gQ3VycmVudGx5LCBhbnkgYXR0cmlidXRlIHN0YXJ0aW5nIHdpdGggXCJvblwiIGlzIGNvbnNpZGVyZWQgdG8gYmUgYVxuLy8gVHJ1c3RlZFNjcmlwdCBzb3VyY2UuIFN1Y2ggYm9vbGVhbiBhdHRyaWJ1dGVzIG11c3QgYmUgc2V0IHRvIHRoZSBlcXVpdmFsZW50XG4vLyB0cnVzdGVkIGVtcHR5U2NyaXB0IHZhbHVlLlxuY29uc3QgZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlID0gdHJ1c3RlZFR5cGVzXG4gID8gKHRydXN0ZWRUeXBlcy5lbXB0eVNjcmlwdCBhcyB1bmtub3duIGFzICcnKVxuICA6ICcnO1xuXG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBERVZfTU9ERVxuICA/IGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRQb2x5ZmlsbFN1cHBvcnREZXZNb2RlXG4gIDogZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydDtcblxuaWYgKERFVl9NT0RFKSB7XG4gIC8vIEVuc3VyZSB3YXJuaW5ncyBhcmUgaXNzdWVkIG9ubHkgMXgsIGV2ZW4gaWYgbXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0XG4gIC8vIGFyZSBsb2FkZWQuXG4gIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpO1xuXG4gIC8qKlxuICAgKiBJc3N1ZSBhIHdhcm5pbmcgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LCBiYXNlZCBlaXRoZXIgb24gYGNvZGVgIG9yIGB3YXJuaW5nYC5cbiAgICogV2FybmluZ3MgYXJlIGRpc2FibGVkIGF1dG9tYXRpY2FsbHkgb25seSBieSBgd2FybmluZ2A7IGRpc2FibGluZyB2aWEgYGNvZGVgXG4gICAqIGNhbiBiZSBkb25lIGJ5IHVzZXJzLlxuICAgKi9cbiAgaXNzdWVXYXJuaW5nID0gKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB7XG4gICAgd2FybmluZyArPSBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYDtcbiAgICBpZiAoXG4gICAgICAhZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5oYXMod2FybmluZykgJiZcbiAgICAgICFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmhhcyhjb2RlKVxuICAgICkge1xuICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5hZGQod2FybmluZyk7XG4gICAgfVxuICB9O1xuXG4gIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAnZGV2LW1vZGUnLFxuICAgICAgYExpdCBpcyBpbiBkZXYgbW9kZS4gTm90IHJlY29tbWVuZGVkIGZvciBwcm9kdWN0aW9uIWBcbiAgICApO1xuXG4gICAgLy8gSXNzdWUgcG9seWZpbGwgc3VwcG9ydCB3YXJuaW5nLlxuICAgIGlmIChnbG9iYWwuU2hhZHlET00/LmluVXNlICYmIHBvbHlmaWxsU3VwcG9ydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICdwb2x5ZmlsbC1zdXBwb3J0LW1pc3NpbmcnLFxuICAgICAgICBgU2hhZG93IERPTSBpcyBiZWluZyBwb2x5ZmlsbGVkIHZpYSBcXGBTaGFkeURPTVxcYCBidXQgYCArXG4gICAgICAgICAgYHRoZSBcXGBwb2x5ZmlsbC1zdXBwb3J0XFxgIG1vZHVsZSBoYXMgbm90IGJlZW4gbG9hZGVkLmBcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBDb250YWlucyB0eXBlcyB0aGF0IGFyZSBwYXJ0IG9mIHRoZSB1bnN0YWJsZSBkZWJ1ZyBBUEkuXG4gKlxuICogRXZlcnl0aGluZyBpbiB0aGlzIEFQSSBpcyBub3Qgc3RhYmxlIGFuZCBtYXkgY2hhbmdlIG9yIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSxcbiAqIGV2ZW4gb24gcGF0Y2ggcmVsZWFzZXMuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG5leHBvcnQgbmFtZXNwYWNlIFJlYWN0aXZlVW5zdGFibGUge1xuICAvKipcbiAgICogV2hlbiBMaXQgaXMgcnVubmluZyBpbiBkZXYgbW9kZSBhbmQgYHdpbmRvdy5lbWl0TGl0RGVidWdMb2dFdmVudHNgIGlzIHRydWUsXG4gICAqIHdlIHdpbGwgZW1pdCAnbGl0LWRlYnVnJyBldmVudHMgdG8gd2luZG93LCB3aXRoIGxpdmUgZGV0YWlscyBhYm91dCB0aGUgdXBkYXRlIGFuZCByZW5kZXJcbiAgICogbGlmZWN5Y2xlLiBUaGVzZSBjYW4gYmUgdXNlZnVsIGZvciB3cml0aW5nIGRlYnVnIHRvb2xpbmcgYW5kIHZpc3VhbGl6YXRpb25zLlxuICAgKlxuICAgKiBQbGVhc2UgYmUgYXdhcmUgdGhhdCBydW5uaW5nIHdpdGggd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cyBoYXMgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQsXG4gICAqIG1ha2luZyBjZXJ0YWluIG9wZXJhdGlvbnMgdGhhdCBhcmUgbm9ybWFsbHkgdmVyeSBjaGVhcCAobGlrZSBhIG5vLW9wIHJlbmRlcikgbXVjaCBzbG93ZXIsXG4gICAqIGJlY2F1c2Ugd2UgbXVzdCBjb3B5IGRhdGEgYW5kIGRpc3BhdGNoIGV2ZW50cy5cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG4gIGV4cG9ydCBuYW1lc3BhY2UgRGVidWdMb2cge1xuICAgIGV4cG9ydCB0eXBlIEVudHJ5ID0gVXBkYXRlO1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlIHtcbiAgICAgIGtpbmQ6ICd1cGRhdGUnO1xuICAgIH1cbiAgfVxufVxuXG5pbnRlcmZhY2UgRGVidWdMb2dnaW5nV2luZG93IHtcbiAgLy8gRXZlbiBpbiBkZXYgbW9kZSwgd2UgZ2VuZXJhbGx5IGRvbid0IHdhbnQgdG8gZW1pdCB0aGVzZSBldmVudHMsIGFzIHRoYXQnc1xuICAvLyBhbm90aGVyIGxldmVsIG9mIGNvc3QsIHNvIG9ubHkgZW1pdCB0aGVtIHdoZW4gREVWX01PREUgaXMgdHJ1ZSBfYW5kXyB3aGVuXG4gIC8vIHdpbmRvdy5lbWl0TGl0RGVidWdFdmVudHMgaXMgdHJ1ZS5cbiAgZW1pdExpdERlYnVnTG9nRXZlbnRzPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBVc2VmdWwgZm9yIHZpc3VhbGl6aW5nIGFuZCBsb2dnaW5nIGluc2lnaHRzIGludG8gd2hhdCB0aGUgTGl0IHRlbXBsYXRlIHN5c3RlbSBpcyBkb2luZy5cbiAqXG4gKiBDb21waWxlZCBvdXQgb2YgcHJvZCBtb2RlIGJ1aWxkcy5cbiAqL1xuY29uc3QgZGVidWdMb2dFdmVudCA9IERFVl9NT0RFXG4gID8gKGV2ZW50OiBSZWFjdGl2ZVVuc3RhYmxlLkRlYnVnTG9nLkVudHJ5KSA9PiB7XG4gICAgICBjb25zdCBzaG91bGRFbWl0ID0gKGdsb2JhbCBhcyB1bmtub3duIGFzIERlYnVnTG9nZ2luZ1dpbmRvdylcbiAgICAgICAgLmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cztcbiAgICAgIGlmICghc2hvdWxkRW1pdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBnbG9iYWwuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50PFJlYWN0aXZlVW5zdGFibGUuRGVidWdMb2cuRW50cnk+KCdsaXQtZGVidWcnLCB7XG4gICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICA6IHVuZGVmaW5lZDtcblxuLypcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpc1xuICogcmVwbGFjZWQgYXQgY29tcGlsZSB0aW1lIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XS4gV2UgY2Fubm90XG4gKiBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWVcbiAqIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqL1xuLypAX19JTkxJTkVfXyovXG5jb25zdCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5ID0gPFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4oXG4gIHByb3A6IFAsXG4gIF9vYmo6IHVua25vd25cbik6IFAgPT4gcHJvcDtcblxuLyoqXG4gKiBDb252ZXJ0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYW5kIGZyb20gYXR0cmlidXRlIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wbGV4QXR0cmlidXRlQ29udmVydGVyPFR5cGUgPSB1bmtub3duLCBUeXBlSGludCA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIENhbGxlZCB0byBjb252ZXJ0IGFuIGF0dHJpYnV0ZSB2YWx1ZSB0byBhIHByb3BlcnR5XG4gICAqIHZhbHVlLlxuICAgKi9cbiAgZnJvbUF0dHJpYnV0ZT8odmFsdWU6IHN0cmluZyB8IG51bGwsIHR5cGU/OiBUeXBlSGludCk6IFR5cGU7XG5cbiAgLyoqXG4gICAqIENhbGxlZCB0byBjb252ZXJ0IGEgcHJvcGVydHkgdmFsdWUgdG8gYW4gYXR0cmlidXRlXG4gICAqIHZhbHVlLlxuICAgKlxuICAgKiBJdCByZXR1cm5zIHVua25vd24gaW5zdGVhZCBvZiBzdHJpbmcsIHRvIGJlIGNvbXBhdGlibGUgd2l0aFxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vV0lDRy90cnVzdGVkLXR5cGVzIChhbmQgc2ltaWxhciBlZmZvcnRzKS5cbiAgICovXG4gIHRvQXR0cmlidXRlPyh2YWx1ZTogVHlwZSwgdHlwZT86IFR5cGVIaW50KTogdW5rbm93bjtcbn1cblxudHlwZSBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4gPVxuICB8IENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZT5cbiAgfCAoKHZhbHVlOiBzdHJpbmcgfCBudWxsLCB0eXBlPzogVHlwZUhpbnQpID0+IFR5cGUpO1xuXG4vKipcbiAqIERlZmluZXMgb3B0aW9ucyBmb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eURlY2xhcmF0aW9uPFR5cGUgPSB1bmtub3duLCBUeXBlSGludCA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIFdoZW4gc2V0IHRvIGB0cnVlYCwgaW5kaWNhdGVzIHRoZSBwcm9wZXJ0eSBpcyBpbnRlcm5hbCBwcml2YXRlIHN0YXRlLiBUaGVcbiAgICogcHJvcGVydHkgc2hvdWxkIG5vdCBiZSBzZXQgYnkgdXNlcnMuIFdoZW4gdXNpbmcgVHlwZVNjcmlwdCwgdGhpcyBwcm9wZXJ0eVxuICAgKiBzaG91bGQgYmUgbWFya2VkIGFzIGBwcml2YXRlYCBvciBgcHJvdGVjdGVkYCwgYW5kIGl0IGlzIGFsc28gYSBjb21tb25cbiAgICogcHJhY3RpY2UgdG8gdXNlIGEgbGVhZGluZyBgX2AgaW4gdGhlIG5hbWUuIFRoZSBwcm9wZXJ0eSBpcyBub3QgYWRkZWQgdG9cbiAgICogYG9ic2VydmVkQXR0cmlidXRlc2AuXG4gICAqL1xuICByZWFkb25seSBzdGF0ZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgYW5kIHdoZXRoZXIgdGhlIHByb3BlcnR5IGJlY29tZXMgYW4gb2JzZXJ2ZWQgYXR0cmlidXRlLlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgYGZhbHNlYCwgdGhlIHByb3BlcnR5IGlzIG5vdCBhZGRlZCB0byBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYC5cbiAgICogSWYgdHJ1ZSBvciBhYnNlbnQsIHRoZSBsb3dlcmNhc2VkIHByb3BlcnR5IG5hbWUgaXMgb2JzZXJ2ZWQgKGUuZy4gYGZvb0JhcmBcbiAgICogYmVjb21lcyBgZm9vYmFyYCkuIElmIGEgc3RyaW5nLCB0aGUgc3RyaW5nIHZhbHVlIGlzIG9ic2VydmVkIChlLmdcbiAgICogYGF0dHJpYnV0ZTogJ2Zvby1iYXInYCkuXG4gICAqL1xuICByZWFkb25seSBhdHRyaWJ1dGU/OiBib29sZWFuIHwgc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgdGhlIHByb3BlcnR5LiBUaGlzIGlzIHVzZWQgb25seSBhcyBhIGhpbnQgZm9yIHRoZVxuICAgKiBgY29udmVydGVyYCB0byBkZXRlcm1pbmUgaG93IHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZVxuICAgKiB0by9mcm9tIGEgcHJvcGVydHkuXG4gICAqL1xuICByZWFkb25seSB0eXBlPzogVHlwZUhpbnQ7XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgdG8gY29udmVydCB0aGUgYXR0cmlidXRlIHRvL2Zyb20gYSBwcm9wZXJ0eS4gSWYgdGhpcyB2YWx1ZVxuICAgKiBpcyBhIGZ1bmN0aW9uLCBpdCBpcyB1c2VkIHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBhIHRoZSBwcm9wZXJ0eVxuICAgKiB2YWx1ZS4gSWYgaXQncyBhbiBvYmplY3QsIGl0IGNhbiBoYXZlIGtleXMgZm9yIGBmcm9tQXR0cmlidXRlYCBhbmRcbiAgICogYHRvQXR0cmlidXRlYC4gSWYgbm8gYHRvQXR0cmlidXRlYCBmdW5jdGlvbiBpcyBwcm92aWRlZCBhbmRcbiAgICogYHJlZmxlY3RgIGlzIHNldCB0byBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSB2YWx1ZSBpcyBzZXQgZGlyZWN0bHkgdG8gdGhlXG4gICAqIGF0dHJpYnV0ZS4gQSBkZWZhdWx0IGBjb252ZXJ0ZXJgIGlzIHVzZWQgaWYgbm9uZSBpcyBwcm92aWRlZDsgaXQgc3VwcG9ydHNcbiAgICogYEJvb2xlYW5gLCBgU3RyaW5nYCwgYE51bWJlcmAsIGBPYmplY3RgLCBhbmQgYEFycmF5YC4gTm90ZSxcbiAgICogd2hlbiBhIHByb3BlcnR5IGNoYW5nZXMgYW5kIHRoZSBjb252ZXJ0ZXIgaXMgdXNlZCB0byB1cGRhdGUgdGhlIGF0dHJpYnV0ZSxcbiAgICogdGhlIHByb3BlcnR5IGlzIG5ldmVyIHVwZGF0ZWQgYWdhaW4gYXMgYSByZXN1bHQgb2YgdGhlIGF0dHJpYnV0ZSBjaGFuZ2luZyxcbiAgICogYW5kIHZpY2UgdmVyc2EuXG4gICAqL1xuICByZWFkb25seSBjb252ZXJ0ZXI/OiBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSwgVHlwZUhpbnQ+O1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHByb3BlcnR5IHNob3VsZCByZWZsZWN0IHRvIGFuIGF0dHJpYnV0ZS5cbiAgICogSWYgYHRydWVgLCB3aGVuIHRoZSBwcm9wZXJ0eSBpcyBzZXQsIHRoZSBhdHRyaWJ1dGUgaXMgc2V0IHVzaW5nIHRoZVxuICAgKiBhdHRyaWJ1dGUgbmFtZSBkZXRlcm1pbmVkIGFjY29yZGluZyB0byB0aGUgcnVsZXMgZm9yIHRoZSBgYXR0cmlidXRlYFxuICAgKiBwcm9wZXJ0eSBvcHRpb24gYW5kIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgY29udmVydGVkIHVzaW5nIHRoZSBydWxlc1xuICAgKiBmcm9tIHRoZSBgY29udmVydGVyYCBwcm9wZXJ0eSBvcHRpb24uXG4gICAqL1xuICByZWFkb25seSByZWZsZWN0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogQSBmdW5jdGlvbiB0aGF0IGluZGljYXRlcyBpZiBhIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGNoYW5nZWQgd2hlblxuICAgKiBpdCBpcyBzZXQuIFRoZSBmdW5jdGlvbiBzaG91bGQgdGFrZSB0aGUgYG5ld1ZhbHVlYCBhbmQgYG9sZFZhbHVlYCBhbmRcbiAgICogcmV0dXJuIGB0cnVlYCBpZiBhbiB1cGRhdGUgc2hvdWxkIGJlIHJlcXVlc3RlZC5cbiAgICovXG4gIGhhc0NoYW5nZWQ/KHZhbHVlOiBUeXBlLCBvbGRWYWx1ZTogVHlwZSk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIGFuIGFjY2Vzc29yIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhpcyBwcm9wZXJ0eS4gQnlcbiAgICogZGVmYXVsdCwgYW4gYWNjZXNzb3Igd2lsbCBiZSBnZW5lcmF0ZWQgZm9yIHRoaXMgcHJvcGVydHkgdGhhdCByZXF1ZXN0cyBhblxuICAgKiB1cGRhdGUgd2hlbiBzZXQuIElmIHRoaXMgZmxhZyBpcyBgdHJ1ZWAsIG5vIGFjY2Vzc29yIHdpbGwgYmUgY3JlYXRlZCwgYW5kXG4gICAqIGl0IHdpbGwgYmUgdGhlIHVzZXIncyByZXNwb25zaWJpbGl0eSB0byBjYWxsXG4gICAqIGB0aGlzLnJlcXVlc3RVcGRhdGUocHJvcGVydHlOYW1lLCBvbGRWYWx1ZSlgIHRvIHJlcXVlc3QgYW4gdXBkYXRlIHdoZW5cbiAgICogdGhlIHByb3BlcnR5IGNoYW5nZXMuXG4gICAqL1xuICByZWFkb25seSBub0FjY2Vzc29yPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0aGlzIHByb3BlcnR5IGlzIHdyYXBwaW5nIGFjY2Vzc29ycy4gVGhpcyBpcyBzZXQgYnkgYEBwcm9wZXJ0eWBcbiAgICogdG8gY29udHJvbCB0aGUgaW5pdGlhbCB2YWx1ZSBjaGFuZ2UgYW5kIHJlZmxlY3Rpb24gbG9naWMuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgd3JhcHBlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZW4gYHRydWVgLCB1c2VzIHRoZSBpbml0aWFsIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBhcyB0aGUgZGVmYXVsdCB2YWx1ZSxcbiAgICogd2hpY2ggY2hhbmdlcyBob3cgYXR0cmlidXRlcyBhcmUgaGFuZGxlZDpcbiAgICogIC0gVGhlIGluaXRpYWwgdmFsdWUgZG9lcyAqbm90KiByZWZsZWN0LCBldmVuIGlmIHRoZSBgcmVmbGVjdGAgb3B0aW9uIGlzIGB0cnVlYC5cbiAgICogICAgU3Vic2VxdWVudCBjaGFuZ2VzIHRvIHRoZSBwcm9wZXJ0eSB3aWxsIHJlZmxlY3QsIGV2ZW4gaWYgdGhleSBhcmUgZXF1YWwgdG8gdGhlXG4gICAqICAgICBkZWZhdWx0IHZhbHVlLlxuICAgKiAgLSBXaGVuIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZCwgdGhlIHByb3BlcnR5IGlzIHNldCB0byB0aGUgZGVmYXVsdCB2YWx1ZVxuICAgKiAgLSBUaGUgaW5pdGlhbCB2YWx1ZSB3aWxsIG5vdCB0cmlnZ2VyIGFuIG9sZCB2YWx1ZSBpbiB0aGUgYGNoYW5nZWRQcm9wZXJ0aWVzYCBtYXBcbiAgICogICAgYXJndW1lbnQgdG8gdXBkYXRlIGxpZmVjeWNsZSBtZXRob2RzLlxuICAgKlxuICAgKiBXaGVuIHNldCwgcHJvcGVydGllcyBtdXN0IGJlIGluaXRpYWxpemVkLCBlaXRoZXIgd2l0aCBhIGZpZWxkIGluaXRpYWxpemVyLCBvciBhblxuICAgKiBhc3NpZ25tZW50IGluIHRoZSBjb25zdHJ1Y3Rvci4gTm90IGluaXRpYWxpemluZyB0aGUgcHJvcGVydHkgbWF5IGxlYWQgdG9cbiAgICogaW1wcm9wZXIgaGFuZGxpbmcgb2Ygc3Vic2VxdWVudCBwcm9wZXJ0eSBhc3NpZ25tZW50cy5cbiAgICpcbiAgICogV2hpbGUgdGhpcyBiZWhhdmlvciBpcyBvcHQtaW4sIG1vc3QgcHJvcGVydGllcyB0aGF0IHJlZmxlY3QgdG8gYXR0cmlidXRlcyBzaG91bGRcbiAgICogdXNlIGB1c2VEZWZhdWx0OiB0cnVlYCBzbyB0aGF0IHRoZWlyIGluaXRpYWwgdmFsdWVzIGRvIG5vdCByZWZsZWN0LlxuICAgKi9cbiAgdXNlRGVmYXVsdD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogTWFwIG9mIHByb3BlcnRpZXMgdG8gUHJvcGVydHlEZWNsYXJhdGlvbiBvcHRpb25zLiBGb3IgZWFjaCBwcm9wZXJ0eSBhblxuICogYWNjZXNzb3IgaXMgbWFkZSwgYW5kIHRoZSBwcm9wZXJ0eSBpcyBwcm9jZXNzZWQgYWNjb3JkaW5nIHRvIHRoZVxuICogUHJvcGVydHlEZWNsYXJhdGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RGVjbGFyYXRpb25zIHtcbiAgcmVhZG9ubHkgW2tleTogc3RyaW5nXTogUHJvcGVydHlEZWNsYXJhdGlvbjtcbn1cblxudHlwZSBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwID0gTWFwPFByb3BlcnR5S2V5LCBQcm9wZXJ0eURlY2xhcmF0aW9uPjtcblxudHlwZSBBdHRyaWJ1dGVNYXAgPSBNYXA8c3RyaW5nLCBQcm9wZXJ0eUtleT47XG5cbi8qKlxuICogQSBNYXAgb2YgcHJvcGVydHkga2V5cyB0byB2YWx1ZXMuXG4gKlxuICogVGFrZXMgYW4gb3B0aW9uYWwgdHlwZSBwYXJhbWV0ZXIgVCwgd2hpY2ggd2hlbiBzcGVjaWZpZWQgYXMgYSBub24tYW55LFxuICogbm9uLXVua25vd24gdHlwZSwgd2lsbCBtYWtlIHRoZSBNYXAgbW9yZSBzdHJvbmdseS10eXBlZCwgYXNzb2NpYXRpbmcgdGhlIG1hcFxuICoga2V5cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmcgdmFsdWUgdHlwZSBvbiBULlxuICpcbiAqIFVzZSBgUHJvcGVydHlWYWx1ZXM8dGhpcz5gIHdoZW4gb3ZlcnJpZGluZyBSZWFjdGl2ZUVsZW1lbnQudXBkYXRlKCkgYW5kXG4gKiBvdGhlciBsaWZlY3ljbGUgbWV0aG9kcyBpbiBvcmRlciB0byBnZXQgc3Ryb25nZXIgdHlwZS1jaGVja2luZyBvbiBrZXlzXG4gKiBhbmQgdmFsdWVzLlxuICovXG4vLyBUaGlzIHR5cGUgaXMgY29uZGl0aW9uYWwgc28gdGhhdCBpZiB0aGUgcGFyYW1ldGVyIFQgaXMgbm90IHNwZWNpZmllZCwgb3Jcbi8vIGlzIGBhbnlgLCB0aGUgdHlwZSB3aWxsIGluY2x1ZGUgYE1hcDxQcm9wZXJ0eUtleSwgdW5rbm93bj5gLiBTaW5jZSBUIGlzIG5vdFxuLy8gZ2l2ZW4gaW4gdGhlIHVzZXMgb2YgUHJvcGVydHlWYWx1ZXMgaW4gdGhpcyBmaWxlLCBhbGwgdXNlcyBoZXJlIGZhbGxiYWNrIHRvXG4vLyBtZWFuaW5nIGBNYXA8UHJvcGVydHlLZXksIHVua25vd24+YCwgYnV0IGlmIGEgZGV2ZWxvcGVyIHVzZXNcbi8vIGBQcm9wZXJ0eVZhbHVlczx0aGlzPmAgKG9yIGFueSBvdGhlciB2YWx1ZSBmb3IgVCkgdGhleSB3aWxsIGdldCBhXG4vLyBzdHJvbmdseS10eXBlZCBNYXAgdHlwZS5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgdHlwZSBQcm9wZXJ0eVZhbHVlczxUID0gYW55PiA9IFQgZXh0ZW5kcyBvYmplY3RcbiAgPyBQcm9wZXJ0eVZhbHVlTWFwPFQ+XG4gIDogTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPjtcblxuLyoqXG4gKiBEbyBub3QgdXNlLCBpbnN0ZWFkIHByZWZlciB7QGxpbmtjb2RlIFByb3BlcnR5VmFsdWVzfS5cbiAqL1xuLy8gVGhpcyB0eXBlIG11c3QgYmUgZXhwb3J0ZWQgc3VjaCB0aGF0IEphdmFTY3JpcHQgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGVcbi8vIENsb3N1cmUgQ29tcGlsZXIgY2FuIGltcG9ydCBhIHR5cGUgcmVmZXJlbmNlLlxuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eVZhbHVlTWFwPFQ+IGV4dGVuZHMgTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPiB7XG4gIGdldDxLIGV4dGVuZHMga2V5b2YgVD4oazogSyk6IFRbS10gfCB1bmRlZmluZWQ7XG4gIHNldDxLIGV4dGVuZHMga2V5b2YgVD4oa2V5OiBLLCB2YWx1ZTogVFtLXSk6IHRoaXM7XG4gIGhhczxLIGV4dGVuZHMga2V5b2YgVD4oazogSyk6IGJvb2xlYW47XG4gIGRlbGV0ZTxLIGV4dGVuZHMga2V5b2YgVD4oazogSyk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29udmVydGVyOiBDb21wbGV4QXR0cmlidXRlQ29udmVydGVyID0ge1xuICB0b0F0dHJpYnV0ZSh2YWx1ZTogdW5rbm93biwgdHlwZT86IHVua25vd24pOiB1bmtub3duIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IGVtcHR5U3RyaW5nRm9yQm9vbGVhbkF0dHJpYnV0ZSA6IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICBjYXNlIEFycmF5OlxuICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgIHBhc3MgdGhpcyB0aHJvdWdoXG4gICAgICAgIC8vIHRvIGFsbG93IHJlbW92aW5nL25vIGNoYW5nZSBiZWhhdmlvci5cbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG5cbiAgZnJvbUF0dHJpYnV0ZSh2YWx1ZTogc3RyaW5nIHwgbnVsbCwgdHlwZT86IHVua25vd24pIHtcbiAgICBsZXQgZnJvbVZhbHVlOiB1bmtub3duID0gdmFsdWU7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgIGZyb21WYWx1ZSA9IHZhbHVlICE9PSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICBmcm9tVmFsdWUgPSB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgLy8gRG8gKm5vdCogZ2VuZXJhdGUgZXhjZXB0aW9uIHdoZW4gaW52YWxpZCBKU09OIGlzIHNldCBhcyBlbGVtZW50c1xuICAgICAgICAvLyBkb24ndCBub3JtYWxseSBjb21wbGFpbiBvbiBiZWluZyBtaXMtY29uZmlndXJlZC5cbiAgICAgICAgLy8gVE9ETyhzb3J2ZWxsKTogRG8gZ2VuZXJhdGUgZXhjZXB0aW9uIGluICpkZXYgbW9kZSouXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQXNzZXJ0IHRvIGFkaGVyZSB0byBCYXplbCdzIFwibXVzdCB0eXBlIGFzc2VydCBKU09OIHBhcnNlXCIgcnVsZS5cbiAgICAgICAgICBmcm9tVmFsdWUgPSBKU09OLnBhcnNlKHZhbHVlISkgYXMgdW5rbm93bjtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGZyb21WYWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBmcm9tVmFsdWU7XG4gIH0sXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEhhc0NoYW5nZWQge1xuICAodmFsdWU6IHVua25vd24sIG9sZDogdW5rbm93bik6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQ2hhbmdlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgZGlmZmVyZW50IGZyb20gYG9sZFZhbHVlYC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQgZm9yIGEgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBub3RFcXVhbDogSGFzQ2hhbmdlZCA9ICh2YWx1ZTogdW5rbm93biwgb2xkOiB1bmtub3duKTogYm9vbGVhbiA9PlxuICAhaXModmFsdWUsIG9sZCk7XG5cbmNvbnN0IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICBhdHRyaWJ1dGU6IHRydWUsXG4gIHR5cGU6IFN0cmluZyxcbiAgY29udmVydGVyOiBkZWZhdWx0Q29udmVydGVyLFxuICByZWZsZWN0OiBmYWxzZSxcbiAgdXNlRGVmYXVsdDogZmFsc2UsXG4gIGhhc0NoYW5nZWQ6IG5vdEVxdWFsLFxufTtcblxuLyoqXG4gKiBBIHN0cmluZyByZXByZXNlbnRpbmcgb25lIG9mIHRoZSBzdXBwb3J0ZWQgZGV2IG1vZGUgd2FybmluZyBjYXRlZ29yaWVzLlxuICovXG5leHBvcnQgdHlwZSBXYXJuaW5nS2luZCA9XG4gIHwgJ2NoYW5nZS1pbi11cGRhdGUnXG4gIHwgJ21pZ3JhdGlvbidcbiAgfCAnYXN5bmMtcGVyZm9ybS11cGRhdGUnO1xuXG5leHBvcnQgdHlwZSBJbml0aWFsaXplciA9IChlbGVtZW50OiBSZWFjdGl2ZUVsZW1lbnQpID0+IHZvaWQ7XG5cbi8vIFRlbXBvcmFyeSwgdW50aWwgZ29vZ2xlMyBpcyBvbiBUeXBlU2NyaXB0IDUuMlxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgU3ltYm9sQ29uc3RydWN0b3Ige1xuICAgIHJlYWRvbmx5IG1ldGFkYXRhOiB1bmlxdWUgc3ltYm9sO1xuICB9XG59XG5cbi8vIEVuc3VyZSBtZXRhZGF0YSBpcyBlbmFibGVkLiBUeXBlU2NyaXB0IGRvZXMgbm90IHBvbHlmaWxsXG4vLyBTeW1ib2wubWV0YWRhdGEsIHNvIHdlIG11c3QgZW5zdXJlIHRoYXQgaXQgZXhpc3RzLlxuKFN5bWJvbCBhcyB7bWV0YWRhdGE6IHN5bWJvbH0pLm1ldGFkYXRhID8/PSBTeW1ib2woJ21ldGFkYXRhJyk7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gVGhpcyBpcyBwdWJsaWMgZ2xvYmFsIEFQSSwgZG8gbm90IGNoYW5nZSFcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICB2YXIgbGl0UHJvcGVydHlNZXRhZGF0YTogV2Vha01hcDxcbiAgICBvYmplY3QsXG4gICAgTWFwPFByb3BlcnR5S2V5LCBQcm9wZXJ0eURlY2xhcmF0aW9uPlxuICA+O1xufVxuXG4vLyBNYXAgZnJvbSBhIGNsYXNzJ3MgbWV0YWRhdGEgb2JqZWN0IHRvIHByb3BlcnR5IG9wdGlvbnNcbi8vIE5vdGUgdGhhdCB3ZSBtdXN0IHVzZSBudWxsaXNoLWNvYWxlc2NpbmcgYXNzaWdubWVudCBzbyB0aGF0IHdlIG9ubHkgdXNlIG9uZVxuLy8gbWFwIGV2ZW4gaWYgd2UgbG9hZCBtdWx0aXBsZSB2ZXJzaW9uIG9mIHRoaXMgbW9kdWxlLlxuZ2xvYmFsLmxpdFByb3BlcnR5TWV0YWRhdGEgPz89IG5ldyBXZWFrTWFwPFxuICBvYmplY3QsXG4gIE1hcDxQcm9wZXJ0eUtleSwgUHJvcGVydHlEZWNsYXJhdGlvbj5cbj4oKTtcblxuLyoqXG4gKiBCYXNlIGVsZW1lbnQgY2xhc3Mgd2hpY2ggbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMuIFdoZW5cbiAqIHByb3BlcnRpZXMgY2hhbmdlLCB0aGUgYHVwZGF0ZWAgbWV0aG9kIGlzIGFzeW5jaHJvbm91c2x5IGNhbGxlZC4gVGhpcyBtZXRob2RcbiAqIHNob3VsZCBiZSBzdXBwbGllZCBieSBzdWJjbGFzc2VzIHRvIHJlbmRlciB1cGRhdGVzIGFzIGRlc2lyZWQuXG4gKiBAbm9Jbmhlcml0RG9jXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZWFjdGl2ZUVsZW1lbnRcbiAgLy8gSW4gdGhlIE5vZGUgYnVpbGQsIHRoaXMgYGV4dGVuZHNgIGNsYXVzZSB3aWxsIGJlIHN1YnN0aXR1dGVkIHdpdGhcbiAgLy8gYChnbG9iYWxUaGlzLkhUTUxFbGVtZW50ID8/IEhUTUxFbGVtZW50KWAuXG4gIC8vXG4gIC8vIFRoaXMgd2F5LCB3ZSB3aWxsIGZpcnN0IHByZWZlciBhbnkgZ2xvYmFsIGBIVE1MRWxlbWVudGAgcG9seWZpbGwgdGhhdCB0aGVcbiAgLy8gdXNlciBoYXMgYXNzaWduZWQsIGFuZCB0aGVuIGZhbGwgYmFjayB0byB0aGUgYEhUTUxFbGVtZW50YCBzaGltIHdoaWNoIGhhc1xuICAvLyBiZWVuIGltcG9ydGVkIChzZWUgbm90ZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZSBhYm91dCBob3cgdGhpcyBpbXBvcnQgaXNcbiAgLy8gZ2VuZXJhdGVkIGJ5IFJvbGx1cCkuIE5vdGUgdGhhdCB0aGUgYEhUTUxFbGVtZW50YCB2YXJpYWJsZSBoYXMgYmVlblxuICAvLyBzaGFkb3dlZCBieSB0aGlzIGltcG9ydCwgc28gaXQgbm8gbG9uZ2VyIHJlZmVycyB0byB0aGUgZ2xvYmFsLlxuICBleHRlbmRzIEhUTUxFbGVtZW50XG4gIGltcGxlbWVudHMgUmVhY3RpdmVDb250cm9sbGVySG9zdFxue1xuICAvLyBOb3RlOiB0aGVzZSBhcmUgcGF0Y2hlZCBpbiBvbmx5IGluIERFVl9NT0RFLlxuICAvKipcbiAgICogUmVhZCBvciBzZXQgYWxsIHRoZSBlbmFibGVkIHdhcm5pbmcgY2F0ZWdvcmllcyBmb3IgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBvbmx5IHVzZWQgaW4gZGV2ZWxvcG1lbnQgYnVpbGRzLlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgZGV2LW1vZGVcbiAgICovXG4gIHN0YXRpYyBlbmFibGVkV2FybmluZ3M/OiBXYXJuaW5nS2luZFtdO1xuXG4gIC8qKlxuICAgKiBFbmFibGUgdGhlIGdpdmVuIHdhcm5pbmcgY2F0ZWdvcnkgZm9yIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIG9ubHkgZXhpc3RzIGluIGRldmVsb3BtZW50IGJ1aWxkcywgc28gaXQgc2hvdWxkIGJlIGFjY2Vzc2VkXG4gICAqIHdpdGggYSBndWFyZCBsaWtlOlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiAvLyBFbmFibGUgZm9yIGFsbCBSZWFjdGl2ZUVsZW1lbnQgc3ViY2xhc3Nlc1xuICAgKiBSZWFjdGl2ZUVsZW1lbnQuZW5hYmxlV2FybmluZz8uKCdtaWdyYXRpb24nKTtcbiAgICpcbiAgICogLy8gRW5hYmxlIGZvciBvbmx5IE15RWxlbWVudCBhbmQgc3ViY2xhc3Nlc1xuICAgKiBNeUVsZW1lbnQuZW5hYmxlV2FybmluZz8uKCdtaWdyYXRpb24nKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBkZXYtbW9kZVxuICAgKi9cbiAgc3RhdGljIGVuYWJsZVdhcm5pbmc/OiAod2FybmluZ0tpbmQ6IFdhcm5pbmdLaW5kKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBEaXNhYmxlIHRoZSBnaXZlbiB3YXJuaW5nIGNhdGVnb3J5IGZvciB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBvbmx5IGV4aXN0cyBpbiBkZXZlbG9wbWVudCBidWlsZHMsIHNvIGl0IHNob3VsZCBiZSBhY2Nlc3NlZFxuICAgKiB3aXRoIGEgZ3VhcmQgbGlrZTpcbiAgICpcbiAgICogYGBgdHNcbiAgICogLy8gRGlzYWJsZSBmb3IgYWxsIFJlYWN0aXZlRWxlbWVudCBzdWJjbGFzc2VzXG4gICAqIFJlYWN0aXZlRWxlbWVudC5kaXNhYmxlV2FybmluZz8uKCdtaWdyYXRpb24nKTtcbiAgICpcbiAgICogLy8gRGlzYWJsZSBmb3Igb25seSBNeUVsZW1lbnQgYW5kIHN1YmNsYXNzZXNcbiAgICogTXlFbGVtZW50LmRpc2FibGVXYXJuaW5nPy4oJ21pZ3JhdGlvbicpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IGRldi1tb2RlXG4gICAqL1xuICBzdGF0aWMgZGlzYWJsZVdhcm5pbmc/OiAod2FybmluZ0tpbmQ6IFdhcm5pbmdLaW5kKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBBZGRzIGFuIGluaXRpYWxpemVyIGZ1bmN0aW9uIHRvIHRoZSBjbGFzcyB0aGF0IGlzIGNhbGxlZCBkdXJpbmcgaW5zdGFuY2VcbiAgICogY29uc3RydWN0aW9uLlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY29kZSB0aGF0IHJ1bnMgYWdhaW5zdCBhIGBSZWFjdGl2ZUVsZW1lbnRgXG4gICAqIHN1YmNsYXNzLCBzdWNoIGFzIGEgZGVjb3JhdG9yLCB0aGF0IG5lZWRzIHRvIGRvIHdvcmsgZm9yIGVhY2hcbiAgICogaW5zdGFuY2UsIHN1Y2ggYXMgc2V0dGluZyB1cCBhIGBSZWFjdGl2ZUNvbnRyb2xsZXJgLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBteURlY29yYXRvciA9ICh0YXJnZXQ6IHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQsIGtleTogc3RyaW5nKSA9PiB7XG4gICAqICAgdGFyZ2V0LmFkZEluaXRpYWxpemVyKChpbnN0YW5jZTogUmVhY3RpdmVFbGVtZW50KSA9PiB7XG4gICAqICAgICAvLyBUaGlzIGlzIHJ1biBkdXJpbmcgY29uc3RydWN0aW9uIG9mIHRoZSBlbGVtZW50XG4gICAqICAgICBuZXcgTXlDb250cm9sbGVyKGluc3RhbmNlKTtcbiAgICogICB9KTtcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogRGVjb3JhdGluZyBhIGZpZWxkIHdpbGwgdGhlbiBjYXVzZSBlYWNoIGluc3RhbmNlIHRvIHJ1biBhbiBpbml0aWFsaXplclxuICAgKiB0aGF0IGFkZHMgYSBjb250cm9sbGVyOlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICogICBAbXlEZWNvcmF0b3IgZm9vO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBJbml0aWFsaXplcnMgYXJlIHN0b3JlZCBwZXItY29uc3RydWN0b3IuIEFkZGluZyBhbiBpbml0aWFsaXplciB0byBhXG4gICAqIHN1YmNsYXNzIGRvZXMgbm90IGFkZCBpdCB0byBhIHN1cGVyY2xhc3MuIFNpbmNlIGluaXRpYWxpemVycyBhcmUgcnVuIGluXG4gICAqIGNvbnN0cnVjdG9ycywgaW5pdGlhbGl6ZXJzIHdpbGwgcnVuIGluIG9yZGVyIG9mIHRoZSBjbGFzcyBoaWVyYXJjaHksXG4gICAqIHN0YXJ0aW5nIHdpdGggc3VwZXJjbGFzc2VzIGFuZCBwcm9ncmVzc2luZyB0byB0aGUgaW5zdGFuY2UncyBjbGFzcy5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHN0YXRpYyBhZGRJbml0aWFsaXplcihpbml0aWFsaXplcjogSW5pdGlhbGl6ZXIpIHtcbiAgICB0aGlzLl9fcHJlcGFyZSgpO1xuICAgICh0aGlzLl9pbml0aWFsaXplcnMgPz89IFtdKS5wdXNoKGluaXRpYWxpemVyKTtcbiAgfVxuXG4gIHN0YXRpYyBfaW5pdGlhbGl6ZXJzPzogSW5pdGlhbGl6ZXJbXTtcblxuICAvKlxuICAgKiBEdWUgdG8gY2xvc3VyZSBjb21waWxlciBFUzYgY29tcGlsYXRpb24gYnVncywgQG5vY29sbGFwc2UgaXMgcmVxdWlyZWQgb25cbiAgICogYWxsIHN0YXRpYyBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIHdpdGggaW5pdGlhbGl6ZXJzLiAgUmVmZXJlbmNlOlxuICAgKiAtIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMTc3NlxuICAgKi9cblxuICAvKipcbiAgICogTWFwcyBhdHRyaWJ1dGUgbmFtZXMgdG8gcHJvcGVydGllczsgZm9yIGV4YW1wbGUgYGZvb2JhcmAgYXR0cmlidXRlIHRvXG4gICAqIGBmb29CYXJgIHByb3BlcnR5LiBDcmVhdGVkIGxhemlseSBvbiB1c2VyIHN1YmNsYXNzZXMgd2hlbiBmaW5hbGl6aW5nIHRoZVxuICAgKiBjbGFzcy5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcDogQXR0cmlidXRlTWFwO1xuXG4gIC8qKlxuICAgKiBNYXJrcyBjbGFzcyBhcyBoYXZpbmcgYmVlbiBmaW5hbGl6ZWQsIHdoaWNoIGluY2x1ZGVzIGNyZWF0aW5nIHByb3BlcnRpZXNcbiAgICogZnJvbSBgc3RhdGljIHByb3BlcnRpZXNgLCBidXQgZG9lcyAqbm90KiBpbmNsdWRlIGFsbCBwcm9wZXJ0aWVzIGNyZWF0ZWRcbiAgICogZnJvbSBkZWNvcmF0b3JzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbGl6ZWQ6IHRydWUgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIE1lbW9pemVkIGxpc3Qgb2YgYWxsIGVsZW1lbnQgcHJvcGVydGllcywgaW5jbHVkaW5nIGFueSBzdXBlcmNsYXNzXG4gICAqIHByb3BlcnRpZXMuIENyZWF0ZWQgbGF6aWx5IG9uIHVzZXIgc3ViY2xhc3NlcyB3aGVuIGZpbmFsaXppbmcgdGhlIGNsYXNzLlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcHJvcGVydGllc1xuICAgKi9cbiAgc3RhdGljIGVsZW1lbnRQcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwO1xuXG4gIC8qKlxuICAgKiBVc2VyLXN1cHBsaWVkIG9iamVjdCB0aGF0IG1hcHMgcHJvcGVydHkgbmFtZXMgdG8gYFByb3BlcnR5RGVjbGFyYXRpb25gXG4gICAqIG9iamVjdHMgY29udGFpbmluZyBvcHRpb25zIGZvciBjb25maWd1cmluZyByZWFjdGl2ZSBwcm9wZXJ0aWVzLiBXaGVuXG4gICAqIGEgcmVhY3RpdmUgcHJvcGVydHkgaXMgc2V0IHRoZSBlbGVtZW50IHdpbGwgdXBkYXRlIGFuZCByZW5kZXIuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQgcHJvcGVydGllcyBhcmUgcHVibGljIGZpZWxkcywgYW5kIGFzIHN1Y2gsIHRoZXkgc2hvdWxkIGJlXG4gICAqIGNvbnNpZGVyZWQgYXMgcHJpbWFyaWx5IHNldHRhYmxlIGJ5IGVsZW1lbnQgdXNlcnMsIGVpdGhlciB2aWEgYXR0cmlidXRlIG9yXG4gICAqIHRoZSBwcm9wZXJ0eSBpdHNlbGYuXG4gICAqXG4gICAqIEdlbmVyYWxseSwgcHJvcGVydGllcyB0aGF0IGFyZSBjaGFuZ2VkIGJ5IHRoZSBlbGVtZW50IHNob3VsZCBiZSBwcml2YXRlIG9yXG4gICAqIHByb3RlY3RlZCBmaWVsZHMgYW5kIHNob3VsZCB1c2UgdGhlIGBzdGF0ZTogdHJ1ZWAgb3B0aW9uLiBQcm9wZXJ0aWVzXG4gICAqIG1hcmtlZCBhcyBgc3RhdGVgIGRvIG5vdCByZWZsZWN0IGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlXG4gICAqXG4gICAqIEhvd2V2ZXIsIHNvbWV0aW1lcyBlbGVtZW50IGNvZGUgZG9lcyBuZWVkIHRvIHNldCBhIHB1YmxpYyBwcm9wZXJ0eS4gVGhpc1xuICAgKiBzaG91bGQgdHlwaWNhbGx5IG9ubHkgYmUgZG9uZSBpbiByZXNwb25zZSB0byB1c2VyIGludGVyYWN0aW9uLCBhbmQgYW4gZXZlbnRcbiAgICogc2hvdWxkIGJlIGZpcmVkIGluZm9ybWluZyB0aGUgdXNlcjsgZm9yIGV4YW1wbGUsIGEgY2hlY2tib3ggc2V0cyBpdHNcbiAgICogYGNoZWNrZWRgIHByb3BlcnR5IHdoZW4gY2xpY2tlZCBhbmQgZmlyZXMgYSBgY2hhbmdlZGAgZXZlbnQuIE11dGF0aW5nXG4gICAqIHB1YmxpYyBwcm9wZXJ0aWVzIHNob3VsZCB0eXBpY2FsbHkgbm90IGJlIGRvbmUgZm9yIG5vbi1wcmltaXRpdmUgKG9iamVjdCBvclxuICAgKiBhcnJheSkgcHJvcGVydGllcy4gSW4gb3RoZXIgY2FzZXMgd2hlbiBhbiBlbGVtZW50IG5lZWRzIHRvIG1hbmFnZSBzdGF0ZSwgYVxuICAgKiBwcml2YXRlIHByb3BlcnR5IHNldCB3aXRoIHRoZSBgc3RhdGU6IHRydWVgIG9wdGlvbiBzaG91bGQgYmUgdXNlZC4gV2hlblxuICAgKiBuZWVkZWQsIHN0YXRlIHByb3BlcnRpZXMgY2FuIGJlIGluaXRpYWxpemVkIHZpYSBwdWJsaWMgcHJvcGVydGllcyB0b1xuICAgKiBmYWNpbGl0YXRlIGNvbXBsZXggaW50ZXJhY3Rpb25zLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcHJvcGVydGllc1xuICAgKi9cbiAgc3RhdGljIHByb3BlcnRpZXM6IFByb3BlcnR5RGVjbGFyYXRpb25zO1xuXG4gIC8qKlxuICAgKiBNZW1vaXplZCBsaXN0IG9mIGFsbCBlbGVtZW50IHN0eWxlcy5cbiAgICogQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGUgY2xhc3MuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBzdHlsZXNcbiAgICovXG4gIHN0YXRpYyBlbGVtZW50U3R5bGVzOiBBcnJheTxDU1NSZXN1bHRPck5hdGl2ZT4gPSBbXTtcblxuICAvKipcbiAgICogQXJyYXkgb2Ygc3R5bGVzIHRvIGFwcGx5IHRvIHRoZSBlbGVtZW50LiBUaGUgc3R5bGVzIHNob3VsZCBiZSBkZWZpbmVkXG4gICAqIHVzaW5nIHRoZSB7QGxpbmtjb2RlIGNzc30gdGFnIGZ1bmN0aW9uLCB2aWEgY29uc3RydWN0aWJsZSBzdHlsZXNoZWV0cywgb3JcbiAgICogaW1wb3J0ZWQgZnJvbSBuYXRpdmUgQ1NTIG1vZHVsZSBzY3JpcHRzLlxuICAgKlxuICAgKiBOb3RlIG9uIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5OlxuICAgKlxuICAgKiBFbGVtZW50IHN0eWxlcyBhcmUgaW1wbGVtZW50ZWQgd2l0aCBgPHN0eWxlPmAgdGFncyB3aGVuIHRoZSBicm93c2VyIGRvZXNuJ3RcbiAgICogc3VwcG9ydCBhZG9wdGVkIFN0eWxlU2hlZXRzLiBUbyB1c2Ugc3VjaCBgPHN0eWxlPmAgdGFncyB3aXRoIHRoZSBzdHlsZS1zcmNcbiAgICogQ1NQIGRpcmVjdGl2ZSwgdGhlIHN0eWxlLXNyYyB2YWx1ZSBtdXN0IGVpdGhlciBpbmNsdWRlICd1bnNhZmUtaW5saW5lJyBvclxuICAgKiBgbm9uY2UtPGJhc2U2NC12YWx1ZT5gIHdpdGggYDxiYXNlNjQtdmFsdWU+YCByZXBsYWNlZCBiZSBhIHNlcnZlci1nZW5lcmF0ZWRcbiAgICogbm9uY2UuXG4gICAqXG4gICAqIFRvIHByb3ZpZGUgYSBub25jZSB0byB1c2Ugb24gZ2VuZXJhdGVkIGA8c3R5bGU+YCBlbGVtZW50cywgc2V0XG4gICAqIGB3aW5kb3cubGl0Tm9uY2VgIHRvIGEgc2VydmVyLWdlbmVyYXRlZCBub25jZSBpbiB5b3VyIHBhZ2UncyBIVE1MLCBiZWZvcmVcbiAgICogbG9hZGluZyBhcHBsaWNhdGlvbiBjb2RlOlxuICAgKlxuICAgKiBgYGBodG1sXG4gICAqIDxzY3JpcHQ+XG4gICAqICAgLy8gR2VuZXJhdGVkIGFuZCB1bmlxdWUgcGVyIHJlcXVlc3Q6XG4gICAqICAgd2luZG93LmxpdE5vbmNlID0gJ2ExYjJjM2Q0JztcbiAgICogPC9zY3JpcHQ+XG4gICAqIGBgYFxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgc3R5bGVzXG4gICAqL1xuICBzdGF0aWMgc3R5bGVzPzogQ1NTUmVzdWx0R3JvdXA7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIGF0dHJpYnV0ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgYXR0cmlidXRlc1xuICAgKi9cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgLy8gRW5zdXJlIHdlJ3ZlIGNyZWF0ZWQgYWxsIHByb3BlcnRpZXNcbiAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgLy8gdGhpcy5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgaXMgb25seSB1bmRlZmluZWQgYWZ0ZXIgZmluYWxpemUoKSBpblxuICAgIC8vIFJlYWN0aXZlRWxlbWVudCBpdHNlbGYuIFJlYWN0aXZlRWxlbWVudC5vYnNlcnZlZEF0dHJpYnV0ZXMgaXMgb25seVxuICAgIC8vIGFjY2Vzc2VkIHdpdGggUmVhY3RpdmVFbGVtZW50IGFzIHRoZSByZWNlaXZlciB3aGVuIGEgc3ViY2xhc3Mgb3IgbWl4aW5cbiAgICAvLyBjYWxscyBzdXBlci5vYnNlcnZlZEF0dHJpYnV0ZXNcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgJiYgWy4uLnRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLmtleXMoKV1cbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBfX2luc3RhbmNlUHJvcGVydGllcz86IFByb3BlcnR5VmFsdWVzID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcHJvcGVydHkgYWNjZXNzb3Igb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlIGlmIG9uZSBkb2VzIG5vdCBleGlzdFxuICAgKiBhbmQgc3RvcmVzIGEge0BsaW5rY29kZSBQcm9wZXJ0eURlY2xhcmF0aW9ufSBmb3IgdGhlIHByb3BlcnR5IHdpdGggdGhlXG4gICAqIGdpdmVuIG9wdGlvbnMuIFRoZSBwcm9wZXJ0eSBzZXR0ZXIgY2FsbHMgdGhlIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgXG4gICAqIHByb3BlcnR5IG9wdGlvbiBvciB1c2VzIGEgc3RyaWN0IGlkZW50aXR5IGNoZWNrIHRvIGRldGVybWluZSB3aGV0aGVyIG9yIG5vdFxuICAgKiB0byByZXF1ZXN0IGFuIHVwZGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgbWF5IGJlIG92ZXJyaWRkZW4gdG8gY3VzdG9taXplIHByb3BlcnRpZXM7IGhvd2V2ZXIsXG4gICAqIHdoZW4gZG9pbmcgc28sIGl0J3MgaW1wb3J0YW50IHRvIGNhbGwgYHN1cGVyLmNyZWF0ZVByb3BlcnR5YCB0byBlbnN1cmVcbiAgICogdGhlIHByb3BlcnR5IGlzIHNldHVwIGNvcnJlY3RseS4gVGhpcyBtZXRob2QgY2FsbHNcbiAgICogYGdldFByb3BlcnR5RGVzY3JpcHRvcmAgaW50ZXJuYWxseSB0byBnZXQgYSBkZXNjcmlwdG9yIHRvIGluc3RhbGwuXG4gICAqIFRvIGN1c3RvbWl6ZSB3aGF0IHByb3BlcnRpZXMgZG8gd2hlbiB0aGV5IGFyZSBnZXQgb3Igc2V0LCBvdmVycmlkZVxuICAgKiBgZ2V0UHJvcGVydHlEZXNjcmlwdG9yYC4gVG8gY3VzdG9taXplIHRoZSBvcHRpb25zIGZvciBhIHByb3BlcnR5LFxuICAgKiBpbXBsZW1lbnQgYGNyZWF0ZVByb3BlcnR5YCBsaWtlIHRoaXM6XG4gICAqXG4gICAqIGBgYHRzXG4gICAqIHN0YXRpYyBjcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKSB7XG4gICAqICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24ob3B0aW9ucywge215T3B0aW9uOiB0cnVlfSk7XG4gICAqICAgc3VwZXIuY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlUHJvcGVydHkoXG4gICAgbmFtZTogUHJvcGVydHlLZXksXG4gICAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uXG4gICkge1xuICAgIC8vIElmIHRoaXMgaXMgYSBzdGF0ZSBwcm9wZXJ0eSwgZm9yY2UgdGhlIGF0dHJpYnV0ZSB0byBmYWxzZS5cbiAgICBpZiAob3B0aW9ucy5zdGF0ZSkge1xuICAgICAgKG9wdGlvbnMgYXMgTXV0YWJsZTxQcm9wZXJ0eURlY2xhcmF0aW9uLCAnYXR0cmlidXRlJz4pLmF0dHJpYnV0ZSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLl9fcHJlcGFyZSgpO1xuICAgIC8vIFdoZXRoZXIgdGhpcyBwcm9wZXJ0eSBpcyB3cmFwcGluZyBhY2Nlc3NvcnMuXG4gICAgLy8gSGVscHMgY29udHJvbCB0aGUgaW5pdGlhbCB2YWx1ZSBjaGFuZ2UgYW5kIHJlZmxlY3Rpb24gbG9naWMuXG4gICAgaWYgKHRoaXMucHJvdG90eXBlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBvcHRpb25zID0gT2JqZWN0LmNyZWF0ZShvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMud3JhcHBlZCA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgIGlmICghb3B0aW9ucy5ub0FjY2Vzc29yKSB7XG4gICAgICBjb25zdCBrZXkgPSBERVZfTU9ERVxuICAgICAgICA/IC8vIFVzZSBTeW1ib2wuZm9yIGluIGRldiBtb2RlIHRvIG1ha2UgaXQgZWFzaWVyIHRvIG1haW50YWluIHN0YXRlXG4gICAgICAgICAgLy8gd2hlbiBkb2luZyBITVIuXG4gICAgICAgICAgU3ltYm9sLmZvcihgJHtTdHJpbmcobmFtZSl9IChAcHJvcGVydHkoKSBjYWNoZSlgKVxuICAgICAgICA6IFN5bWJvbCgpO1xuICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucyk7XG4gICAgICBpZiAoZGVzY3JpcHRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KHRoaXMucHJvdG90eXBlLCBuYW1lLCBkZXNjcmlwdG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb3BlcnR5IGRlc2NyaXB0b3IgdG8gYmUgZGVmaW5lZCBvbiB0aGUgZ2l2ZW4gbmFtZWQgcHJvcGVydHkuXG4gICAqIElmIG5vIGRlc2NyaXB0b3IgaXMgcmV0dXJuZWQsIHRoZSBwcm9wZXJ0eSB3aWxsIG5vdCBiZWNvbWUgYW4gYWNjZXNzb3IuXG4gICAqIEZvciBleGFtcGxlLFxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICogICBzdGF0aWMgZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucykge1xuICAgKiAgICAgY29uc3QgZGVmYXVsdERlc2NyaXB0b3IgPVxuICAgKiAgICAgICAgIHN1cGVyLmdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpO1xuICAgKiAgICAgY29uc3Qgc2V0dGVyID0gZGVmYXVsdERlc2NyaXB0b3Iuc2V0O1xuICAgKiAgICAgcmV0dXJuIHtcbiAgICogICAgICAgZ2V0OiBkZWZhdWx0RGVzY3JpcHRvci5nZXQsXG4gICAqICAgICAgIHNldCh2YWx1ZSkge1xuICAgKiAgICAgICAgIHNldHRlci5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICogICAgICAgICAvLyBjdXN0b20gYWN0aW9uLlxuICAgKiAgICAgICB9LFxuICAgKiAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAqICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICogICAgIH1cbiAgICogICB9XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGdldFByb3BlcnR5RGVzY3JpcHRvcihcbiAgICBuYW1lOiBQcm9wZXJ0eUtleSxcbiAgICBrZXk6IHN0cmluZyB8IHN5bWJvbCxcbiAgICBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uXG4gICk6IFByb3BlcnR5RGVzY3JpcHRvciB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3Qge2dldCwgc2V0fSA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLnByb3RvdHlwZSwgbmFtZSkgPz8ge1xuICAgICAgZ2V0KHRoaXM6IFJlYWN0aXZlRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpc1trZXkgYXMga2V5b2YgdHlwZW9mIHRoaXNdO1xuICAgICAgfSxcbiAgICAgIHNldCh0aGlzOiBSZWFjdGl2ZUVsZW1lbnQsIHY6IHVua25vd24pIHtcbiAgICAgICAgKHRoaXMgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCB1bmtub3duPilba2V5XSA9IHY7XG4gICAgICB9LFxuICAgIH07XG4gICAgaWYgKERFVl9NT0RFICYmIGdldCA9PSBudWxsKSB7XG4gICAgICBpZiAoJ3ZhbHVlJyBpbiAoZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMucHJvdG90eXBlLCBuYW1lKSA/PyB7fSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBGaWVsZCAke0pTT04uc3RyaW5naWZ5KFN0cmluZyhuYW1lKSl9IG9uIGAgK1xuICAgICAgICAgICAgYCR7dGhpcy5uYW1lfSB3YXMgZGVjbGFyZWQgYXMgYSByZWFjdGl2ZSBwcm9wZXJ0eSBgICtcbiAgICAgICAgICAgIGBidXQgaXQncyBhY3R1YWxseSBkZWNsYXJlZCBhcyBhIHZhbHVlIG9uIHRoZSBwcm90b3R5cGUuIGAgK1xuICAgICAgICAgICAgYFVzdWFsbHkgdGhpcyBpcyBkdWUgdG8gdXNpbmcgQHByb3BlcnR5IG9yIEBzdGF0ZSBvbiBhIG1ldGhvZC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICdyZWFjdGl2ZS1wcm9wZXJ0eS13aXRob3V0LWdldHRlcicsXG4gICAgICAgIGBGaWVsZCAke0pTT04uc3RyaW5naWZ5KFN0cmluZyhuYW1lKSl9IG9uIGAgK1xuICAgICAgICAgIGAke3RoaXMubmFtZX0gd2FzIGRlY2xhcmVkIGFzIGEgcmVhY3RpdmUgcHJvcGVydHkgYCArXG4gICAgICAgICAgYGJ1dCBpdCBkb2VzIG5vdCBoYXZlIGEgZ2V0dGVyLiBUaGlzIHdpbGwgYmUgYW4gZXJyb3IgaW4gYSBgICtcbiAgICAgICAgICBgZnV0dXJlIHZlcnNpb24gb2YgTGl0LmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBnZXQsXG4gICAgICBzZXQodGhpczogUmVhY3RpdmVFbGVtZW50LCB2YWx1ZTogdW5rbm93bikge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGdldD8uY2FsbCh0aGlzKTtcbiAgICAgICAgc2V0Py5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgb3B0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgKiBUaGVzZSBvcHRpb25zIGFyZSBkZWZpbmVkIHdpdGggYSBgUHJvcGVydHlEZWNsYXJhdGlvbmAgdmlhIHRoZSBgcHJvcGVydGllc2BcbiAgICogb2JqZWN0IG9yIHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3IgYW5kIGFyZSByZWdpc3RlcmVkIGluXG4gICAqIGBjcmVhdGVQcm9wZXJ0eSguLi4pYC5cbiAgICpcbiAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgXCJmaW5hbFwiIGFuZCBub3Qgb3ZlcnJpZGRlbi4gVG9cbiAgICogY3VzdG9taXplIHRoZSBvcHRpb25zIGZvciBhIGdpdmVuIHByb3BlcnR5LCBvdmVycmlkZVxuICAgKiB7QGxpbmtjb2RlIGNyZWF0ZVByb3BlcnR5fS5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGZpbmFsXG4gICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAqL1xuICBzdGF0aWMgZ2V0UHJvcGVydHlPcHRpb25zKG5hbWU6IFByb3BlcnR5S2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuZ2V0KG5hbWUpID8/IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uO1xuICB9XG5cbiAgLy8gVGVtcG9yYXJ5LCB1bnRpbCBnb29nbGUzIGlzIG9uIFR5cGVTY3JpcHQgNS4yXG4gIGRlY2xhcmUgc3RhdGljIFtTeW1ib2wubWV0YWRhdGFdOiBvYmplY3QgJiBSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBzdGF0aWMgb3duIHByb3BlcnRpZXMgb2YgdGhlIGNsYXNzIHVzZWQgaW4gYm9va2tlZXBpbmdcbiAgICogZm9yIGVsZW1lbnQgcHJvcGVydGllcywgaW5pdGlhbGl6ZXJzLCBldGMuXG4gICAqXG4gICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgYnkgY29kZSB0aGF0IG5lZWRzIHRvIGVuc3VyZSB0aGVzZVxuICAgKiBwcm9wZXJ0aWVzIGV4aXN0IGJlZm9yZSB1c2luZyB0aGVtLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBlbnN1cmVzIHRoZSBzdXBlcmNsYXNzIGlzIGZpbmFsaXplZCBzbyB0aGF0IGluaGVyaXRlZFxuICAgKiBwcm9wZXJ0eSBtZXRhZGF0YSBjYW4gYmUgY29waWVkIGRvd24uXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfX3ByZXBhcmUoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdlbGVtZW50UHJvcGVydGllcycsIHRoaXMpKVxuICAgICkge1xuICAgICAgLy8gQWxyZWFkeSBwcmVwYXJlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBGaW5hbGl6ZSBhbnkgc3VwZXJjbGFzc2VzXG4gICAgY29uc3Qgc3VwZXJDdG9yID0gZ2V0UHJvdG90eXBlT2YodGhpcykgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudDtcbiAgICBzdXBlckN0b3IuZmluYWxpemUoKTtcblxuICAgIC8vIENyZWF0ZSBvd24gc2V0IG9mIGluaXRpYWxpemVycyBmb3IgdGhpcyBjbGFzcyBpZiBhbnkgZXhpc3Qgb24gdGhlXG4gICAgLy8gc3VwZXJjbGFzcyBhbmQgY29weSB0aGVtIGRvd24uIE5vdGUsIGZvciBhIHNtYWxsIHBlcmYgYm9vc3QsIGF2b2lkXG4gICAgLy8gY3JlYXRpbmcgaW5pdGlhbGl6ZXJzIHVubGVzcyBuZWVkZWQuXG4gICAgaWYgKHN1cGVyQ3Rvci5faW5pdGlhbGl6ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX2luaXRpYWxpemVycyA9IFsuLi5zdXBlckN0b3IuX2luaXRpYWxpemVyc107XG4gICAgfVxuICAgIC8vIEluaXRpYWxpemUgZWxlbWVudFByb3BlcnRpZXMgZnJvbSB0aGUgc3VwZXJjbGFzc1xuICAgIHRoaXMuZWxlbWVudFByb3BlcnRpZXMgPSBuZXcgTWFwKHN1cGVyQ3Rvci5lbGVtZW50UHJvcGVydGllcyk7XG4gIH1cblxuICAvKipcbiAgICogRmluaXNoZXMgc2V0dGluZyB1cCB0aGUgY2xhc3Mgc28gdGhhdCBpdCdzIHJlYWR5IHRvIGJlIHJlZ2lzdGVyZWRcbiAgICogYXMgYSBjdXN0b20gZWxlbWVudCBhbmQgaW5zdGFudGlhdGVkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkgdGhlIFJlYWN0aXZlRWxlbWVudC5vYnNlcnZlZEF0dHJpYnV0ZXMgZ2V0dGVyLlxuICAgKiBJZiB5b3Ugb3ZlcnJpZGUgdGhlIG9ic2VydmVkQXR0cmlidXRlcyBnZXR0ZXIsIHlvdSBtdXN0IGVpdGhlciBjYWxsXG4gICAqIHN1cGVyLm9ic2VydmVkQXR0cmlidXRlcyB0byB0cmlnZ2VyIGZpbmFsaXphdGlvbiwgb3IgY2FsbCBmaW5hbGl6ZSgpXG4gICAqIHlvdXJzZWxmLlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbGl6ZSgpIHtcbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCB0aGlzKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xuICAgIHRoaXMuX19wcmVwYXJlKCk7XG5cbiAgICAvLyBDcmVhdGUgcHJvcGVydGllcyBmcm9tIHRoZSBzdGF0aWMgcHJvcGVydGllcyBibG9jazpcbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgIGNvbnN0IHByb3BLZXlzID0gW1xuICAgICAgICAuLi5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKSxcbiAgICAgICAgLi4uZ2V0T3duUHJvcGVydHlTeW1ib2xzKHByb3BzKSxcbiAgICAgIF0gYXMgQXJyYXk8a2V5b2YgdHlwZW9mIHByb3BzPjtcbiAgICAgIGZvciAoY29uc3QgcCBvZiBwcm9wS2V5cykge1xuICAgICAgICB0aGlzLmNyZWF0ZVByb3BlcnR5KHAsIHByb3BzW3BdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcHJvcGVydGllcyBmcm9tIHN0YW5kYXJkIGRlY29yYXRvciBtZXRhZGF0YTpcbiAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXNbU3ltYm9sLm1ldGFkYXRhXTtcbiAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBsaXRQcm9wZXJ0eU1ldGFkYXRhLmdldChtZXRhZGF0YSk7XG4gICAgICBpZiAocHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZvciAoY29uc3QgW3AsIG9wdGlvbnNdIG9mIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLnNldChwLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgYXR0cmlidXRlLXRvLXByb3BlcnR5IG1hcFxuICAgIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwID0gbmV3IE1hcCgpO1xuICAgIGZvciAoY29uc3QgW3AsIG9wdGlvbnNdIG9mIHRoaXMuZWxlbWVudFByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IGF0dHIgPSB0aGlzLl9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHAsIG9wdGlvbnMpO1xuICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5zZXQoYXR0ciwgcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50U3R5bGVzID0gdGhpcy5maW5hbGl6ZVN0eWxlcyh0aGlzLnN0eWxlcyk7XG5cbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KCdjcmVhdGVQcm9wZXJ0eScpKSB7XG4gICAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgICAnbm8tb3ZlcnJpZGUtY3JlYXRlLXByb3BlcnR5JyxcbiAgICAgICAgICAnT3ZlcnJpZGluZyBSZWFjdGl2ZUVsZW1lbnQuY3JlYXRlUHJvcGVydHkoKSBpcyBkZXByZWNhdGVkLiAnICtcbiAgICAgICAgICAgICdUaGUgb3ZlcnJpZGUgd2lsbCBub3QgYmUgY2FsbGVkIHdpdGggc3RhbmRhcmQgZGVjb3JhdG9ycydcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KCdnZXRQcm9wZXJ0eURlc2NyaXB0b3InKSkge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICAgJ25vLW92ZXJyaWRlLWdldC1wcm9wZXJ0eS1kZXNjcmlwdG9yJyxcbiAgICAgICAgICAnT3ZlcnJpZGluZyBSZWFjdGl2ZUVsZW1lbnQuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKCkgaXMgZGVwcmVjYXRlZC4gJyArXG4gICAgICAgICAgICAnVGhlIG92ZXJyaWRlIHdpbGwgbm90IGJlIGNhbGxlZCB3aXRoIHN0YW5kYXJkIGRlY29yYXRvcnMnXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgdXNlZCB3aGVuIGNhbGxpbmcgYGF0dGFjaFNoYWRvd2AuIFNldCB0aGlzIHByb3BlcnR5IHRvIGN1c3RvbWl6ZVxuICAgKiB0aGUgb3B0aW9ucyBmb3IgdGhlIHNoYWRvd1Jvb3Q7IGZvciBleGFtcGxlLCB0byBjcmVhdGUgYSBjbG9zZWRcbiAgICogc2hhZG93Um9vdDogYHttb2RlOiAnY2xvc2VkJ31gLlxuICAgKlxuICAgKiBOb3RlLCB0aGVzZSBvcHRpb25zIGFyZSB1c2VkIGluIGBjcmVhdGVSZW5kZXJSb290YC4gSWYgdGhpcyBtZXRob2RcbiAgICogaXMgY3VzdG9taXplZCwgb3B0aW9ucyBzaG91bGQgYmUgcmVzcGVjdGVkIGlmIHBvc3NpYmxlLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBzdGF0aWMgc2hhZG93Um9vdE9wdGlvbnM6IFNoYWRvd1Jvb3RJbml0ID0ge21vZGU6ICdvcGVuJ307XG5cbiAgLyoqXG4gICAqIFRha2VzIHRoZSBzdHlsZXMgdGhlIHVzZXIgc3VwcGxpZWQgdmlhIHRoZSBgc3RhdGljIHN0eWxlc2AgcHJvcGVydHkgYW5kXG4gICAqIHJldHVybnMgdGhlIGFycmF5IG9mIHN0eWxlcyB0byBhcHBseSB0byB0aGUgZWxlbWVudC5cbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gaW50ZWdyYXRlIGludG8gYSBzdHlsZSBtYW5hZ2VtZW50IHN5c3RlbS5cbiAgICpcbiAgICogU3R5bGVzIGFyZSBkZWR1cGxpY2F0ZWQgcHJlc2VydmluZyB0aGUgX2xhc3RfIGluc3RhbmNlIGluIHRoZSBsaXN0LiBUaGlzXG4gICAqIGlzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRvIGF2b2lkIGR1cGxpY2F0ZWQgc3R5bGVzIHRoYXQgY2FuIG9jY3VyXG4gICAqIGVzcGVjaWFsbHkgd2hlbiBjb21wb3NpbmcgdmlhIHN1YmNsYXNzaW5nLiBUaGUgbGFzdCBpdGVtIGlzIGtlcHQgdG8gdHJ5XG4gICAqIHRvIHByZXNlcnZlIHRoZSBjYXNjYWRlIG9yZGVyIHdpdGggdGhlIGFzc3VtcHRpb24gdGhhdCBpdCdzIG1vc3QgaW1wb3J0YW50XG4gICAqIHRoYXQgbGFzdCBhZGRlZCBzdHlsZXMgb3ZlcnJpZGUgcHJldmlvdXMgc3R5bGVzLlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgc3R5bGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGZpbmFsaXplU3R5bGVzKFxuICAgIHN0eWxlcz86IENTU1Jlc3VsdEdyb3VwXG4gICk6IEFycmF5PENTU1Jlc3VsdE9yTmF0aXZlPiB7XG4gICAgY29uc3QgZWxlbWVudFN0eWxlcyA9IFtdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN0eWxlcykpIHtcbiAgICAgIC8vIERlZHVwZSB0aGUgZmxhdHRlbmVkIGFycmF5IGluIHJldmVyc2Ugb3JkZXIgdG8gcHJlc2VydmUgdGhlIGxhc3QgaXRlbXMuXG4gICAgICAvLyBDYXN0aW5nIHRvIEFycmF5PHVua25vd24+IHdvcmtzIGFyb3VuZCBUUyBlcnJvciB0aGF0XG4gICAgICAvLyBhcHBlYXJzIHRvIGNvbWUgZnJvbSB0cnlpbmcgdG8gZmxhdHRlbiBhIHR5cGUgQ1NTUmVzdWx0QXJyYXkuXG4gICAgICBjb25zdCBzZXQgPSBuZXcgU2V0KChzdHlsZXMgYXMgQXJyYXk8dW5rbm93bj4pLmZsYXQoSW5maW5pdHkpLnJldmVyc2UoKSk7XG4gICAgICAvLyBUaGVuIHByZXNlcnZlIG9yaWdpbmFsIG9yZGVyIGJ5IGFkZGluZyB0aGUgc2V0IGl0ZW1zIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICBmb3IgKGNvbnN0IHMgb2Ygc2V0KSB7XG4gICAgICAgIGVsZW1lbnRTdHlsZXMudW5zaGlmdChnZXRDb21wYXRpYmxlU3R5bGUocyBhcyBDU1NSZXN1bHRPck5hdGl2ZSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3R5bGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGVsZW1lbnRTdHlsZXMucHVzaChnZXRDb21wYXRpYmxlU3R5bGUoc3R5bGVzKSk7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50U3R5bGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vZGUgb3IgU2hhZG93Um9vdCBpbnRvIHdoaWNoIGVsZW1lbnQgRE9NIHNob3VsZCBiZSByZW5kZXJlZC4gRGVmYXVsdHNcbiAgICogdG8gYW4gb3BlbiBzaGFkb3dSb290LlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICByZWFkb25seSByZW5kZXJSb290ITogSFRNTEVsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBuYW1lIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIGBuYW1lYC5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KFxuICAgIG5hbWU6IFByb3BlcnR5S2V5LFxuICAgIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb25cbiAgKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZSA9PT0gZmFsc2VcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnXG4gICAgICAgID8gYXR0cmlidXRlXG4gICAgICAgIDogdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgPyBuYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgdG8gYW4gdW5yZXNvbHZlZCBQcm9taXNlIHNvIHdlIGNhbiBtYWtlIHN1cmUgdGhlIGVsZW1lbnQgaGFzXG4gIC8vIGNvbm5lY3RlZCBiZWZvcmUgZmlyc3QgdXBkYXRlLlxuICBwcml2YXRlIF9fdXBkYXRlUHJvbWlzZSE6IFByb21pc2U8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhlcmUgaXMgYSBwZW5kaW5nIHVwZGF0ZSBhcyBhIHJlc3VsdCBvZiBjYWxsaW5nIGByZXF1ZXN0VXBkYXRlKClgLlxuICAgKiBTaG91bGQgb25seSBiZSByZWFkLlxuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgaXNVcGRhdGVQZW5kaW5nID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIElzIHNldCB0byBgdHJ1ZWAgYWZ0ZXIgdGhlIGZpcnN0IHVwZGF0ZS4gVGhlIGVsZW1lbnQgY29kZSBjYW5ub3QgYXNzdW1lXG4gICAqIHRoYXQgYHJlbmRlclJvb3RgIGV4aXN0cyBiZWZvcmUgdGhlIGVsZW1lbnQgYGhhc1VwZGF0ZWRgLlxuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgaGFzVXBkYXRlZCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBNYXAgd2l0aCBrZXlzIGZvciBhbnkgcHJvcGVydGllcyB0aGF0IGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdFxuICAgKiB1cGRhdGUgY3ljbGUgd2l0aCBwcmV2aW91cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgXyRjaGFuZ2VkUHJvcGVydGllcyE6IFByb3BlcnR5VmFsdWVzO1xuXG4gIC8qKlxuICAgKiBSZWNvcmRzIHByb3BlcnR5IGRlZmF1bHQgdmFsdWVzIHdoZW4gdGhlXG4gICAqIGB1c2VEZWZhdWx0YCBvcHRpb24gaXMgdXNlZC5cbiAgICovXG4gIHByaXZhdGUgX19kZWZhdWx0VmFsdWVzPzogTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPjtcblxuICAvKipcbiAgICogUHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSByZWZsZWN0ZWQgd2hlbiB1cGRhdGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBfX3JlZmxlY3RpbmdQcm9wZXJ0aWVzPzogU2V0PFByb3BlcnR5S2V5PjtcblxuICAvKipcbiAgICogTmFtZSBvZiBjdXJyZW50bHkgcmVmbGVjdGluZyBwcm9wZXJ0eVxuICAgKi9cbiAgcHJpdmF0ZSBfX3JlZmxlY3RpbmdQcm9wZXJ0eTogUHJvcGVydHlLZXkgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIGNvbnRyb2xsZXJzLlxuICAgKi9cbiAgcHJpdmF0ZSBfX2NvbnRyb2xsZXJzPzogU2V0PFJlYWN0aXZlQ29udHJvbGxlcj47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9faW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVybmFsIG9ubHkgb3ZlcnJpZGUgcG9pbnQgZm9yIGN1c3RvbWl6aW5nIHdvcmsgZG9uZSB3aGVuIGVsZW1lbnRzXG4gICAqIGFyZSBjb25zdHJ1Y3RlZC5cbiAgICovXG4gIHByaXZhdGUgX19pbml0aWFsaXplKCkge1xuICAgIHRoaXMuX191cGRhdGVQcm9taXNlID0gbmV3IFByb21pc2U8Ym9vbGVhbj4oXG4gICAgICAocmVzKSA9PiAodGhpcy5lbmFibGVVcGRhdGluZyA9IHJlcylcbiAgICApO1xuICAgIHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAvLyBUaGlzIGVucXVldWVzIGEgbWljcm90YXNrIHRoYXQgbXVzdCBydW4gYmVmb3JlIHRoZSBmaXJzdCB1cGRhdGUsIHNvIGl0XG4gICAgLy8gbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHJlcXVlc3RVcGRhdGUoKVxuICAgIHRoaXMuX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCk7XG4gICAgLy8gZW5zdXJlcyBmaXJzdCB1cGRhdGUgd2lsbCBiZSBjYXVnaHQgYnkgYW4gZWFybHkgYWNjZXNzIG9mXG4gICAgLy8gYHVwZGF0ZUNvbXBsZXRlYFxuICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLl9pbml0aWFsaXplcnM/LmZvckVhY2goKGkpID0+XG4gICAgICBpKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGUgZWxlbWVudCdzIHJlYWN0aXZlXG4gICAqIHVwZGF0ZSBjeWNsZS4gVGhlIGVsZW1lbnQgYXV0b21hdGljYWxseSBjYWxscyBpbnRvIGFueSByZWdpc3RlcmVkXG4gICAqIGNvbnRyb2xsZXJzIGR1cmluZyBpdHMgbGlmZWN5Y2xlIGNhbGxiYWNrcy5cbiAgICpcbiAgICogSWYgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHdoZW4gYGFkZENvbnRyb2xsZXIoKWAgaXMgY2FsbGVkLCB0aGVcbiAgICogY29udHJvbGxlcidzIGBob3N0Q29ubmVjdGVkKClgIGNhbGxiYWNrIHdpbGwgYmUgaW1tZWRpYXRlbHkgY2FsbGVkLlxuICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICovXG4gIGFkZENvbnRyb2xsZXIoY29udHJvbGxlcjogUmVhY3RpdmVDb250cm9sbGVyKSB7XG4gICAgKHRoaXMuX19jb250cm9sbGVycyA/Pz0gbmV3IFNldCgpKS5hZGQoY29udHJvbGxlcik7XG4gICAgLy8gSWYgYSBjb250cm9sbGVyIGlzIGFkZGVkIGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIGNvbm5lY3RlZCxcbiAgICAvLyBjYWxsIGhvc3RDb25uZWN0ZWQuIE5vdGUsIHJlLXVzaW5nIGV4aXN0ZW5jZSBvZiBgcmVuZGVyUm9vdGAgaGVyZVxuICAgIC8vICh3aGljaCBpcyBzZXQgaW4gY29ubmVjdGVkQ2FsbGJhY2spIHRvIGF2b2lkIHRoZSBuZWVkIHRvIHRyYWNrIGFcbiAgICAvLyBmaXJzdCBjb25uZWN0ZWQgc3RhdGUuXG4gICAgaWYgKHRoaXMucmVuZGVyUm9vdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaXNDb25uZWN0ZWQpIHtcbiAgICAgIGNvbnRyb2xsZXIuaG9zdENvbm5lY3RlZD8uKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCBmcm9tIHRoZSBlbGVtZW50LlxuICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICovXG4gIHJlbW92ZUNvbnRyb2xsZXIoY29udHJvbGxlcjogUmVhY3RpdmVDb250cm9sbGVyKSB7XG4gICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5kZWxldGUoY29udHJvbGxlcik7XG4gIH1cblxuICAvKipcbiAgICogRml4ZXMgYW55IHByb3BlcnRpZXMgc2V0IG9uIHRoZSBpbnN0YW5jZSBiZWZvcmUgdXBncmFkZSB0aW1lLlxuICAgKiBPdGhlcndpc2UgdGhlc2Ugd291bGQgc2hhZG93IHRoZSBhY2Nlc3NvciBhbmQgYnJlYWsgdGhlc2UgcHJvcGVydGllcy5cbiAgICogVGhlIHByb3BlcnRpZXMgYXJlIHN0b3JlZCBpbiBhIE1hcCB3aGljaCBpcyBwbGF5ZWQgYmFjayBhZnRlciB0aGVcbiAgICogY29uc3RydWN0b3IgcnVucy5cbiAgICovXG4gIHByaXZhdGUgX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgIGNvbnN0IGluc3RhbmNlUHJvcGVydGllcyA9IG5ldyBNYXA8UHJvcGVydHlLZXksIHVua25vd24+KCk7XG4gICAgY29uc3QgZWxlbWVudFByb3BlcnRpZXMgPSAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KVxuICAgICAgLmVsZW1lbnRQcm9wZXJ0aWVzO1xuICAgIGZvciAoY29uc3QgcCBvZiBlbGVtZW50UHJvcGVydGllcy5rZXlzKCkgYXMgSXRlcmFibGVJdGVyYXRvcjxrZXlvZiB0aGlzPikge1xuICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgaW5zdGFuY2VQcm9wZXJ0aWVzLnNldChwLCB0aGlzW3BdKTtcbiAgICAgICAgZGVsZXRlIHRoaXNbcF07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZVByb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSBpbnN0YW5jZVByb3BlcnRpZXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG5vZGUgaW50byB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgcmVuZGVyIGFuZCBieSBkZWZhdWx0XG4gICAqIGNyZWF0ZXMgYW5kIHJldHVybnMgYW4gb3BlbiBzaGFkb3dSb290LiBJbXBsZW1lbnQgdG8gY3VzdG9taXplIHdoZXJlIHRoZVxuICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgKiBjaGlsZE5vZGVzLCByZXR1cm4gYHRoaXNgLlxuICAgKlxuICAgKiBAcmV0dXJuIFJldHVybnMgYSBub2RlIGludG8gd2hpY2ggdG8gcmVuZGVyLlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgY3JlYXRlUmVuZGVyUm9vdCgpOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQge1xuICAgIGNvbnN0IHJlbmRlclJvb3QgPVxuICAgICAgdGhpcy5zaGFkb3dSb290ID8/XG4gICAgICB0aGlzLmF0dGFjaFNoYWRvdyhcbiAgICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuc2hhZG93Um9vdE9wdGlvbnNcbiAgICAgICk7XG4gICAgYWRvcHRTdHlsZXMoXG4gICAgICByZW5kZXJSb290LFxuICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuZWxlbWVudFN0eWxlc1xuICAgICk7XG4gICAgcmV0dXJuIHJlbmRlclJvb3Q7XG4gIH1cblxuICAvKipcbiAgICogT24gZmlyc3QgY29ubmVjdGlvbiwgY3JlYXRlcyB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QsIHNldHMgdXBcbiAgICogZWxlbWVudCBzdHlsaW5nLCBhbmQgZW5hYmxlcyB1cGRhdGluZy5cbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgLy8gQ3JlYXRlIHJlbmRlclJvb3QgYmVmb3JlIGNvbnRyb2xsZXJzIGBob3N0Q29ubmVjdGVkYFxuICAgICh0aGlzIGFzIE11dGFibGU8dHlwZW9mIHRoaXMsICdyZW5kZXJSb290Jz4pLnJlbmRlclJvb3QgPz89XG4gICAgICB0aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICB0aGlzLmVuYWJsZVVwZGF0aW5nKHRydWUpO1xuICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0Q29ubmVjdGVkPy4oKSk7XG4gIH1cblxuICAvKipcbiAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZmluYWwgYW5kIG5vdCBvdmVycmlkZGVuLiBJdCBpc1xuICAgKiBvdmVycmlkZGVuIG9uIHRoZSBlbGVtZW50IGluc3RhbmNlIHdpdGggYSBmdW5jdGlvbiB0aGF0IHRyaWdnZXJzIHRoZSBmaXJzdFxuICAgKiB1cGRhdGUuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgZW5hYmxlVXBkYXRpbmcoX3JlcXVlc3RlZFVwZGF0ZTogYm9vbGVhbikge31cblxuICAvKipcbiAgICogQWxsb3dzIGZvciBgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgaW4gZXh0ZW5zaW9ucyB3aGlsZVxuICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5mb3JFYWNoKChjKSA9PiBjLmhvc3REaXNjb25uZWN0ZWQ/LigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTeW5jaHJvbml6ZXMgcHJvcGVydHkgdmFsdWVzIHdoZW4gYXR0cmlidXRlcyBjaGFuZ2UuXG4gICAqXG4gICAqIFNwZWNpZmljYWxseSwgd2hlbiBhbiBhdHRyaWJ1dGUgaXMgc2V0LCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpcyBzZXQuXG4gICAqIFlvdSBzaG91bGQgcmFyZWx5IG5lZWQgdG8gaW1wbGVtZW50IHRoaXMgY2FsbGJhY2suIElmIHRoaXMgbWV0aG9kIGlzXG4gICAqIG92ZXJyaWRkZW4sIGBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgX29sZCwgdmFsdWUpYCBtdXN0IGJlXG4gICAqIGNhbGxlZC5cbiAgICpcbiAgICogU2VlIFtyZXNwb25kaW5nIHRvIGF0dHJpYnV0ZSBjaGFuZ2VzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViX2NvbXBvbmVudHMvVXNpbmdfY3VzdG9tX2VsZW1lbnRzI3Jlc3BvbmRpbmdfdG9fYXR0cmlidXRlX2NoYW5nZXMpXG4gICAqIG9uIE1ETiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuXG4gICAqIEBjYXRlZ29yeSBhdHRyaWJ1dGVzXG4gICAqL1xuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIF9vbGQ6IHN0cmluZyB8IG51bGwsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bGxcbiAgKSB7XG4gICAgdGhpcy5fJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBfX3Byb3BlcnR5VG9BdHRyaWJ1dGUobmFtZTogUHJvcGVydHlLZXksIHZhbHVlOiB1bmtub3duKSB7XG4gICAgY29uc3QgZWxlbVByb3BlcnRpZXM6IFByb3BlcnR5RGVjbGFyYXRpb25NYXAgPSAoXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnRcbiAgICApLmVsZW1lbnRQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBlbGVtUHJvcGVydGllcy5nZXQobmFtZSkhO1xuICAgIGNvbnN0IGF0dHIgPSAoXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnRcbiAgICApLl9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5yZWZsZWN0ID09PSB0cnVlKSB7XG4gICAgICBjb25zdCBjb252ZXJ0ZXIgPVxuICAgICAgICAob3B0aW9ucy5jb252ZXJ0ZXIgYXMgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcik/LnRvQXR0cmlidXRlICE9PVxuICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgICA/IChvcHRpb25zLmNvbnZlcnRlciBhcyBDb21wbGV4QXR0cmlidXRlQ29udmVydGVyKVxuICAgICAgICAgIDogZGVmYXVsdENvbnZlcnRlcjtcbiAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IGNvbnZlcnRlci50b0F0dHJpYnV0ZSEodmFsdWUsIG9wdGlvbnMudHlwZSk7XG4gICAgICBpZiAoXG4gICAgICAgIERFVl9NT0RFICYmXG4gICAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMoXG4gICAgICAgICAgJ21pZ3JhdGlvbidcbiAgICAgICAgKSAmJlxuICAgICAgICBhdHRyVmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgKSB7XG4gICAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgICAndW5kZWZpbmVkLWF0dHJpYnV0ZS12YWx1ZScsXG4gICAgICAgICAgYFRoZSBhdHRyaWJ1dGUgdmFsdWUgZm9yIHRoZSAke25hbWUgYXMgc3RyaW5nfSBwcm9wZXJ0eSBpcyBgICtcbiAgICAgICAgICAgIGB1bmRlZmluZWQgb24gZWxlbWVudCAke3RoaXMubG9jYWxOYW1lfS4gVGhlIGF0dHJpYnV0ZSB3aWxsIGJlIGAgK1xuICAgICAgICAgICAgYHJlbW92ZWQsIGJ1dCBpbiB0aGUgcHJldmlvdXMgdmVyc2lvbiBvZiBcXGBSZWFjdGl2ZUVsZW1lbnRcXGAsIGAgK1xuICAgICAgICAgICAgYHRoZSBhdHRyaWJ1dGUgd291bGQgbm90IGhhdmUgY2hhbmdlZC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLyBUcmFjayBpZiB0aGUgcHJvcGVydHkgaXMgYmVpbmcgcmVmbGVjdGVkIHRvIGF2b2lkXG4gICAgICAvLyBzZXR0aW5nIHRoZSBwcm9wZXJ0eSBhZ2FpbiB2aWEgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuIE5vdGU6XG4gICAgICAvLyAxLiB0aGlzIHRha2VzIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGF0IHRoZSBjYWxsYmFjayBpcyBzeW5jaHJvbm91cy5cbiAgICAgIC8vIDIuIHdpbGwgYmVoYXZlIGluY29ycmVjdGx5IGlmIG11bHRpcGxlIGF0dHJpYnV0ZXMgYXJlIGluIHRoZSByZWFjdGlvblxuICAgICAgLy8gc3RhY2sgYXQgdGltZSBvZiBjYWxsaW5nLiBIb3dldmVyLCBzaW5jZSB3ZSBwcm9jZXNzIGF0dHJpYnV0ZXNcbiAgICAgIC8vIGluIGB1cGRhdGVgIHRoaXMgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSAob3IgYW4gZXh0cmVtZSBjb3JuZXIgY2FzZVxuICAgICAgLy8gdGhhdCB3ZSdkIGxpa2UgdG8gZGlzY292ZXIpLlxuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gbmFtZTtcbiAgICAgIGlmIChhdHRyVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJWYWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgfVxuICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgbnVsbCkge1xuICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQ7XG4gICAgLy8gTm90ZSwgaGludCB0aGlzIGFzIGFuIGBBdHRyaWJ1dGVNYXBgIHNvIGNsb3N1cmUgY2xlYXJseSB1bmRlcnN0YW5kc1xuICAgIC8vIHRoZSB0eXBlOyBpdCBoYXMgaXNzdWVzIHdpdGggdHJhY2tpbmcgdHlwZXMgdGhyb3VnaCBzdGF0aWNzXG4gICAgY29uc3QgcHJvcE5hbWUgPSAoY3Rvci5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgYXMgQXR0cmlidXRlTWFwKS5nZXQobmFtZSk7XG4gICAgLy8gVXNlIHRyYWNraW5nIGluZm8gdG8gYXZvaWQgcmVmbGVjdGluZyBhIHByb3BlcnR5IHZhbHVlIHRvIGFuIGF0dHJpYnV0ZVxuICAgIC8vIGlmIGl0IHdhcyBqdXN0IHNldCBiZWNhdXNlIHRoZSBhdHRyaWJ1dGUgY2hhbmdlZC5cbiAgICBpZiAocHJvcE5hbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ICE9PSBwcm9wTmFtZSkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IGN0b3IuZ2V0UHJvcGVydHlPcHRpb25zKHByb3BOYW1lKTtcbiAgICAgIGNvbnN0IGNvbnZlcnRlciA9XG4gICAgICAgIHR5cGVvZiBvcHRpb25zLmNvbnZlcnRlciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8ge2Zyb21BdHRyaWJ1dGU6IG9wdGlvbnMuY29udmVydGVyfVxuICAgICAgICAgIDogb3B0aW9ucy5jb252ZXJ0ZXI/LmZyb21BdHRyaWJ1dGUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLmNvbnZlcnRlclxuICAgICAgICAgICAgOiBkZWZhdWx0Q29udmVydGVyO1xuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gcHJvcE5hbWU7XG4gICAgICB0aGlzW3Byb3BOYW1lIGFzIGtleW9mIHRoaXNdID1cbiAgICAgICAgY29udmVydGVyLmZyb21BdHRyaWJ1dGUhKHZhbHVlLCBvcHRpb25zLnR5cGUpID8/XG4gICAgICAgIHRoaXMuX19kZWZhdWx0VmFsdWVzPy5nZXQocHJvcE5hbWUpID8/XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIChudWxsIGFzIGFueSk7XG4gICAgICAvLyBtYXJrIHN0YXRlIG5vdCByZWZsZWN0aW5nXG4gICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgYW4gdXBkYXRlIHdoaWNoIGlzIHByb2Nlc3NlZCBhc3luY2hyb25vdXNseS4gVGhpcyBzaG91bGQgYmUgY2FsbGVkXG4gICAqIHdoZW4gYW4gZWxlbWVudCBzaG91bGQgdXBkYXRlIGJhc2VkIG9uIHNvbWUgc3RhdGUgbm90IHRyaWdnZXJlZCBieSBzZXR0aW5nXG4gICAqIGEgcmVhY3RpdmUgcHJvcGVydHkuIEluIHRoaXMgY2FzZSwgcGFzcyBubyBhcmd1bWVudHMuIEl0IHNob3VsZCBhbHNvIGJlXG4gICAqIGNhbGxlZCB3aGVuIG1hbnVhbGx5IGltcGxlbWVudGluZyBhIHByb3BlcnR5IHNldHRlci4gSW4gdGhpcyBjYXNlLCBwYXNzIHRoZVxuICAgKiBwcm9wZXJ0eSBgbmFtZWAgYW5kIGBvbGRWYWx1ZWAgdG8gZW5zdXJlIHRoYXQgYW55IGNvbmZpZ3VyZWQgcHJvcGVydHlcbiAgICogb3B0aW9ucyBhcmUgaG9ub3JlZC5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgbmFtZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAqIEBwYXJhbSBvbGRWYWx1ZSBvbGQgdmFsdWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgKiBAcGFyYW0gb3B0aW9ucyBwcm9wZXJ0eSBvcHRpb25zIHRvIHVzZSBpbnN0ZWFkIG9mIHRoZSBwcmV2aW91c2x5XG4gICAqICAgICBjb25maWd1cmVkIG9wdGlvbnNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHJlcXVlc3RVcGRhdGUoXG4gICAgbmFtZT86IFByb3BlcnR5S2V5LFxuICAgIG9sZFZhbHVlPzogdW5rbm93bixcbiAgICBvcHRpb25zPzogUHJvcGVydHlEZWNsYXJhdGlvblxuICApOiB2b2lkIHtcbiAgICAvLyBJZiB3ZSBoYXZlIGEgcHJvcGVydHkga2V5LCBwZXJmb3JtIHByb3BlcnR5IHVwZGF0ZSBzdGVwcy5cbiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoREVWX01PREUgJiYgKG5hbWUgYXMgdW5rbm93bikgaW5zdGFuY2VvZiBFdmVudCkge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICAgYGAsXG4gICAgICAgICAgYFRoZSByZXF1ZXN0VXBkYXRlKCkgbWV0aG9kIHdhcyBjYWxsZWQgd2l0aCBhbiBFdmVudCBhcyB0aGUgcHJvcGVydHkgbmFtZS4gVGhpcyBpcyBwcm9iYWJseSBhIG1pc3Rha2UgY2F1c2VkIGJ5IGJpbmRpbmcgdGhpcy5yZXF1ZXN0VXBkYXRlIGFzIGFuIGV2ZW50IGxpc3RlbmVyLiBJbnN0ZWFkIGJpbmQgYSBmdW5jdGlvbiB0aGF0IHdpbGwgY2FsbCBpdCB3aXRoIG5vIGFyZ3VtZW50czogKCkgPT4gdGhpcy5yZXF1ZXN0VXBkYXRlKClgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSB0aGlzW25hbWUgYXMga2V5b2YgdGhpc107XG4gICAgICBvcHRpb25zID8/PSBjdG9yLmdldFByb3BlcnR5T3B0aW9ucyhuYW1lKTtcbiAgICAgIGNvbnN0IGNoYW5nZWQgPVxuICAgICAgICAob3B0aW9ucy5oYXNDaGFuZ2VkID8/IG5vdEVxdWFsKShuZXdWYWx1ZSwgb2xkVmFsdWUpIHx8XG4gICAgICAgIC8vIFdoZW4gdGhlcmUgaXMgbm8gY2hhbmdlLCBjaGVjayBhIGNvcm5lciBjYXNlIHRoYXQgY2FuIG9jY3VyIHdoZW5cbiAgICAgICAgLy8gMS4gdGhlcmUncyBhIGluaXRpYWwgdmFsdWUgd2hpY2ggd2FzIG5vdCByZWZsZWN0ZWRcbiAgICAgICAgLy8gMi4gdGhlIHByb3BlcnR5IGlzIHN1YnNlcXVlbnRseSBzZXQgdG8gdGhpcyB2YWx1ZS5cbiAgICAgICAgLy8gRm9yIGV4YW1wbGUsIGBwcm9wOiB7dXNlRGVmYXVsdDogdHJ1ZSwgcmVmbGVjdDogdHJ1ZX1gXG4gICAgICAgIC8vIGFuZCBlbC5wcm9wID0gJ2ZvbycuIFRoaXMgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBjaGFuZ2UgaWYgdGhlXG4gICAgICAgIC8vIGF0dHJpYnV0ZSBpcyBub3Qgc2V0IGJlY2F1c2Ugd2Ugd2lsbCBub3cgcmVmbGVjdCB0aGUgcHJvcGVydHkgdG8gdGhlIGF0dHJpYnV0ZS5cbiAgICAgICAgKG9wdGlvbnMudXNlRGVmYXVsdCAmJlxuICAgICAgICAgIG9wdGlvbnMucmVmbGVjdCAmJlxuICAgICAgICAgIG5ld1ZhbHVlID09PSB0aGlzLl9fZGVmYXVsdFZhbHVlcz8uZ2V0KG5hbWUpICYmXG4gICAgICAgICAgIXRoaXMuaGFzQXR0cmlidXRlKGN0b3IuX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucykhKSk7XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB0aGlzLl8kY2hhbmdlUHJvcGVydHkobmFtZSwgb2xkVmFsdWUsIG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWJvcnQgdGhlIHJlcXVlc3QgaWYgdGhlIHByb3BlcnR5IHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBjaGFuZ2VkLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmlzVXBkYXRlUGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuX191cGRhdGVQcm9taXNlID0gdGhpcy5fX2VucXVldWVVcGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfJGNoYW5nZVByb3BlcnR5KFxuICAgIG5hbWU6IFByb3BlcnR5S2V5LFxuICAgIG9sZFZhbHVlOiB1bmtub3duLFxuICAgIHt1c2VEZWZhdWx0LCByZWZsZWN0LCB3cmFwcGVkfTogUHJvcGVydHlEZWNsYXJhdGlvbixcbiAgICBpbml0aWFsaXplVmFsdWU/OiB1bmtub3duXG4gICkge1xuICAgIC8vIFJlY29yZCBkZWZhdWx0IHZhbHVlIHdoZW4gdXNlRGVmYXVsdCBpcyB1c2VkLiBUaGlzIGFsbG93cyB1cyB0b1xuICAgIC8vIHJlc3RvcmUgdGhpcyB2YWx1ZSB3aGVuIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZC5cbiAgICBpZiAodXNlRGVmYXVsdCAmJiAhKHRoaXMuX19kZWZhdWx0VmFsdWVzID8/PSBuZXcgTWFwKCkpLmhhcyhuYW1lKSkge1xuICAgICAgdGhpcy5fX2RlZmF1bHRWYWx1ZXMuc2V0KFxuICAgICAgICBuYW1lLFxuICAgICAgICBpbml0aWFsaXplVmFsdWUgPz8gb2xkVmFsdWUgPz8gdGhpc1tuYW1lIGFzIGtleW9mIHRoaXNdXG4gICAgICApO1xuICAgICAgLy8gaWYgdGhpcyBpcyBub3Qgd3JhcHBpbmcgYW4gYWNjZXNzb3IsIGl0IG11c3QgYmUgYW4gaW5pdGlhbCBzZXR0aW5nXG4gICAgICAvLyBhbmQgaW4gdGhpcyBjYXNlIHdlIGRvIG5vdCB3YW50IHRvIHJlY29yZCB0aGUgY2hhbmdlIG9yIHJlZmxlY3QuXG4gICAgICBpZiAod3JhcHBlZCAhPT0gdHJ1ZSB8fCBpbml0aWFsaXplVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBDcmVhdGUgYSBiZW5jaG1hcmsgb2YgTWFwLmhhcygpICsgTWFwLnNldChcbiAgICAvLyB2cyBqdXN0IE1hcC5zZXQoKVxuICAgIGlmICghdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhuYW1lKSkge1xuICAgICAgLy8gT24gdGhlIGluaXRpYWwgY2hhbmdlLCB0aGUgb2xkIHZhbHVlIHNob3VsZCBiZSBgdW5kZWZpbmVkYCwgZXhjZXB0XG4gICAgICAvLyB3aXRoIGB1c2VEZWZhdWx0YFxuICAgICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQgJiYgIXVzZURlZmF1bHQpIHtcbiAgICAgICAgb2xkVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICB9XG4gICAgLy8gQWRkIHRvIHJlZmxlY3RpbmcgcHJvcGVydGllcyBzZXQuXG4gICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBldmVyeSBjaGFuZ2UgaGFzIGEgY2hhbmNlIHRvIGFkZCB0aGVcbiAgICAvLyBwcm9wZXJ0eSB0byBgX19yZWZsZWN0aW5nUHJvcGVydGllc2AuIFRoaXMgZW5zdXJlcyBzZXR0aW5nXG4gICAgLy8gYXR0cmlidXRlICsgcHJvcGVydHkgcmVmbGVjdHMgY29ycmVjdGx5LlxuICAgIGlmIChyZWZsZWN0ID09PSB0cnVlICYmIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgIT09IG5hbWUpIHtcbiAgICAgICh0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPz89IG5ldyBTZXQ8UHJvcGVydHlLZXk+KCkpLmFkZChuYW1lKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCB0aGUgZWxlbWVudCB0byBhc3luY2hyb25vdXNseSB1cGRhdGUuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIF9fZW5xdWV1ZVVwZGF0ZSgpIHtcbiAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEVuc3VyZSBhbnkgcHJldmlvdXMgdXBkYXRlIGhhcyByZXNvbHZlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgICAvLyBUaGlzIGBhd2FpdGAgYWxzbyBlbnN1cmVzIHRoYXQgcHJvcGVydHkgY2hhbmdlcyBhcmUgYmF0Y2hlZC5cbiAgICAgIGF3YWl0IHRoaXMuX191cGRhdGVQcm9taXNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFJlZmlyZSBhbnkgcHJldmlvdXMgZXJyb3JzIGFzeW5jIHNvIHRoZXkgZG8gbm90IGRpc3J1cHQgdGhlIHVwZGF0ZVxuICAgICAgLy8gY3ljbGUuIEVycm9ycyBhcmUgcmVmaXJlZCBzbyBkZXZlbG9wZXJzIGhhdmUgYSBjaGFuY2UgdG8gb2JzZXJ2ZVxuICAgICAgLy8gdGhlbSwgYW5kIHRoaXMgY2FuIGJlIGRvbmUgYnkgaW1wbGVtZW50aW5nXG4gICAgICAvLyBgd2luZG93Lm9udW5oYW5kbGVkcmVqZWN0aW9uYC5cbiAgICAgIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgLy8gSWYgYHNjaGVkdWxlVXBkYXRlYCByZXR1cm5zIGEgUHJvbWlzZSwgd2UgYXdhaXQgaXQuIFRoaXMgaXMgZG9uZSB0b1xuICAgIC8vIGVuYWJsZSBjb29yZGluYXRpbmcgdXBkYXRlcyB3aXRoIGEgc2NoZWR1bGVyLiBOb3RlLCB0aGUgcmVzdWx0IGlzXG4gICAgLy8gY2hlY2tlZCB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZCB0by5cbiAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgIGF3YWl0IHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuICF0aGlzLmlzVXBkYXRlUGVuZGluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYW4gZWxlbWVudCB1cGRhdGUuIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoZVxuICAgKiB0aW1pbmcgb2YgdXBkYXRlcyBieSByZXR1cm5pbmcgYSBQcm9taXNlLiBUaGUgdXBkYXRlIHdpbGwgYXdhaXQgdGhlXG4gICAqIHJldHVybmVkIFByb21pc2UsIGFuZCB5b3Ugc2hvdWxkIHJlc29sdmUgdGhlIFByb21pc2UgdG8gYWxsb3cgdGhlIHVwZGF0ZVxuICAgKiB0byBwcm9jZWVkLiBJZiB0aGlzIG1ldGhvZCBpcyBvdmVycmlkZGVuLCBgc3VwZXIuc2NoZWR1bGVVcGRhdGUoKWBcbiAgICogbXVzdCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEZvciBpbnN0YW5jZSwgdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICpcbiAgICogYGBgdHNcbiAgICogb3ZlcnJpZGUgcHJvdGVjdGVkIGFzeW5jIHNjaGVkdWxlVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAqICAgc3VwZXIuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBzY2hlZHVsZVVwZGF0ZSgpOiB2b2lkIHwgUHJvbWlzZTx1bmtub3duPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wZXJmb3JtVXBkYXRlKCk7XG4gICAgaWYgKFxuICAgICAgREVWX01PREUgJiZcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMoXG4gICAgICAgICdhc3luYy1wZXJmb3JtLXVwZGF0ZSdcbiAgICAgICkgJiZcbiAgICAgIHR5cGVvZiAocmVzdWx0IGFzIHVua25vd24gYXMgUHJvbWlzZTx1bmtub3duPiB8IHVuZGVmaW5lZCk/LnRoZW4gPT09XG4gICAgICAgICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgJ2FzeW5jLXBlcmZvcm0tdXBkYXRlJyxcbiAgICAgICAgYEVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0gcmV0dXJuZWQgYSBQcm9taXNlIGZyb20gcGVyZm9ybVVwZGF0ZSgpLiBgICtcbiAgICAgICAgICBgVGhpcyBiZWhhdmlvciBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgYCArXG4gICAgICAgICAgYHZlcnNpb24gb2YgUmVhY3RpdmVFbGVtZW50LmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYW4gZWxlbWVudCB1cGRhdGUuIE5vdGUsIGlmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZHVyaW5nIHRoZVxuICAgKiB1cGRhdGUsIGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgKlxuICAgKiBDYWxsIGBwZXJmb3JtVXBkYXRlKClgIHRvIGltbWVkaWF0ZWx5IHByb2Nlc3MgYSBwZW5kaW5nIHVwZGF0ZS4gVGhpcyBzaG91bGRcbiAgICogZ2VuZXJhbGx5IG5vdCBiZSBuZWVkZWQsIGJ1dCBpdCBjYW4gYmUgZG9uZSBpbiByYXJlIGNhc2VzIHdoZW4geW91IG5lZWQgdG9cbiAgICogdXBkYXRlIHN5bmNocm9ub3VzbHkuXG4gICAqXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgcGVyZm9ybVVwZGF0ZSgpOiB2b2lkIHtcbiAgICAvLyBBYm9ydCBhbnkgdXBkYXRlIGlmIG9uZSBpcyBub3QgcGVuZGluZyB3aGVuIHRoaXMgaXMgY2FsbGVkLlxuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiBgcGVyZm9ybVVwZGF0ZWAgaXMgY2FsbGVkIGVhcmx5IHRvIFwiZmx1c2hcIlxuICAgIC8vIHRoZSB1cGRhdGUuXG4gICAgaWYgKCF0aGlzLmlzVXBkYXRlUGVuZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWJ1Z0xvZ0V2ZW50Py4oe2tpbmQ6ICd1cGRhdGUnfSk7XG4gICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgIC8vIENyZWF0ZSByZW5kZXJSb290IGJlZm9yZSBmaXJzdCB1cGRhdGUuIFRoaXMgb2NjdXJzIGluIGBjb25uZWN0ZWRDYWxsYmFja2BcbiAgICAgIC8vIGJ1dCBpcyBkb25lIGhlcmUgdG8gc3VwcG9ydCBvdXQgb2YgdHJlZSBjYWxscyB0byBgZW5hYmxlVXBkYXRpbmdgL2BwZXJmb3JtVXBkYXRlYC5cbiAgICAgICh0aGlzIGFzIE11dGFibGU8dHlwZW9mIHRoaXMsICdyZW5kZXJSb290Jz4pLnJlbmRlclJvb3QgPz89XG4gICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgIC8vIFByb2R1Y2Ugd2FybmluZyBpZiBhbnkgcmVhY3RpdmUgcHJvcGVydGllcyBvbiB0aGUgcHJvdG90eXBlIGFyZVxuICAgICAgICAvLyBzaGFkb3dlZCBieSBjbGFzcyBmaWVsZHMuIEluc3RhbmNlIGZpZWxkcyBzZXQgYmVmb3JlIHVwZ3JhZGUgYXJlXG4gICAgICAgIC8vIGRlbGV0ZWQgYnkgdGhpcyBwb2ludCwgc28gYW55IG93biBwcm9wZXJ0eSBpcyBjYXVzZWQgYnkgY2xhc3MgZmllbGRcbiAgICAgICAgLy8gaW5pdGlhbGl6YXRpb24gaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgICAgICBjb25zdCBzaGFkb3dlZFByb3BlcnRpZXMgPSBbLi4uY3Rvci5lbGVtZW50UHJvcGVydGllcy5rZXlzKCldLmZpbHRlcihcbiAgICAgICAgICAocCkgPT4gdGhpcy5oYXNPd25Qcm9wZXJ0eShwKSAmJiBwIGluIGdldFByb3RvdHlwZU9mKHRoaXMpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzaGFkb3dlZFByb3BlcnRpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBvbiBlbGVtZW50ICR7dGhpcy5sb2NhbE5hbWV9IHdpbGwgbm90IGAgK1xuICAgICAgICAgICAgICBgdHJpZ2dlciB1cGRhdGVzIGFzIGV4cGVjdGVkIGJlY2F1c2UgdGhleSBhcmUgc2V0IHVzaW5nIGNsYXNzIGAgK1xuICAgICAgICAgICAgICBgZmllbGRzOiAke3NoYWRvd2VkUHJvcGVydGllcy5qb2luKCcsICcpfS4gYCArXG4gICAgICAgICAgICAgIGBOYXRpdmUgY2xhc3MgZmllbGRzIGFuZCBzb21lIGNvbXBpbGVkIG91dHB1dCB3aWxsIG92ZXJ3cml0ZSBgICtcbiAgICAgICAgICAgICAgYGFjY2Vzc29ycyB1c2VkIGZvciBkZXRlY3RpbmcgY2hhbmdlcy4gU2VlIGAgK1xuICAgICAgICAgICAgICBgaHR0cHM6Ly9saXQuZGV2L21zZy9jbGFzcy1maWVsZC1zaGFkb3dpbmcgYCArXG4gICAgICAgICAgICAgIGBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gTWl4aW4gaW5zdGFuY2UgcHJvcGVydGllcyBvbmNlLCBpZiB0aGV5IGV4aXN0LlxuICAgICAgaWYgKHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IHNob3VsZCB3ZSB1c2UgdGhlIHN0b3JlZCB2YWx1ZT8gQ291bGQgYSBuZXcgdmFsdWVcbiAgICAgICAgLy8gaGF2ZSBiZWVuIHNldCBzaW5jZSB3ZSBzdG9yZWQgdGhlIG93biBwcm9wZXJ0eSB2YWx1ZT9cbiAgICAgICAgZm9yIChjb25zdCBbcCwgdmFsdWVdIG9mIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICB0aGlzW3AgYXMga2V5b2YgdGhpc10gPSB2YWx1ZSBhcyB0aGlzW2tleW9mIHRoaXNdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICAvLyBUcmlnZ2VyIGluaXRpYWwgdmFsdWUgcmVmbGVjdGlvbiBhbmQgcG9wdWxhdGUgdGhlIGluaXRpYWxcbiAgICAgIC8vIGBjaGFuZ2VkUHJvcGVydGllc2AgbWFwLCBidXQgb25seSBmb3IgdGhlIGNhc2Ugb2YgcHJvcGVydGllcyBjcmVhdGVkXG4gICAgICAvLyB2aWEgYGNyZWF0ZVByb3BlcnR5YCBvbiBhY2Nlc3NvcnMsIHdoaWNoIHdpbGwgbm90IGhhdmUgYWxyZWFkeVxuICAgICAgLy8gcG9wdWxhdGVkIHRoZSBgY2hhbmdlZFByb3BlcnRpZXNgIG1hcCBzaW5jZSB0aGV5IGFyZSBub3Qgc2V0LlxuICAgICAgLy8gV2UgY2FuJ3Qga25vdyBpZiB0aGVzZSBhY2Nlc3NvcnMgaGFkIGluaXRpYWxpemVycywgc28gd2UganVzdCBzZXRcbiAgICAgIC8vIHRoZW0gYW55d2F5IC0gYSBkaWZmZXJlbmNlIGZyb20gZXhwZXJpbWVudGFsIGRlY29yYXRvcnMgb24gZmllbGRzIGFuZFxuICAgICAgLy8gc3RhbmRhcmQgZGVjb3JhdG9ycyBvbiBhdXRvLWFjY2Vzc29ycy5cbiAgICAgIC8vIEZvciBjb250ZXh0IHNlZTpcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9saXQvbGl0L3B1bGwvNDE4MyNpc3N1ZWNvbW1lbnQtMTcxMTk1OTYzNVxuICAgICAgY29uc3QgZWxlbWVudFByb3BlcnRpZXMgPSAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KVxuICAgICAgICAuZWxlbWVudFByb3BlcnRpZXM7XG4gICAgICBpZiAoZWxlbWVudFByb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBbcCwgb3B0aW9uc10gb2YgZWxlbWVudFByb3BlcnRpZXMpIHtcbiAgICAgICAgICBjb25zdCB7d3JhcHBlZH0gPSBvcHRpb25zO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1twIGFzIGtleW9mIHRoaXNdO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHdyYXBwZWQgPT09IHRydWUgJiZcbiAgICAgICAgICAgICF0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMuaGFzKHApICYmXG4gICAgICAgICAgICB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl8kY2hhbmdlUHJvcGVydHkocCwgdW5kZWZpbmVkLCBvcHRpb25zLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICBjb25zdCBjaGFuZ2VkUHJvcGVydGllcyA9IHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcztcbiAgICB0cnkge1xuICAgICAgc2hvdWxkVXBkYXRlID0gdGhpcy5zaG91bGRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICB0aGlzLndpbGxVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLl9fY29udHJvbGxlcnM/LmZvckVhY2goKGMpID0+IGMuaG9zdFVwZGF0ZT8uKCkpO1xuICAgICAgICB0aGlzLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBQcmV2ZW50IGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgZnJvbSBydW5uaW5nIHdoZW4gdGhlcmUncyBhblxuICAgICAgLy8gdXBkYXRlIGV4Y2VwdGlvbi5cbiAgICAgIHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgLy8gRW5zdXJlIGVsZW1lbnQgY2FuIGFjY2VwdCBhZGRpdGlvbmFsIHVwZGF0ZXMgYWZ0ZXIgYW4gZXhjZXB0aW9uLlxuICAgICAgdGhpcy5fX21hcmtVcGRhdGVkKCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICAvLyBUaGUgdXBkYXRlIGlzIG5vIGxvbmdlciBjb25zaWRlcmVkIHBlbmRpbmcgYW5kIGZ1cnRoZXIgdXBkYXRlcyBhcmUgbm93IGFsbG93ZWQuXG4gICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgdGhpcy5fJGRpZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgYmVmb3JlIGB1cGRhdGUoKWAgdG8gY29tcHV0ZSB2YWx1ZXMgbmVlZGVkIGR1cmluZyB0aGUgdXBkYXRlLlxuICAgKlxuICAgKiBJbXBsZW1lbnQgYHdpbGxVcGRhdGVgIHRvIGNvbXB1dGUgcHJvcGVydHkgdmFsdWVzIHRoYXQgZGVwZW5kIG9uIG90aGVyXG4gICAqIHByb3BlcnRpZXMgYW5kIGFyZSB1c2VkIGluIHRoZSByZXN0IG9mIHRoZSB1cGRhdGUgcHJvY2Vzcy5cbiAgICpcbiAgICogYGBgdHNcbiAgICogd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcykge1xuICAgKiAgIC8vIG9ubHkgbmVlZCB0byBjaGVjayBjaGFuZ2VkIHByb3BlcnRpZXMgZm9yIGFuIGV4cGVuc2l2ZSBjb21wdXRhdGlvbi5cbiAgICogICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdmaXJzdE5hbWUnKSB8fCBjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2xhc3ROYW1lJykpIHtcbiAgICogICAgIHRoaXMuc2hhID0gY29tcHV0ZVNIQShgJHt0aGlzLmZpcnN0TmFtZX0gJHt0aGlzLmxhc3ROYW1lfWApO1xuICAgKiAgIH1cbiAgICogfVxuICAgKlxuICAgKiByZW5kZXIoKSB7XG4gICAqICAgcmV0dXJuIGh0bWxgU0hBOiAke3RoaXMuc2hhfWA7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgd2lsbFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKTogdm9pZCB7fVxuXG4gIC8vIE5vdGUsIHRoaXMgaXMgYW4gb3ZlcnJpZGUgcG9pbnQgZm9yIHBvbHlmaWxsLXN1cHBvcnQuXG4gIC8vIEBpbnRlcm5hbFxuICBfJGRpZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICB0aGlzLl9fY29udHJvbGxlcnM/LmZvckVhY2goKGMpID0+IGMuaG9zdFVwZGF0ZWQ/LigpKTtcbiAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgdGhpcy5oYXNVcGRhdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICBpZiAoXG4gICAgICBERVZfTU9ERSAmJlxuICAgICAgdGhpcy5pc1VwZGF0ZVBlbmRpbmcgJiZcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMoXG4gICAgICAgICdjaGFuZ2UtaW4tdXBkYXRlJ1xuICAgICAgKVxuICAgICkge1xuICAgICAgaXNzdWVXYXJuaW5nKFxuICAgICAgICAnY2hhbmdlLWluLXVwZGF0ZScsXG4gICAgICAgIGBFbGVtZW50ICR7dGhpcy5sb2NhbE5hbWV9IHNjaGVkdWxlZCBhbiB1cGRhdGUgYCArXG4gICAgICAgICAgYChnZW5lcmFsbHkgYmVjYXVzZSBhIHByb3BlcnR5IHdhcyBzZXQpIGAgK1xuICAgICAgICAgIGBhZnRlciBhbiB1cGRhdGUgY29tcGxldGVkLCBjYXVzaW5nIGEgbmV3IHVwZGF0ZSB0byBiZSBzY2hlZHVsZWQuIGAgK1xuICAgICAgICAgIGBUaGlzIGlzIGluZWZmaWNpZW50IGFuZCBzaG91bGQgYmUgYXZvaWRlZCB1bmxlc3MgdGhlIG5leHQgdXBkYXRlIGAgK1xuICAgICAgICAgIGBjYW4gb25seSBiZSBzY2hlZHVsZWQgYXMgYSBzaWRlIGVmZmVjdCBvZiB0aGUgcHJldmlvdXMgdXBkYXRlLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfX21hcmtVcGRhdGVkKCkge1xuICAgIHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZWxlbWVudCBoYXMgY29tcGxldGVkIHVwZGF0aW5nLlxuICAgKiBUaGUgUHJvbWlzZSB2YWx1ZSBpcyBhIGJvb2xlYW4gdGhhdCBpcyBgdHJ1ZWAgaWYgdGhlIGVsZW1lbnQgY29tcGxldGVkIHRoZVxuICAgKiB1cGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLiBUaGUgUHJvbWlzZSByZXN1bHQgaXMgYGZhbHNlYCBpZlxuICAgKiBhIHByb3BlcnR5IHdhcyBzZXQgaW5zaWRlIGB1cGRhdGVkKClgLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5cbiAgICogZXhjZXB0aW9uIHdhcyB0aHJvd24gZHVyaW5nIHRoZSB1cGRhdGUuXG4gICAqXG4gICAqIFRvIGF3YWl0IGFkZGl0aW9uYWwgYXN5bmNocm9ub3VzIHdvcmssIG92ZXJyaWRlIHRoZSBgZ2V0VXBkYXRlQ29tcGxldGVgXG4gICAqIG1ldGhvZC4gRm9yIGV4YW1wbGUsIGl0IGlzIHNvbWV0aW1lcyB1c2VmdWwgdG8gYXdhaXQgYSByZW5kZXJlZCBlbGVtZW50XG4gICAqIGJlZm9yZSBmdWxmaWxsaW5nIHRoaXMgUHJvbWlzZS4gVG8gZG8gdGhpcywgZmlyc3QgYXdhaXRcbiAgICogYHN1cGVyLmdldFVwZGF0ZUNvbXBsZXRlKClgLCB0aGVuIGFueSBzdWJzZXF1ZW50IHN0YXRlLlxuICAgKlxuICAgKiBAcmV0dXJuIEEgcHJvbWlzZSBvZiBhIGJvb2xlYW4gdGhhdCByZXNvbHZlcyB0byB0cnVlIGlmIHRoZSB1cGRhdGUgY29tcGxldGVkXG4gICAqICAgICB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBnZXQgdXBkYXRlQ29tcGxldGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VXBkYXRlQ29tcGxldGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBwb2ludCBmb3IgdGhlIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS5cbiAgICpcbiAgICogSXQgaXMgbm90IHNhZmUgdG8gb3ZlcnJpZGUgdGhlIGB1cGRhdGVDb21wbGV0ZWAgZ2V0dGVyIGRpcmVjdGx5IGR1ZSB0byBhXG4gICAqIGxpbWl0YXRpb24gaW4gVHlwZVNjcmlwdCB3aGljaCBtZWFucyBpdCBpcyBub3QgcG9zc2libGUgdG8gY2FsbCBhXG4gICAqIHN1cGVyY2xhc3MgZ2V0dGVyIChlLmcuIGBzdXBlci51cGRhdGVDb21wbGV0ZS50aGVuKC4uLilgKSB3aGVuIHRoZSB0YXJnZXRcbiAgICogbGFuZ3VhZ2UgaXMgRVM1IChodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMzOCkuXG4gICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBvdmVycmlkZGVuIGluc3RlYWQuIEZvciBleGFtcGxlOlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICogICBvdmVycmlkZSBhc3luYyBnZXRVcGRhdGVDb21wbGV0ZSgpIHtcbiAgICogICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1cGVyLmdldFVwZGF0ZUNvbXBsZXRlKCk7XG4gICAqICAgICBhd2FpdCB0aGlzLl9teUNoaWxkLnVwZGF0ZUNvbXBsZXRlO1xuICAgKiAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICogICB9XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEByZXR1cm4gQSBwcm9taXNlIG9mIGEgYm9vbGVhbiB0aGF0IHJlc29sdmVzIHRvIHRydWUgaWYgdGhlIHVwZGF0ZSBjb21wbGV0ZWRcbiAgICogICAgIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBnZXRVcGRhdGVDb21wbGV0ZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5fX3VwZGF0ZVByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBvciBub3QgYHVwZGF0ZSgpYCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgcmVxdWVzdHNcbiAgICogYW4gdXBkYXRlLiBCeSBkZWZhdWx0LCB0aGlzIG1ldGhvZCBhbHdheXMgcmV0dXJucyBgdHJ1ZWAsIGJ1dCB0aGlzIGNhbiBiZVxuICAgKiBjdXN0b21pemVkIHRvIGNvbnRyb2wgd2hlbiB0byB1cGRhdGUuXG4gICAqXG4gICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBzaG91bGRVcGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGVsZW1lbnQuIFRoaXMgbWV0aG9kIHJlZmxlY3RzIHByb3BlcnR5IHZhbHVlcyB0byBhdHRyaWJ1dGVzLlxuICAgKiBJdCBjYW4gYmUgb3ZlcnJpZGRlbiB0byByZW5kZXIgYW5kIGtlZXAgdXBkYXRlZCBlbGVtZW50IERPTS5cbiAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXJcbiAgICogYW5vdGhlciB1cGRhdGUuXG4gICAqXG4gICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCB1cGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIC8vIFRoZSBmb3JFYWNoKCkgZXhwcmVzc2lvbiB3aWxsIG9ubHkgcnVuIHdoZW4gX19yZWZsZWN0aW5nUHJvcGVydGllcyBpc1xuICAgIC8vIGRlZmluZWQsIGFuZCBpdCByZXR1cm5zIHVuZGVmaW5lZCwgc2V0dGluZyBfX3JlZmxlY3RpbmdQcm9wZXJ0aWVzIHRvXG4gICAgLy8gdW5kZWZpbmVkXG4gICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzICYmPSB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMuZm9yRWFjaCgocCkgPT5cbiAgICAgIHRoaXMuX19wcm9wZXJ0eVRvQXR0cmlidXRlKHAsIHRoaXNbcCBhcyBrZXlvZiB0aGlzXSlcbiAgICApIGFzIHVuZGVmaW5lZDtcbiAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW5ldmVyIHRoZSBlbGVtZW50IGlzIHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtXG4gICAqIHBvc3QtdXBkYXRpbmcgdGFza3MgdmlhIERPTSBBUElzLCBmb3IgZXhhbXBsZSwgZm9jdXNpbmcgYW4gZWxlbWVudC5cbiAgICpcbiAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICpcbiAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge31cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBlbGVtZW50IGlzIGZpcnN0IHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtIG9uZSB0aW1lXG4gICAqIHdvcmsgb24gdGhlIGVsZW1lbnQgYWZ0ZXIgdXBkYXRlLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBmaXJzdFVwZGF0ZWQoKSB7XG4gICAqICAgdGhpcy5yZW5kZXJSb290LmdldEVsZW1lbnRCeUlkKCdteS10ZXh0LWFyZWEnKS5mb2N1cygpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgKlxuICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHt9XG59XG4vLyBBc3NpZ25lZCBoZXJlIHRvIHdvcmsgYXJvdW5kIGEganNjb21waWxlciBidWcgd2l0aCBzdGF0aWMgZmllbGRzXG4vLyB3aGVuIGNvbXBpbGluZyB0byBFUzUuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzMxNzdcbihSZWFjdGl2ZUVsZW1lbnQgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilbXG4gIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2VsZW1lbnRQcm9wZXJ0aWVzJywgUmVhY3RpdmVFbGVtZW50KVxuXSA9IG5ldyBNYXAoKTtcbihSZWFjdGl2ZUVsZW1lbnQgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilbXG4gIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2ZpbmFsaXplZCcsIFJlYWN0aXZlRWxlbWVudClcbl0gPSBuZXcgTWFwKCk7XG5cbi8vIEFwcGx5IHBvbHlmaWxscyBpZiBhdmFpbGFibGVcbnBvbHlmaWxsU3VwcG9ydD8uKHtSZWFjdGl2ZUVsZW1lbnR9KTtcblxuLy8gRGV2IG1vZGUgd2FybmluZ3MuLi5cbmlmIChERVZfTU9ERSkge1xuICAvLyBEZWZhdWx0IHdhcm5pbmcgc2V0LlxuICBSZWFjdGl2ZUVsZW1lbnQuZW5hYmxlZFdhcm5pbmdzID0gW1xuICAgICdjaGFuZ2UtaW4tdXBkYXRlJyxcbiAgICAnYXN5bmMtcGVyZm9ybS11cGRhdGUnLFxuICBdO1xuICBjb25zdCBlbnN1cmVPd25XYXJuaW5ncyA9IGZ1bmN0aW9uIChjdG9yOiB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KSB7XG4gICAgaWYgKFxuICAgICAgIWN0b3IuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZW5hYmxlZFdhcm5pbmdzJywgY3RvcikpXG4gICAgKSB7XG4gICAgICBjdG9yLmVuYWJsZWRXYXJuaW5ncyA9IGN0b3IuZW5hYmxlZFdhcm5pbmdzIS5zbGljZSgpO1xuICAgIH1cbiAgfTtcbiAgUmVhY3RpdmVFbGVtZW50LmVuYWJsZVdhcm5pbmcgPSBmdW5jdGlvbiAoXG4gICAgdGhpczogdHlwZW9mIFJlYWN0aXZlRWxlbWVudCxcbiAgICB3YXJuaW5nOiBXYXJuaW5nS2luZFxuICApIHtcbiAgICBlbnN1cmVPd25XYXJuaW5ncyh0aGlzKTtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZFdhcm5pbmdzIS5pbmNsdWRlcyh3YXJuaW5nKSkge1xuICAgICAgdGhpcy5lbmFibGVkV2FybmluZ3MhLnB1c2god2FybmluZyk7XG4gICAgfVxuICB9O1xuICBSZWFjdGl2ZUVsZW1lbnQuZGlzYWJsZVdhcm5pbmcgPSBmdW5jdGlvbiAoXG4gICAgdGhpczogdHlwZW9mIFJlYWN0aXZlRWxlbWVudCxcbiAgICB3YXJuaW5nOiBXYXJuaW5nS2luZFxuICApIHtcbiAgICBlbnN1cmVPd25XYXJuaW5ncyh0aGlzKTtcbiAgICBjb25zdCBpID0gdGhpcy5lbmFibGVkV2FybmluZ3MhLmluZGV4T2Yod2FybmluZyk7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgdGhpcy5lbmFibGVkV2FybmluZ3MhLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgUmVhY3RpdmVFbGVtZW50IHVzYWdlLlxuKGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucyA/Pz0gW10pLnB1c2goJzIuMS4wJyk7XG5pZiAoREVWX01PREUgJiYgZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFZlcnNpb25zLmxlbmd0aCA+IDEpIHtcbiAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgIGlzc3VlV2FybmluZyEoXG4gICAgICAnbXVsdGlwbGUtdmVyc2lvbnMnLFxuICAgICAgYE11bHRpcGxlIHZlcnNpb25zIG9mIExpdCBsb2FkZWQuIExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgYCArXG4gICAgICAgIGBpcyBub3QgcmVjb21tZW5kZWQuYFxuICAgICk7XG4gIH0pO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG4vLyBJTVBPUlRBTlQ6IHRoZXNlIGltcG9ydHMgbXVzdCBiZSB0eXBlLW9ubHlcbmltcG9ydCB0eXBlIHtEaXJlY3RpdmUsIERpcmVjdGl2ZVJlc3VsdCwgUGFydEluZm99IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcbmltcG9ydCB0eXBlIHtUcnVzdGVkSFRNTCwgVHJ1c3RlZFR5cGVzV2luZG93fSBmcm9tICd0cnVzdGVkLXR5cGVzL2xpYi9pbmRleC5qcyc7XG5cbmNvbnN0IERFVl9NT0RFID0gdHJ1ZTtcbmNvbnN0IEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUyA9IHRydWU7XG5jb25zdCBFTkFCTEVfU0hBRFlET01fTk9QQVRDSCA9IHRydWU7XG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcblxuLy8gQWxsb3dzIG1pbmlmaWVycyB0byByZW5hbWUgcmVmZXJlbmNlcyB0byBnbG9iYWxUaGlzXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xuXG4vKipcbiAqIENvbnRhaW5zIHR5cGVzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIHVuc3RhYmxlIGRlYnVnIEFQSS5cbiAqXG4gKiBFdmVyeXRoaW5nIGluIHRoaXMgQVBJIGlzIG5vdCBzdGFibGUgYW5kIG1heSBjaGFuZ2Ugb3IgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLFxuICogZXZlbiBvbiBwYXRjaCByZWxlYXNlcy5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbmV4cG9ydCBuYW1lc3BhY2UgTGl0VW5zdGFibGUge1xuICAvKipcbiAgICogV2hlbiBMaXQgaXMgcnVubmluZyBpbiBkZXYgbW9kZSBhbmQgYHdpbmRvdy5lbWl0TGl0RGVidWdMb2dFdmVudHNgIGlzIHRydWUsXG4gICAqIHdlIHdpbGwgZW1pdCAnbGl0LWRlYnVnJyBldmVudHMgdG8gd2luZG93LCB3aXRoIGxpdmUgZGV0YWlscyBhYm91dCB0aGUgdXBkYXRlIGFuZCByZW5kZXJcbiAgICogbGlmZWN5Y2xlLiBUaGVzZSBjYW4gYmUgdXNlZnVsIGZvciB3cml0aW5nIGRlYnVnIHRvb2xpbmcgYW5kIHZpc3VhbGl6YXRpb25zLlxuICAgKlxuICAgKiBQbGVhc2UgYmUgYXdhcmUgdGhhdCBydW5uaW5nIHdpdGggd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cyBoYXMgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQsXG4gICAqIG1ha2luZyBjZXJ0YWluIG9wZXJhdGlvbnMgdGhhdCBhcmUgbm9ybWFsbHkgdmVyeSBjaGVhcCAobGlrZSBhIG5vLW9wIHJlbmRlcikgbXVjaCBzbG93ZXIsXG4gICAqIGJlY2F1c2Ugd2UgbXVzdCBjb3B5IGRhdGEgYW5kIGRpc3BhdGNoIGV2ZW50cy5cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG4gIGV4cG9ydCBuYW1lc3BhY2UgRGVidWdMb2cge1xuICAgIGV4cG9ydCB0eXBlIEVudHJ5ID1cbiAgICAgIHwgVGVtcGxhdGVQcmVwXG4gICAgICB8IFRlbXBsYXRlSW5zdGFudGlhdGVkXG4gICAgICB8IFRlbXBsYXRlSW5zdGFudGlhdGVkQW5kVXBkYXRlZFxuICAgICAgfCBUZW1wbGF0ZVVwZGF0aW5nXG4gICAgICB8IEJlZ2luUmVuZGVyXG4gICAgICB8IEVuZFJlbmRlclxuICAgICAgfCBDb21taXRQYXJ0RW50cnlcbiAgICAgIHwgU2V0UGFydFZhbHVlO1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVGVtcGxhdGVQcmVwIHtcbiAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBwcmVwJztcbiAgICAgIHRlbXBsYXRlOiBUZW1wbGF0ZTtcbiAgICAgIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5O1xuICAgICAgY2xvbmFibGVUZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudDtcbiAgICAgIHBhcnRzOiBUZW1wbGF0ZVBhcnRbXTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBCZWdpblJlbmRlciB7XG4gICAgICBraW5kOiAnYmVnaW4gcmVuZGVyJztcbiAgICAgIGlkOiBudW1iZXI7XG4gICAgICB2YWx1ZTogdW5rbm93bjtcbiAgICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50O1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICAgIHBhcnQ6IENoaWxkUGFydCB8IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBFbmRSZW5kZXIge1xuICAgICAga2luZDogJ2VuZCByZW5kZXInO1xuICAgICAgaWQ6IG51bWJlcjtcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQ7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgcGFydDogQ2hpbGRQYXJ0O1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlSW5zdGFudGlhdGVkIHtcbiAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBpbnN0YW50aWF0ZWQnO1xuICAgICAgdGVtcGxhdGU6IFRlbXBsYXRlIHwgQ29tcGlsZWRUZW1wbGF0ZTtcbiAgICAgIGluc3RhbmNlOiBUZW1wbGF0ZUluc3RhbmNlO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICAgIGZyYWdtZW50OiBOb2RlO1xuICAgICAgcGFydHM6IEFycmF5PFBhcnQgfCB1bmRlZmluZWQ+O1xuICAgICAgdmFsdWVzOiB1bmtub3duW107XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVGVtcGxhdGVJbnN0YW50aWF0ZWRBbmRVcGRhdGVkIHtcbiAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBpbnN0YW50aWF0ZWQgYW5kIHVwZGF0ZWQnO1xuICAgICAgdGVtcGxhdGU6IFRlbXBsYXRlIHwgQ29tcGlsZWRUZW1wbGF0ZTtcbiAgICAgIGluc3RhbmNlOiBUZW1wbGF0ZUluc3RhbmNlO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICAgIGZyYWdtZW50OiBOb2RlO1xuICAgICAgcGFydHM6IEFycmF5PFBhcnQgfCB1bmRlZmluZWQ+O1xuICAgICAgdmFsdWVzOiB1bmtub3duW107XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVGVtcGxhdGVVcGRhdGluZyB7XG4gICAgICBraW5kOiAndGVtcGxhdGUgdXBkYXRpbmcnO1xuICAgICAgdGVtcGxhdGU6IFRlbXBsYXRlIHwgQ29tcGlsZWRUZW1wbGF0ZTtcbiAgICAgIGluc3RhbmNlOiBUZW1wbGF0ZUluc3RhbmNlO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICAgIHBhcnRzOiBBcnJheTxQYXJ0IHwgdW5kZWZpbmVkPjtcbiAgICAgIHZhbHVlczogdW5rbm93bltdO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIFNldFBhcnRWYWx1ZSB7XG4gICAgICBraW5kOiAnc2V0IHBhcnQnO1xuICAgICAgcGFydDogUGFydDtcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgdmFsdWVJbmRleDogbnVtYmVyO1xuICAgICAgdmFsdWVzOiB1bmtub3duW107XG4gICAgICB0ZW1wbGF0ZUluc3RhbmNlOiBUZW1wbGF0ZUluc3RhbmNlO1xuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIENvbW1pdFBhcnRFbnRyeSA9XG4gICAgICB8IENvbW1pdE5vdGhpbmdUb0NoaWxkRW50cnlcbiAgICAgIHwgQ29tbWl0VGV4dFxuICAgICAgfCBDb21taXROb2RlXG4gICAgICB8IENvbW1pdEF0dHJpYnV0ZVxuICAgICAgfCBDb21taXRQcm9wZXJ0eVxuICAgICAgfCBDb21taXRCb29sZWFuQXR0cmlidXRlXG4gICAgICB8IENvbW1pdEV2ZW50TGlzdGVuZXJcbiAgICAgIHwgQ29tbWl0VG9FbGVtZW50QmluZGluZztcblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0Tm90aGluZ1RvQ2hpbGRFbnRyeSB7XG4gICAgICBraW5kOiAnY29tbWl0IG5vdGhpbmcgdG8gY2hpbGQnO1xuICAgICAgc3RhcnQ6IENoaWxkTm9kZTtcbiAgICAgIGVuZDogQ2hpbGROb2RlIHwgbnVsbDtcbiAgICAgIHBhcmVudDogRGlzY29ubmVjdGFibGUgfCB1bmRlZmluZWQ7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0VGV4dCB7XG4gICAgICBraW5kOiAnY29tbWl0IHRleHQnO1xuICAgICAgbm9kZTogVGV4dDtcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIENvbW1pdE5vZGUge1xuICAgICAga2luZDogJ2NvbW1pdCBub2RlJztcbiAgICAgIHN0YXJ0OiBOb2RlO1xuICAgICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSB8IHVuZGVmaW5lZDtcbiAgICAgIHZhbHVlOiBOb2RlO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIENvbW1pdEF0dHJpYnV0ZSB7XG4gICAgICBraW5kOiAnY29tbWl0IGF0dHJpYnV0ZSc7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0UHJvcGVydHkge1xuICAgICAga2luZDogJ2NvbW1pdCBwcm9wZXJ0eSc7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0Qm9vbGVhbkF0dHJpYnV0ZSB7XG4gICAgICBraW5kOiAnY29tbWl0IGJvb2xlYW4gYXR0cmlidXRlJztcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICB2YWx1ZTogYm9vbGVhbjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRFdmVudExpc3RlbmVyIHtcbiAgICAgIGtpbmQ6ICdjb21taXQgZXZlbnQgbGlzdGVuZXInO1xuICAgICAgZWxlbWVudDogRWxlbWVudDtcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgb2xkTGlzdGVuZXI6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgLy8gVHJ1ZSBpZiB3ZSdyZSByZW1vdmluZyB0aGUgb2xkIGV2ZW50IGxpc3RlbmVyIChlLmcuIGJlY2F1c2Ugc2V0dGluZ3MgY2hhbmdlZCwgb3IgdmFsdWUgaXMgbm90aGluZylcbiAgICAgIHJlbW92ZUxpc3RlbmVyOiBib29sZWFuO1xuICAgICAgLy8gVHJ1ZSBpZiB3ZSdyZSBhZGRpbmcgYSBuZXcgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYmVjYXVzZSBmaXJzdCByZW5kZXIsIG9yIHNldHRpbmdzIGNoYW5nZWQpXG4gICAgICBhZGRMaXN0ZW5lcjogYm9vbGVhbjtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIENvbW1pdFRvRWxlbWVudEJpbmRpbmcge1xuICAgICAga2luZDogJ2NvbW1pdCB0byBlbGVtZW50IGJpbmRpbmcnO1xuICAgICAgZWxlbWVudDogRWxlbWVudDtcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn1cblxuaW50ZXJmYWNlIERlYnVnTG9nZ2luZ1dpbmRvdyB7XG4gIC8vIEV2ZW4gaW4gZGV2IG1vZGUsIHdlIGdlbmVyYWxseSBkb24ndCB3YW50IHRvIGVtaXQgdGhlc2UgZXZlbnRzLCBhcyB0aGF0J3NcbiAgLy8gYW5vdGhlciBsZXZlbCBvZiBjb3N0LCBzbyBvbmx5IGVtaXQgdGhlbSB3aGVuIERFVl9NT0RFIGlzIHRydWUgX2FuZF8gd2hlblxuICAvLyB3aW5kb3cuZW1pdExpdERlYnVnRXZlbnRzIGlzIHRydWUuXG4gIGVtaXRMaXREZWJ1Z0xvZ0V2ZW50cz86IGJvb2xlYW47XG59XG5cbi8qKlxuICogVXNlZnVsIGZvciB2aXN1YWxpemluZyBhbmQgbG9nZ2luZyBpbnNpZ2h0cyBpbnRvIHdoYXQgdGhlIExpdCB0ZW1wbGF0ZSBzeXN0ZW0gaXMgZG9pbmcuXG4gKlxuICogQ29tcGlsZWQgb3V0IG9mIHByb2QgbW9kZSBidWlsZHMuXG4gKi9cbmNvbnN0IGRlYnVnTG9nRXZlbnQgPSBERVZfTU9ERVxuICA/IChldmVudDogTGl0VW5zdGFibGUuRGVidWdMb2cuRW50cnkpID0+IHtcbiAgICAgIGNvbnN0IHNob3VsZEVtaXQgPSAoZ2xvYmFsIGFzIHVua25vd24gYXMgRGVidWdMb2dnaW5nV2luZG93KVxuICAgICAgICAuZW1pdExpdERlYnVnTG9nRXZlbnRzO1xuICAgICAgaWYgKCFzaG91bGRFbWl0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGdsb2JhbC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgQ3VzdG9tRXZlbnQ8TGl0VW5zdGFibGUuRGVidWdMb2cuRW50cnk+KCdsaXQtZGVidWcnLCB7XG4gICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICA6IHVuZGVmaW5lZDtcbi8vIFVzZWQgZm9yIGNvbm5lY3RpbmcgYmVnaW5SZW5kZXIgYW5kIGVuZFJlbmRlciBldmVudHMgd2hlbiB0aGVyZSBhcmUgbmVzdGVkXG4vLyByZW5kZXJzIHdoZW4gZXJyb3JzIGFyZSB0aHJvd24gcHJldmVudGluZyBhbiBlbmRSZW5kZXIgZXZlbnQgZnJvbSBiZWluZ1xuLy8gY2FsbGVkLlxubGV0IGRlYnVnTG9nUmVuZGVySWQgPSAwO1xuXG5sZXQgaXNzdWVXYXJuaW5nOiAoY29kZTogc3RyaW5nLCB3YXJuaW5nOiBzdHJpbmcpID0+IHZvaWQ7XG5cbmlmIChERVZfTU9ERSkge1xuICBnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MgPz89IG5ldyBTZXQoKTtcblxuICAvKipcbiAgICogSXNzdWUgYSB3YXJuaW5nIGlmIHdlIGhhdmVuJ3QgYWxyZWFkeSwgYmFzZWQgZWl0aGVyIG9uIGBjb2RlYCBvciBgd2FybmluZ2AuXG4gICAqIFdhcm5pbmdzIGFyZSBkaXNhYmxlZCBhdXRvbWF0aWNhbGx5IG9ubHkgYnkgYHdhcm5pbmdgOyBkaXNhYmxpbmcgdmlhIGBjb2RlYFxuICAgKiBjYW4gYmUgZG9uZSBieSB1c2Vycy5cbiAgICovXG4gIGlzc3VlV2FybmluZyA9IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4ge1xuICAgIHdhcm5pbmcgKz0gY29kZVxuICAgICAgPyBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYFxuICAgICAgOiAnJztcbiAgICBpZiAoXG4gICAgICAhZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5oYXMod2FybmluZykgJiZcbiAgICAgICFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmhhcyhjb2RlKVxuICAgICkge1xuICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5hZGQod2FybmluZyk7XG4gICAgfVxuICB9O1xuXG4gIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAnZGV2LW1vZGUnLFxuICAgICAgYExpdCBpcyBpbiBkZXYgbW9kZS4gTm90IHJlY29tbWVuZGVkIGZvciBwcm9kdWN0aW9uIWBcbiAgICApO1xuICB9KTtcbn1cblxuY29uc3Qgd3JhcCA9XG4gIEVOQUJMRV9TSEFEWURPTV9OT1BBVENIICYmXG4gIGdsb2JhbC5TaGFkeURPTT8uaW5Vc2UgJiZcbiAgZ2xvYmFsLlNoYWR5RE9NPy5ub1BhdGNoID09PSB0cnVlXG4gICAgPyAoZ2xvYmFsLlNoYWR5RE9NIS53cmFwIGFzIDxUIGV4dGVuZHMgTm9kZT4obm9kZTogVCkgPT4gVClcbiAgICA6IDxUIGV4dGVuZHMgTm9kZT4obm9kZTogVCkgPT4gbm9kZTtcblxuY29uc3QgdHJ1c3RlZFR5cGVzID0gKGdsb2JhbCBhcyB1bmtub3duIGFzIFRydXN0ZWRUeXBlc1dpbmRvdykudHJ1c3RlZFR5cGVzO1xuXG4vKipcbiAqIE91ciBUcnVzdGVkVHlwZVBvbGljeSBmb3IgSFRNTCB3aGljaCBpcyBkZWNsYXJlZCB1c2luZyB0aGUgaHRtbCB0ZW1wbGF0ZVxuICogdGFnIGZ1bmN0aW9uLlxuICpcbiAqIFRoYXQgSFRNTCBpcyBhIGRldmVsb3Blci1hdXRob3JlZCBjb25zdGFudCwgYW5kIGlzIHBhcnNlZCB3aXRoIGlubmVySFRNTFxuICogYmVmb3JlIGFueSB1bnRydXN0ZWQgZXhwcmVzc2lvbnMgaGF2ZSBiZWVuIG1peGVkIGluLiBUaGVyZWZvciBpdCBpc1xuICogY29uc2lkZXJlZCBzYWZlIGJ5IGNvbnN0cnVjdGlvbi5cbiAqL1xuY29uc3QgcG9saWN5ID0gdHJ1c3RlZFR5cGVzXG4gID8gdHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSgnbGl0LWh0bWwnLCB7XG4gICAgICBjcmVhdGVIVE1MOiAocykgPT4gcyxcbiAgICB9KVxuICA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBVc2VkIHRvIHNhbml0aXplIGFueSB2YWx1ZSBiZWZvcmUgaXQgaXMgd3JpdHRlbiBpbnRvIHRoZSBET00uIFRoaXMgY2FuIGJlXG4gKiB1c2VkIHRvIGltcGxlbWVudCBhIHNlY3VyaXR5IHBvbGljeSBvZiBhbGxvd2VkIGFuZCBkaXNhbGxvd2VkIHZhbHVlcyBpblxuICogb3JkZXIgdG8gcHJldmVudCBYU1MgYXR0YWNrcy5cbiAqXG4gKiBPbmUgd2F5IG9mIHVzaW5nIHRoaXMgY2FsbGJhY2sgd291bGQgYmUgdG8gY2hlY2sgYXR0cmlidXRlcyBhbmQgcHJvcGVydGllc1xuICogYWdhaW5zdCBhIGxpc3Qgb2YgaGlnaCByaXNrIGZpZWxkcywgYW5kIHJlcXVpcmUgdGhhdCB2YWx1ZXMgd3JpdHRlbiB0byBzdWNoXG4gKiBmaWVsZHMgYmUgaW5zdGFuY2VzIG9mIGEgY2xhc3Mgd2hpY2ggaXMgc2FmZSBieSBjb25zdHJ1Y3Rpb24uIENsb3N1cmUncyBTYWZlXG4gKiBIVE1MIFR5cGVzIGlzIG9uZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIHRlY2huaXF1ZSAoXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL3NhZmUtaHRtbC10eXBlcy9ibG9iL21hc3Rlci9kb2Mvc2FmZWh0bWwtdHlwZXMubWQpLlxuICogVGhlIFRydXN0ZWRUeXBlcyBwb2x5ZmlsbCBpbiBBUEktb25seSBtb2RlIGNvdWxkIGFsc28gYmUgdXNlZCBhcyBhIGJhc2lzXG4gKiBmb3IgdGhpcyB0ZWNobmlxdWUgKGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL3RydXN0ZWQtdHlwZXMpLlxuICpcbiAqIEBwYXJhbSBub2RlIFRoZSBIVE1MIG5vZGUgKHVzdWFsbHkgZWl0aGVyIGEgI3RleHQgbm9kZSBvciBhbiBFbGVtZW50KSB0aGF0XG4gKiAgICAgaXMgYmVpbmcgd3JpdHRlbiB0by4gTm90ZSB0aGF0IHRoaXMgaXMganVzdCBhbiBleGVtcGxhciBub2RlLCB0aGUgd3JpdGVcbiAqICAgICBtYXkgdGFrZSBwbGFjZSBhZ2FpbnN0IGFub3RoZXIgaW5zdGFuY2Ugb2YgdGhlIHNhbWUgY2xhc3Mgb2Ygbm9kZS5cbiAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIGFuIGF0dHJpYnV0ZSBvciBwcm9wZXJ0eSAoZm9yIGV4YW1wbGUsICdocmVmJykuXG4gKiBAcGFyYW0gdHlwZSBJbmRpY2F0ZXMgd2hldGhlciB0aGUgd3JpdGUgdGhhdCdzIGFib3V0IHRvIGJlIHBlcmZvcm1lZCB3aWxsXG4gKiAgICAgYmUgdG8gYSBwcm9wZXJ0eSBvciBhIG5vZGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCB3aWxsIHNhbml0aXplIHRoaXMgY2xhc3Mgb2Ygd3JpdGVzLlxuICovXG5leHBvcnQgdHlwZSBTYW5pdGl6ZXJGYWN0b3J5ID0gKFxuICBub2RlOiBOb2RlLFxuICBuYW1lOiBzdHJpbmcsXG4gIHR5cGU6ICdwcm9wZXJ0eScgfCAnYXR0cmlidXRlJ1xuKSA9PiBWYWx1ZVNhbml0aXplcjtcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHdoaWNoIGNhbiBzYW5pdGl6ZSB2YWx1ZXMgdGhhdCB3aWxsIGJlIHdyaXR0ZW4gdG8gYSBzcGVjaWZpYyBraW5kXG4gKiBvZiBET00gc2luay5cbiAqXG4gKiBTZWUgU2FuaXRpemVyRmFjdG9yeS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHNhbml0aXplLiBXaWxsIGJlIHRoZSBhY3R1YWwgdmFsdWUgcGFzc2VkIGludG9cbiAqICAgICB0aGUgbGl0LWh0bWwgdGVtcGxhdGUgbGl0ZXJhbCwgc28gdGhpcyBjb3VsZCBiZSBvZiBhbnkgdHlwZS5cbiAqIEByZXR1cm4gVGhlIHZhbHVlIHRvIHdyaXRlIHRvIHRoZSBET00uIFVzdWFsbHkgdGhlIHNhbWUgYXMgdGhlIGlucHV0IHZhbHVlLFxuICogICAgIHVubGVzcyBzYW5pdGl6YXRpb24gaXMgbmVlZGVkLlxuICovXG5leHBvcnQgdHlwZSBWYWx1ZVNhbml0aXplciA9ICh2YWx1ZTogdW5rbm93bikgPT4gdW5rbm93bjtcblxuY29uc3QgaWRlbnRpdHlGdW5jdGlvbjogVmFsdWVTYW5pdGl6ZXIgPSAodmFsdWU6IHVua25vd24pID0+IHZhbHVlO1xuY29uc3Qgbm9vcFNhbml0aXplcjogU2FuaXRpemVyRmFjdG9yeSA9IChcbiAgX25vZGU6IE5vZGUsXG4gIF9uYW1lOiBzdHJpbmcsXG4gIF90eXBlOiAncHJvcGVydHknIHwgJ2F0dHJpYnV0ZSdcbikgPT4gaWRlbnRpdHlGdW5jdGlvbjtcblxuLyoqIFNldHMgdGhlIGdsb2JhbCBzYW5pdGl6ZXIgZmFjdG9yeS4gKi9cbmNvbnN0IHNldFNhbml0aXplciA9IChuZXdTYW5pdGl6ZXI6IFNhbml0aXplckZhY3RvcnkpID0+IHtcbiAgaWYgKCFFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCAhPT0gbm9vcFNhbml0aXplcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBBdHRlbXB0ZWQgdG8gb3ZlcndyaXRlIGV4aXN0aW5nIGxpdC1odG1sIHNlY3VyaXR5IHBvbGljeS5gICtcbiAgICAgICAgYCBzZXRTYW5pdGl6ZURPTVZhbHVlRmFjdG9yeSBzaG91bGQgYmUgY2FsbGVkIGF0IG1vc3Qgb25jZS5gXG4gICAgKTtcbiAgfVxuICBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwgPSBuZXdTYW5pdGl6ZXI7XG59O1xuXG4vKipcbiAqIE9ubHkgdXNlZCBpbiBpbnRlcm5hbCB0ZXN0cywgbm90IGEgcGFydCBvZiB0aGUgcHVibGljIEFQSS5cbiAqL1xuY29uc3QgX3Rlc3RPbmx5Q2xlYXJTYW5pdGl6ZXJGYWN0b3J5RG9Ob3RDYWxsT3JFbHNlID0gKCkgPT4ge1xuICBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwgPSBub29wU2FuaXRpemVyO1xufTtcblxuY29uc3QgY3JlYXRlU2FuaXRpemVyOiBTYW5pdGl6ZXJGYWN0b3J5ID0gKG5vZGUsIG5hbWUsIHR5cGUpID0+IHtcbiAgcmV0dXJuIHNhbml0aXplckZhY3RvcnlJbnRlcm5hbChub2RlLCBuYW1lLCB0eXBlKTtcbn07XG5cbi8vIEFkZGVkIHRvIGFuIGF0dHJpYnV0ZSBuYW1lIHRvIG1hcmsgdGhlIGF0dHJpYnV0ZSBhcyBib3VuZCBzbyB3ZSBjYW4gZmluZFxuLy8gaXQgZWFzaWx5LlxuY29uc3QgYm91bmRBdHRyaWJ1dGVTdWZmaXggPSAnJGxpdCQnO1xuXG4vLyBUaGlzIG1hcmtlciBpcyB1c2VkIGluIG1hbnkgc3ludGFjdGljIHBvc2l0aW9ucyBpbiBIVE1MLCBzbyBpdCBtdXN0IGJlXG4vLyBhIHZhbGlkIGVsZW1lbnQgbmFtZSBhbmQgYXR0cmlidXRlIG5hbWUuIFdlIGRvbid0IHN1cHBvcnQgZHluYW1pYyBuYW1lcyAoeWV0KVxuLy8gYnV0IHRoaXMgYXQgbGVhc3QgZW5zdXJlcyB0aGF0IHRoZSBwYXJzZSB0cmVlIGlzIGNsb3NlciB0byB0aGUgdGVtcGxhdGVcbi8vIGludGVudGlvbi5cbmNvbnN0IG1hcmtlciA9IGBsaXQkJHtNYXRoLnJhbmRvbSgpLnRvRml4ZWQoOSkuc2xpY2UoMil9JGA7XG5cbi8vIFN0cmluZyB1c2VkIHRvIHRlbGwgaWYgYSBjb21tZW50IGlzIGEgbWFya2VyIGNvbW1lbnRcbmNvbnN0IG1hcmtlck1hdGNoID0gJz8nICsgbWFya2VyO1xuXG4vLyBUZXh0IHVzZWQgdG8gaW5zZXJ0IGEgY29tbWVudCBtYXJrZXIgbm9kZS4gV2UgdXNlIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb25cbi8vIHN5bnRheCBiZWNhdXNlIGl0J3Mgc2xpZ2h0bHkgc21hbGxlciwgYnV0IHBhcnNlcyBhcyBhIGNvbW1lbnQgbm9kZS5cbmNvbnN0IG5vZGVNYXJrZXIgPSBgPCR7bWFya2VyTWF0Y2h9PmA7XG5cbmNvbnN0IGQgPVxuICBOT0RFX01PREUgJiYgZ2xvYmFsLmRvY3VtZW50ID09PSB1bmRlZmluZWRcbiAgICA/ICh7XG4gICAgICAgIGNyZWF0ZVRyZWVXYWxrZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9LFxuICAgICAgfSBhcyB1bmtub3duIGFzIERvY3VtZW50KVxuICAgIDogZG9jdW1lbnQ7XG5cbi8vIENyZWF0ZXMgYSBkeW5hbWljIG1hcmtlci4gV2UgbmV2ZXIgaGF2ZSB0byBzZWFyY2ggZm9yIHRoZXNlIGluIHRoZSBET00uXG5jb25zdCBjcmVhdGVNYXJrZXIgPSAoKSA9PiBkLmNyZWF0ZUNvbW1lbnQoJycpO1xuXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10eXBlb2Ytb3BlcmF0b3JcbnR5cGUgUHJpbWl0aXZlID0gbnVsbCB8IHVuZGVmaW5lZCB8IGJvb2xlYW4gfCBudW1iZXIgfCBzdHJpbmcgfCBzeW1ib2wgfCBiaWdpbnQ7XG5jb25zdCBpc1ByaW1pdGl2ZSA9ICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFByaW1pdGl2ZSA9PlxuICB2YWx1ZSA9PT0gbnVsbCB8fCAodHlwZW9mIHZhbHVlICE9ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZSAhPSAnZnVuY3Rpb24nKTtcbmNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuY29uc3QgaXNJdGVyYWJsZSA9ICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEl0ZXJhYmxlPHVua25vd24+ID0+XG4gIGlzQXJyYXkodmFsdWUpIHx8XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHR5cGVvZiAodmFsdWUgYXMgYW55KT8uW1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG5cbmNvbnN0IFNQQUNFX0NIQVIgPSBgWyBcXHRcXG5cXGZcXHJdYDtcbmNvbnN0IEFUVFJfVkFMVUVfQ0hBUiA9IGBbXiBcXHRcXG5cXGZcXHJcIidcXGA8Pj1dYDtcbmNvbnN0IE5BTUVfQ0hBUiA9IGBbXlxcXFxzXCInPj0vXWA7XG5cbi8vIFRoZXNlIHJlZ2V4ZXMgcmVwcmVzZW50IHRoZSBmaXZlIHBhcnNpbmcgc3RhdGVzIHRoYXQgd2UgY2FyZSBhYm91dCBpbiB0aGVcbi8vIFRlbXBsYXRlJ3MgSFRNTCBzY2FubmVyLiBUaGV5IG1hdGNoIHRoZSAqZW5kKiBvZiB0aGUgc3RhdGUgdGhleSdyZSBuYW1lZFxuLy8gYWZ0ZXIuXG4vLyBEZXBlbmRpbmcgb24gdGhlIG1hdGNoLCB3ZSB0cmFuc2l0aW9uIHRvIGEgbmV3IHN0YXRlLiBJZiB0aGVyZSdzIG5vIG1hdGNoLFxuLy8gd2Ugc3RheSBpbiB0aGUgc2FtZSBzdGF0ZS5cbi8vIE5vdGUgdGhhdCB0aGUgcmVnZXhlcyBhcmUgc3RhdGVmdWwuIFdlIHV0aWxpemUgbGFzdEluZGV4IGFuZCBzeW5jIGl0XG4vLyBhY3Jvc3MgdGhlIG11bHRpcGxlIHJlZ2V4ZXMgdXNlZC4gSW4gYWRkaXRpb24gdG8gdGhlIGZpdmUgcmVnZXhlcyBiZWxvd1xuLy8gd2UgYWxzbyBkeW5hbWljYWxseSBjcmVhdGUgYSByZWdleCB0byBmaW5kIHRoZSBtYXRjaGluZyBlbmQgdGFncyBmb3IgcmF3XG4vLyB0ZXh0IGVsZW1lbnRzLlxuXG4vKipcbiAqIEVuZCBvZiB0ZXh0IGlzOiBgPGAgZm9sbG93ZWQgYnk6XG4gKiAgIChjb21tZW50IHN0YXJ0KSBvciAodGFnKSBvciAoZHluYW1pYyB0YWcgYmluZGluZylcbiAqL1xuY29uc3QgdGV4dEVuZFJlZ2V4ID0gLzwoPzooIS0tfFxcL1teYS16QS1aXSl8KFxcLz9bYS16QS1aXVtePlxcc10qKXwoXFwvPyQpKS9nO1xuY29uc3QgQ09NTUVOVF9TVEFSVCA9IDE7XG5jb25zdCBUQUdfTkFNRSA9IDI7XG5jb25zdCBEWU5BTUlDX1RBR19OQU1FID0gMztcblxuY29uc3QgY29tbWVudEVuZFJlZ2V4ID0gLy0tPi9nO1xuLyoqXG4gKiBDb21tZW50cyBub3Qgc3RhcnRlZCB3aXRoIDwhLS0sIGxpa2UgPC97LCBjYW4gYmUgZW5kZWQgYnkgYSBzaW5nbGUgYD5gXG4gKi9cbmNvbnN0IGNvbW1lbnQyRW5kUmVnZXggPSAvPi9nO1xuXG4vKipcbiAqIFRoZSB0YWdFbmQgcmVnZXggbWF0Y2hlcyB0aGUgZW5kIG9mIHRoZSBcImluc2lkZSBhbiBvcGVuaW5nXCIgdGFnIHN5bnRheFxuICogcG9zaXRpb24uIEl0IGVpdGhlciBtYXRjaGVzIGEgYD5gLCBhbiBhdHRyaWJ1dGUtbGlrZSBzZXF1ZW5jZSwgb3IgdGhlIGVuZFxuICogb2YgdGhlIHN0cmluZyBhZnRlciBhIHNwYWNlIChhdHRyaWJ1dGUtbmFtZSBwb3NpdGlvbiBlbmRpbmcpLlxuICpcbiAqIFNlZSBhdHRyaWJ1dGVzIGluIHRoZSBIVE1MIHNwZWM6XG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvc3ludGF4Lmh0bWwjZWxlbWVudHMtYXR0cmlidXRlc1xuICpcbiAqIFwiIFxcdFxcblxcZlxcclwiIGFyZSBIVE1MIHNwYWNlIGNoYXJhY3RlcnM6XG4gKiBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jYXNjaWktd2hpdGVzcGFjZVxuICpcbiAqIFNvIGFuIGF0dHJpYnV0ZSBpczpcbiAqICAqIFRoZSBuYW1lOiBhbnkgY2hhcmFjdGVyIGV4Y2VwdCBhIHdoaXRlc3BhY2UgY2hhcmFjdGVyLCAoXCIpLCAoJyksIFwiPlwiLFxuICogICAgXCI9XCIsIG9yIFwiL1wiLiBOb3RlOiB0aGlzIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBIVE1MIHNwZWMgd2hpY2ggYWxzbyBleGNsdWRlcyBjb250cm9sIGNoYXJhY3RlcnMuXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnkgXCI9XCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieTpcbiAqICAgICogQW55IGNoYXJhY3RlciBleGNlcHQgc3BhY2UsICgnKSwgKFwiKSwgXCI8XCIsIFwiPlwiLCBcIj1cIiwgKGApLCBvclxuICogICAgKiAoXCIpIHRoZW4gYW55IG5vbi0oXCIpLCBvclxuICogICAgKiAoJykgdGhlbiBhbnkgbm9uLSgnKVxuICovXG5jb25zdCB0YWdFbmRSZWdleCA9IG5ldyBSZWdFeHAoXG4gIGA+fCR7U1BBQ0VfQ0hBUn0oPzooJHtOQU1FX0NIQVJ9KykoJHtTUEFDRV9DSEFSfSo9JHtTUEFDRV9DSEFSfSooPzoke0FUVFJfVkFMVUVfQ0hBUn18KFwifCcpfCkpfCQpYCxcbiAgJ2cnXG4pO1xuY29uc3QgRU5USVJFX01BVENIID0gMDtcbmNvbnN0IEFUVFJJQlVURV9OQU1FID0gMTtcbmNvbnN0IFNQQUNFU19BTkRfRVFVQUxTID0gMjtcbmNvbnN0IFFVT1RFX0NIQVIgPSAzO1xuXG5jb25zdCBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleCA9IC8nL2c7XG5jb25zdCBkb3VibGVRdW90ZUF0dHJFbmRSZWdleCA9IC9cIi9nO1xuLyoqXG4gKiBNYXRjaGVzIHRoZSByYXcgdGV4dCBlbGVtZW50cy5cbiAqXG4gKiBDb21tZW50cyBhcmUgbm90IHBhcnNlZCB3aXRoaW4gcmF3IHRleHQgZWxlbWVudHMsIHNvIHdlIG5lZWQgdG8gc2VhcmNoIHRoZWlyXG4gKiB0ZXh0IGNvbnRlbnQgZm9yIG1hcmtlciBzdHJpbmdzLlxuICovXG5jb25zdCByYXdUZXh0RWxlbWVudCA9IC9eKD86c2NyaXB0fHN0eWxlfHRleHRhcmVhfHRpdGxlKSQvaTtcblxuLyoqIFRlbXBsYXRlUmVzdWx0IHR5cGVzICovXG5jb25zdCBIVE1MX1JFU1VMVCA9IDE7XG5jb25zdCBTVkdfUkVTVUxUID0gMjtcbmNvbnN0IE1BVEhNTF9SRVNVTFQgPSAzO1xuXG50eXBlIFJlc3VsdFR5cGUgPSB0eXBlb2YgSFRNTF9SRVNVTFQgfCB0eXBlb2YgU1ZHX1JFU1VMVCB8IHR5cGVvZiBNQVRITUxfUkVTVUxUO1xuXG4vLyBUZW1wbGF0ZVBhcnQgdHlwZXNcbi8vIElNUE9SVEFOVDogdGhlc2UgbXVzdCBtYXRjaCB0aGUgdmFsdWVzIGluIFBhcnRUeXBlXG5jb25zdCBBVFRSSUJVVEVfUEFSVCA9IDE7XG5jb25zdCBDSElMRF9QQVJUID0gMjtcbmNvbnN0IFBST1BFUlRZX1BBUlQgPSAzO1xuY29uc3QgQk9PTEVBTl9BVFRSSUJVVEVfUEFSVCA9IDQ7XG5jb25zdCBFVkVOVF9QQVJUID0gNTtcbmNvbnN0IEVMRU1FTlRfUEFSVCA9IDY7XG5jb25zdCBDT01NRU5UX1BBUlQgPSA3O1xuXG4vKipcbiAqIFRoZSByZXR1cm4gdHlwZSBvZiB0aGUgdGVtcGxhdGUgdGFnIGZ1bmN0aW9ucywge0BsaW5rY29kZSBodG1sfSBhbmRcbiAqIHtAbGlua2NvZGUgc3ZnfSB3aGVuIGl0IGhhc24ndCBiZWVuIGNvbXBpbGVkIGJ5IEBsaXQtbGFicy9jb21waWxlci5cbiAqXG4gKiBBIGBUZW1wbGF0ZVJlc3VsdGAgb2JqZWN0IGhvbGRzIGFsbCB0aGUgaW5mb3JtYXRpb24gYWJvdXQgYSB0ZW1wbGF0ZVxuICogZXhwcmVzc2lvbiByZXF1aXJlZCB0byByZW5kZXIgaXQ6IHRoZSB0ZW1wbGF0ZSBzdHJpbmdzLCBleHByZXNzaW9uIHZhbHVlcyxcbiAqIGFuZCB0eXBlIG9mIHRlbXBsYXRlIChodG1sIG9yIHN2ZykuXG4gKlxuICogYFRlbXBsYXRlUmVzdWx0YCBvYmplY3RzIGRvIG5vdCBjcmVhdGUgYW55IERPTSBvbiB0aGVpciBvd24uIFRvIGNyZWF0ZSBvclxuICogdXBkYXRlIERPTSB5b3UgbmVlZCB0byByZW5kZXIgdGhlIGBUZW1wbGF0ZVJlc3VsdGAuIFNlZVxuICogW1JlbmRlcmluZ10oaHR0cHM6Ly9saXQuZGV2L2RvY3MvY29tcG9uZW50cy9yZW5kZXJpbmcpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0PFQgZXh0ZW5kcyBSZXN1bHRUeXBlID0gUmVzdWx0VHlwZT4gPSB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIFsnXyRsaXRUeXBlJCddOiBUO1xuICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheTtcbiAgdmFsdWVzOiB1bmtub3duW107XG59O1xuXG4vKipcbiAqIFRoaXMgaXMgYSB0ZW1wbGF0ZSByZXN1bHQgdGhhdCBtYXkgYmUgZWl0aGVyIHVuY29tcGlsZWQgb3IgY29tcGlsZWQuXG4gKlxuICogSW4gdGhlIGZ1dHVyZSwgVGVtcGxhdGVSZXN1bHQgd2lsbCBiZSB0aGlzIHR5cGUuIElmIHlvdSB3YW50IHRvIGV4cGxpY2l0bHlcbiAqIG5vdGUgdGhhdCBhIHRlbXBsYXRlIHJlc3VsdCBpcyBwb3RlbnRpYWxseSBjb21waWxlZCwgeW91IGNhbiByZWZlcmVuY2UgdGhpc1xuICogdHlwZSBhbmQgaXQgd2lsbCBjb250aW51ZSB0byBiZWhhdmUgdGhlIHNhbWUgdGhyb3VnaCB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uXG4gKiBvZiBMaXQuIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3IgY29kZSB0aGF0IHdhbnRzIHRvIHByZXBhcmUgZm9yIHRoZSBuZXh0XG4gKiBtYWpvciB2ZXJzaW9uIG9mIExpdC5cbiAqL1xuZXhwb3J0IHR5cGUgTWF5YmVDb21waWxlZFRlbXBsYXRlUmVzdWx0PFQgZXh0ZW5kcyBSZXN1bHRUeXBlID0gUmVzdWx0VHlwZT4gPVxuICB8IFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdDxUPlxuICB8IENvbXBpbGVkVGVtcGxhdGVSZXN1bHQ7XG5cbi8qKlxuICogVGhlIHJldHVybiB0eXBlIG9mIHRoZSB0ZW1wbGF0ZSB0YWcgZnVuY3Rpb25zLCB7QGxpbmtjb2RlIGh0bWx9IGFuZFxuICoge0BsaW5rY29kZSBzdmd9LlxuICpcbiAqIEEgYFRlbXBsYXRlUmVzdWx0YCBvYmplY3QgaG9sZHMgYWxsIHRoZSBpbmZvcm1hdGlvbiBhYm91dCBhIHRlbXBsYXRlXG4gKiBleHByZXNzaW9uIHJlcXVpcmVkIHRvIHJlbmRlciBpdDogdGhlIHRlbXBsYXRlIHN0cmluZ3MsIGV4cHJlc3Npb24gdmFsdWVzLFxuICogYW5kIHR5cGUgb2YgdGVtcGxhdGUgKGh0bWwgb3Igc3ZnKS5cbiAqXG4gKiBgVGVtcGxhdGVSZXN1bHRgIG9iamVjdHMgZG8gbm90IGNyZWF0ZSBhbnkgRE9NIG9uIHRoZWlyIG93bi4gVG8gY3JlYXRlIG9yXG4gKiB1cGRhdGUgRE9NIHlvdSBuZWVkIHRvIHJlbmRlciB0aGUgYFRlbXBsYXRlUmVzdWx0YC4gU2VlXG4gKiBbUmVuZGVyaW5nXShodHRwczovL2xpdC5kZXYvZG9jcy9jb21wb25lbnRzL3JlbmRlcmluZykgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogSW4gTGl0IDQsIHRoaXMgdHlwZSB3aWxsIGJlIGFuIGFsaWFzIG9mXG4gKiBNYXliZUNvbXBpbGVkVGVtcGxhdGVSZXN1bHQsIHNvIHRoYXQgY29kZSB3aWxsIGdldCB0eXBlIGVycm9ycyBpZiBpdCBhc3N1bWVzXG4gKiB0aGF0IExpdCB0ZW1wbGF0ZXMgYXJlIG5vdCBjb21waWxlZC4gV2hlbiBkZWxpYmVyYXRlbHkgd29ya2luZyB3aXRoIG9ubHlcbiAqIG9uZSwgdXNlIGVpdGhlciB7QGxpbmtjb2RlIENvbXBpbGVkVGVtcGxhdGVSZXN1bHR9IG9yXG4gKiB7QGxpbmtjb2RlIFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdH0gZXhwbGljaXRseS5cbiAqL1xuZXhwb3J0IHR5cGUgVGVtcGxhdGVSZXN1bHQ8VCBleHRlbmRzIFJlc3VsdFR5cGUgPSBSZXN1bHRUeXBlPiA9XG4gIFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdDxUPjtcblxuZXhwb3J0IHR5cGUgSFRNTFRlbXBsYXRlUmVzdWx0ID0gVGVtcGxhdGVSZXN1bHQ8dHlwZW9mIEhUTUxfUkVTVUxUPjtcblxuZXhwb3J0IHR5cGUgU1ZHVGVtcGxhdGVSZXN1bHQgPSBUZW1wbGF0ZVJlc3VsdDx0eXBlb2YgU1ZHX1JFU1VMVD47XG5cbmV4cG9ydCB0eXBlIE1hdGhNTFRlbXBsYXRlUmVzdWx0ID0gVGVtcGxhdGVSZXN1bHQ8dHlwZW9mIE1BVEhNTF9SRVNVTFQ+O1xuXG4vKipcbiAqIEEgVGVtcGxhdGVSZXN1bHQgdGhhdCBoYXMgYmVlbiBjb21waWxlZCBieSBAbGl0LWxhYnMvY29tcGlsZXIsIHNraXBwaW5nIHRoZVxuICogcHJlcGFyZSBzdGVwLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkVGVtcGxhdGVSZXN1bHQge1xuICAvLyBUaGlzIGlzIGEgZmFjdG9yeSBpbiBvcmRlciB0byBtYWtlIHRlbXBsYXRlIGluaXRpYWxpemF0aW9uIGxhenlcbiAgLy8gYW5kIGFsbG93IFNoYWR5UmVuZGVyT3B0aW9ucyBzY29wZSB0byBiZSBwYXNzZWQgaW4uXG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIFsnXyRsaXRUeXBlJCddOiBDb21waWxlZFRlbXBsYXRlO1xuICB2YWx1ZXM6IHVua25vd25bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFRlbXBsYXRlIGV4dGVuZHMgT21pdDxUZW1wbGF0ZSwgJ2VsJz4ge1xuICAvLyBlbCBpcyBvdmVycmlkZGVuIHRvIGJlIG9wdGlvbmFsLiBXZSBpbml0aWFsaXplIGl0IG9uIGZpcnN0IHJlbmRlclxuICBlbD86IEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XG5cbiAgLy8gVGhlIHByZXBhcmVkIEhUTUwgc3RyaW5nIHRvIGNyZWF0ZSBhIHRlbXBsYXRlIGVsZW1lbnQgZnJvbS5cbiAgLy8gVGhlIHR5cGUgaXMgYSBUZW1wbGF0ZVN0cmluZ3NBcnJheSB0byBndWFyYW50ZWUgdGhhdCB0aGUgdmFsdWUgY2FtZSBmcm9tXG4gIC8vIHNvdXJjZSBjb2RlLCBwcmV2ZW50aW5nIGEgSlNPTiBpbmplY3Rpb24gYXR0YWNrLlxuICBoOiBUZW1wbGF0ZVN0cmluZ3NBcnJheTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBUZW1wbGF0ZVJlc3VsdCB3aXRoXG4gKiB0aGUgZ2l2ZW4gcmVzdWx0IHR5cGUuXG4gKi9cbmNvbnN0IHRhZyA9XG4gIDxUIGV4dGVuZHMgUmVzdWx0VHlwZT4odHlwZTogVCkgPT5cbiAgKHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LCAuLi52YWx1ZXM6IHVua25vd25bXSk6IFRlbXBsYXRlUmVzdWx0PFQ+ID0+IHtcbiAgICAvLyBXYXJuIGFnYWluc3QgdGVtcGxhdGVzIG9jdGFsIGVzY2FwZSBzZXF1ZW5jZXNcbiAgICAvLyBXZSBkbyB0aGlzIGhlcmUgcmF0aGVyIHRoYW4gaW4gcmVuZGVyIHNvIHRoYXQgdGhlIHdhcm5pbmcgaXMgY2xvc2VyIHRvIHRoZVxuICAgIC8vIHRlbXBsYXRlIGRlZmluaXRpb24uXG4gICAgaWYgKERFVl9NT0RFICYmIHN0cmluZ3Muc29tZSgocykgPT4gcyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnU29tZSB0ZW1wbGF0ZSBzdHJpbmdzIGFyZSB1bmRlZmluZWQuXFxuJyArXG4gICAgICAgICAgJ1RoaXMgaXMgcHJvYmFibHkgY2F1c2VkIGJ5IGlsbGVnYWwgb2N0YWwgZXNjYXBlIHNlcXVlbmNlcy4nXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIC8vIEltcG9ydCBzdGF0aWMtaHRtbC5qcyByZXN1bHRzIGluIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSB3aGljaCBnMyBkb2Vzbid0XG4gICAgICAvLyBoYW5kbGUuIEluc3RlYWQgd2Uga25vdyB0aGF0IHN0YXRpYyB2YWx1ZXMgbXVzdCBoYXZlIHRoZSBmaWVsZFxuICAgICAgLy8gYF8kbGl0U3RhdGljJGAuXG4gICAgICBpZiAoXG4gICAgICAgIHZhbHVlcy5zb21lKCh2YWwpID0+ICh2YWwgYXMge18kbGl0U3RhdGljJDogdW5rbm93bn0pPy5bJ18kbGl0U3RhdGljJCddKVxuICAgICAgKSB7XG4gICAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgICAnJyxcbiAgICAgICAgICBgU3RhdGljIHZhbHVlcyAnbGl0ZXJhbCcgb3IgJ3Vuc2FmZVN0YXRpYycgY2Fubm90IGJlIHVzZWQgYXMgdmFsdWVzIHRvIG5vbi1zdGF0aWMgdGVtcGxhdGVzLlxcbmAgK1xuICAgICAgICAgICAgYFBsZWFzZSB1c2UgdGhlIHN0YXRpYyAnaHRtbCcgdGFnIGZ1bmN0aW9uLiBTZWUgaHR0cHM6Ly9saXQuZGV2L2RvY3MvdGVtcGxhdGVzL2V4cHJlc3Npb25zLyNzdGF0aWMtZXhwcmVzc2lvbnNgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgWydfJGxpdFR5cGUkJ106IHR5cGUsXG4gICAgICBzdHJpbmdzLFxuICAgICAgdmFsdWVzLFxuICAgIH07XG4gIH07XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gSFRNTCB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IGhlYWRlciA9ICh0aXRsZTogc3RyaW5nKSA9PiBodG1sYDxoMT4ke3RpdGxlfTwvaDE+YDtcbiAqIGBgYFxuICpcbiAqIFRoZSBgaHRtbGAgdGFnIHJldHVybnMgYSBkZXNjcmlwdGlvbiBvZiB0aGUgRE9NIHRvIHJlbmRlciBhcyBhIHZhbHVlLiBJdCBpc1xuICogbGF6eSwgbWVhbmluZyBubyB3b3JrIGlzIGRvbmUgdW50aWwgdGhlIHRlbXBsYXRlIGlzIHJlbmRlcmVkLiBXaGVuIHJlbmRlcmluZyxcbiAqIGlmIGEgdGVtcGxhdGUgY29tZXMgZnJvbSB0aGUgc2FtZSBleHByZXNzaW9uIGFzIGEgcHJldmlvdXNseSByZW5kZXJlZCByZXN1bHQsXG4gKiBpdCdzIGVmZmljaWVudGx5IHVwZGF0ZWQgaW5zdGVhZCBvZiByZXBsYWNlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGh0bWwgPSB0YWcoSFRNTF9SRVNVTFQpO1xuXG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIFNWRyBmcmFnbWVudCB0aGF0IGNhbiBlZmZpY2llbnRseSByZW5kZXJcbiAqIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IHJlY3QgPSBzdmdgPHJlY3Qgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCI+PC9yZWN0PmA7XG4gKlxuICogY29uc3QgbXlJbWFnZSA9IGh0bWxgXG4gKiAgIDxzdmcgdmlld0JveD1cIjAgMCAxMCAxMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAqICAgICAke3JlY3R9XG4gKiAgIDwvc3ZnPmA7XG4gKiBgYGBcbiAqXG4gKiBUaGUgYHN2Z2AgKnRhZyBmdW5jdGlvbiogc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgU1ZHIGZyYWdtZW50cywgb3IgZWxlbWVudHNcbiAqIHRoYXQgd291bGQgYmUgY29udGFpbmVkICoqaW5zaWRlKiogYW4gYDxzdmc+YCBIVE1MIGVsZW1lbnQuIEEgY29tbW9uIGVycm9yIGlzXG4gKiBwbGFjaW5nIGFuIGA8c3ZnPmAgKmVsZW1lbnQqIGluIGEgdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIGBzdmdgIHRhZ1xuICogZnVuY3Rpb24uIFRoZSBgPHN2Zz5gIGVsZW1lbnQgaXMgYW4gSFRNTCBlbGVtZW50IGFuZCBzaG91bGQgYmUgdXNlZCB3aXRoaW4gYVxuICogdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIHtAbGlua2NvZGUgaHRtbH0gdGFnIGZ1bmN0aW9uLlxuICpcbiAqIEluIExpdEVsZW1lbnQgdXNhZ2UsIGl0J3MgaW52YWxpZCB0byByZXR1cm4gYW4gU1ZHIGZyYWdtZW50IGZyb20gdGhlXG4gKiBgcmVuZGVyKClgIG1ldGhvZCwgYXMgdGhlIFNWRyBmcmFnbWVudCB3aWxsIGJlIGNvbnRhaW5lZCB3aXRoaW4gdGhlIGVsZW1lbnQnc1xuICogc2hhZG93IHJvb3QgYW5kIHRodXMgbm90IGJlIHByb3Blcmx5IGNvbnRhaW5lZCB3aXRoaW4gYW4gYDxzdmc+YCBIVE1MXG4gKiBlbGVtZW50LlxuICovXG5leHBvcnQgY29uc3Qgc3ZnID0gdGFnKFNWR19SRVNVTFQpO1xuXG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIE1hdGhNTCBmcmFnbWVudCB0aGF0IGNhbiBlZmZpY2llbnRseSByZW5kZXJcbiAqIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IG51bSA9IG1hdGhtbGA8bW4+MTwvbW4+YDtcbiAqXG4gKiBjb25zdCBlcSA9IGh0bWxgXG4gKiAgIDxtYXRoPlxuICogICAgICR7bnVtfVxuICogICA8L21hdGg+YDtcbiAqIGBgYFxuICpcbiAqIFRoZSBgbWF0aG1sYCAqdGFnIGZ1bmN0aW9uKiBzaG91bGQgb25seSBiZSB1c2VkIGZvciBNYXRoTUwgZnJhZ21lbnRzLCBvclxuICogZWxlbWVudHMgdGhhdCB3b3VsZCBiZSBjb250YWluZWQgKippbnNpZGUqKiBhIGA8bWF0aD5gIEhUTUwgZWxlbWVudC4gQSBjb21tb25cbiAqIGVycm9yIGlzIHBsYWNpbmcgYSBgPG1hdGg+YCAqZWxlbWVudCogaW4gYSB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUgYG1hdGhtbGBcbiAqIHRhZyBmdW5jdGlvbi4gVGhlIGA8bWF0aD5gIGVsZW1lbnQgaXMgYW4gSFRNTCBlbGVtZW50IGFuZCBzaG91bGQgYmUgdXNlZFxuICogd2l0aGluIGEgdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIHtAbGlua2NvZGUgaHRtbH0gdGFnIGZ1bmN0aW9uLlxuICpcbiAqIEluIExpdEVsZW1lbnQgdXNhZ2UsIGl0J3MgaW52YWxpZCB0byByZXR1cm4gYW4gTWF0aE1MIGZyYWdtZW50IGZyb20gdGhlXG4gKiBgcmVuZGVyKClgIG1ldGhvZCwgYXMgdGhlIE1hdGhNTCBmcmFnbWVudCB3aWxsIGJlIGNvbnRhaW5lZCB3aXRoaW4gdGhlXG4gKiBlbGVtZW50J3Mgc2hhZG93IHJvb3QgYW5kIHRodXMgbm90IGJlIHByb3Blcmx5IGNvbnRhaW5lZCB3aXRoaW4gYSBgPG1hdGg+YFxuICogSFRNTCBlbGVtZW50LlxuICovXG5leHBvcnQgY29uc3QgbWF0aG1sID0gdGFnKE1BVEhNTF9SRVNVTFQpO1xuXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIHRoYXQgYSB2YWx1ZSB3YXMgaGFuZGxlZCBieSBhIGRpcmVjdGl2ZSBhbmRcbiAqIHNob3VsZCBub3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxuICovXG5leHBvcnQgY29uc3Qgbm9DaGFuZ2UgPSBTeW1ib2wuZm9yKCdsaXQtbm9DaGFuZ2UnKTtcblxuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIENoaWxkUGFydCB0byBmdWxseSBjbGVhciBpdHMgY29udGVudC5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgYnV0dG9uID0gaHRtbGAke1xuICogIHVzZXIuaXNBZG1pblxuICogICAgPyBodG1sYDxidXR0b24+REVMRVRFPC9idXR0b24+YFxuICogICAgOiBub3RoaW5nXG4gKiB9YDtcbiAqIGBgYFxuICpcbiAqIFByZWZlciB1c2luZyBgbm90aGluZ2Agb3ZlciBvdGhlciBmYWxzeSB2YWx1ZXMgYXMgaXQgcHJvdmlkZXMgYSBjb25zaXN0ZW50XG4gKiBiZWhhdmlvciBiZXR3ZWVuIHZhcmlvdXMgZXhwcmVzc2lvbiBiaW5kaW5nIGNvbnRleHRzLlxuICpcbiAqIEluIGNoaWxkIGV4cHJlc3Npb25zLCBgdW5kZWZpbmVkYCwgYG51bGxgLCBgJydgLCBhbmQgYG5vdGhpbmdgIGFsbCBiZWhhdmUgdGhlXG4gKiBzYW1lIGFuZCByZW5kZXIgbm8gbm9kZXMuIEluIGF0dHJpYnV0ZSBleHByZXNzaW9ucywgYG5vdGhpbmdgIF9yZW1vdmVzXyB0aGVcbiAqIGF0dHJpYnV0ZSwgd2hpbGUgYHVuZGVmaW5lZGAgYW5kIGBudWxsYCB3aWxsIHJlbmRlciBhbiBlbXB0eSBzdHJpbmcuIEluXG4gKiBwcm9wZXJ0eSBleHByZXNzaW9ucyBgbm90aGluZ2AgYmVjb21lcyBgdW5kZWZpbmVkYC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdGhpbmcgPSBTeW1ib2wuZm9yKCdsaXQtbm90aGluZycpO1xuXG4vKipcbiAqIFRoZSBjYWNoZSBvZiBwcmVwYXJlZCB0ZW1wbGF0ZXMsIGtleWVkIGJ5IHRoZSB0YWdnZWQgVGVtcGxhdGVTdHJpbmdzQXJyYXlcbiAqIGFuZCBfbm90XyBhY2NvdW50aW5nIGZvciB0aGUgc3BlY2lmaWMgdGVtcGxhdGUgdGFnIHVzZWQuIFRoaXMgbWVhbnMgdGhhdFxuICogdGVtcGxhdGUgdGFncyBjYW5ub3QgYmUgZHluYW1pYyAtIHRoZXkgbXVzdCBzdGF0aWNhbGx5IGJlIG9uZSBvZiBodG1sLCBzdmcsXG4gKiBvciBhdHRyLiBUaGlzIHJlc3RyaWN0aW9uIHNpbXBsaWZpZXMgdGhlIGNhY2hlIGxvb2t1cCwgd2hpY2ggaXMgb24gdGhlIGhvdFxuICogcGF0aCBmb3IgcmVuZGVyaW5nLlxuICovXG5jb25zdCB0ZW1wbGF0ZUNhY2hlID0gbmV3IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIFRlbXBsYXRlPigpO1xuXG4vKipcbiAqIE9iamVjdCBzcGVjaWZ5aW5nIG9wdGlvbnMgZm9yIGNvbnRyb2xsaW5nIGxpdC1odG1sIHJlbmRlcmluZy4gTm90ZSB0aGF0XG4gKiB3aGlsZSBgcmVuZGVyYCBtYXkgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lIGBjb250YWluZXJgIChhbmRcbiAqIGByZW5kZXJCZWZvcmVgIHJlZmVyZW5jZSBub2RlKSB0byBlZmZpY2llbnRseSB1cGRhdGUgdGhlIHJlbmRlcmVkIGNvbnRlbnQsXG4gKiBvbmx5IHRoZSBvcHRpb25zIHBhc3NlZCBpbiBkdXJpbmcgdGhlIGZpcnN0IHJlbmRlciBhcmUgcmVzcGVjdGVkIGR1cmluZ1xuICogdGhlIGxpZmV0aW1lIG9mIHJlbmRlcnMgdG8gdGhhdCB1bmlxdWUgYGNvbnRhaW5lcmAgKyBgcmVuZGVyQmVmb3JlYFxuICogY29tYmluYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBBbiBvYmplY3QgdG8gdXNlIGFzIHRoZSBgdGhpc2AgdmFsdWUgZm9yIGV2ZW50IGxpc3RlbmVycy4gSXQncyBvZnRlblxuICAgKiB1c2VmdWwgdG8gc2V0IHRoaXMgdG8gdGhlIGhvc3QgY29tcG9uZW50IHJlbmRlcmluZyBhIHRlbXBsYXRlLlxuICAgKi9cbiAgaG9zdD86IG9iamVjdDtcbiAgLyoqXG4gICAqIEEgRE9NIG5vZGUgYmVmb3JlIHdoaWNoIHRvIHJlbmRlciBjb250ZW50IGluIHRoZSBjb250YWluZXIuXG4gICAqL1xuICByZW5kZXJCZWZvcmU/OiBDaGlsZE5vZGUgfCBudWxsO1xuICAvKipcbiAgICogTm9kZSB1c2VkIGZvciBjbG9uaW5nIHRoZSB0ZW1wbGF0ZSAoYGltcG9ydE5vZGVgIHdpbGwgYmUgY2FsbGVkIG9uIHRoaXNcbiAgICogbm9kZSkuIFRoaXMgY29udHJvbHMgdGhlIGBvd25lckRvY3VtZW50YCBvZiB0aGUgcmVuZGVyZWQgRE9NLCBhbG9uZyB3aXRoXG4gICAqIGFueSBpbmhlcml0ZWQgY29udGV4dC4gRGVmYXVsdHMgdG8gdGhlIGdsb2JhbCBgZG9jdW1lbnRgLlxuICAgKi9cbiAgY3JlYXRpb25TY29wZT86IHtpbXBvcnROb2RlKG5vZGU6IE5vZGUsIGRlZXA/OiBib29sZWFuKTogTm9kZX07XG4gIC8qKlxuICAgKiBUaGUgaW5pdGlhbCBjb25uZWN0ZWQgc3RhdGUgZm9yIHRoZSB0b3AtbGV2ZWwgcGFydCBiZWluZyByZW5kZXJlZC4gSWYgbm9cbiAgICogYGlzQ29ubmVjdGVkYCBvcHRpb24gaXMgc2V0LCBgQXN5bmNEaXJlY3RpdmVgcyB3aWxsIGJlIGNvbm5lY3RlZCBieVxuICAgKiBkZWZhdWx0LiBTZXQgdG8gYGZhbHNlYCBpZiB0aGUgaW5pdGlhbCByZW5kZXIgb2NjdXJzIGluIGEgZGlzY29ubmVjdGVkIHRyZWVcbiAgICogYW5kIGBBc3luY0RpcmVjdGl2ZWBzIHNob3VsZCBzZWUgYGlzQ29ubmVjdGVkID09PSBmYWxzZWAgZm9yIHRoZWlyIGluaXRpYWxcbiAgICogcmVuZGVyLiBUaGUgYHBhcnQuc2V0Q29ubmVjdGVkKClgIG1ldGhvZCBtdXN0IGJlIHVzZWQgc3Vic2VxdWVudCB0byBpbml0aWFsXG4gICAqIHJlbmRlciB0byBjaGFuZ2UgdGhlIGNvbm5lY3RlZCBzdGF0ZSBvZiB0aGUgcGFydC5cbiAgICovXG4gIGlzQ29ubmVjdGVkPzogYm9vbGVhbjtcbn1cblxuY29uc3Qgd2Fsa2VyID0gZC5jcmVhdGVUcmVlV2Fsa2VyKFxuICBkLFxuICAxMjkgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR9ICovXG4pO1xuXG5sZXQgc2FuaXRpemVyRmFjdG9yeUludGVybmFsOiBTYW5pdGl6ZXJGYWN0b3J5ID0gbm9vcFNhbml0aXplcjtcblxuLy9cbi8vIENsYXNzZXMgb25seSBiZWxvdyBoZXJlLCBjb25zdCB2YXJpYWJsZSBkZWNsYXJhdGlvbnMgb25seSBhYm92ZSBoZXJlLi4uXG4vL1xuLy8gS2VlcGluZyB2YXJpYWJsZSBkZWNsYXJhdGlvbnMgYW5kIGNsYXNzZXMgdG9nZXRoZXIgaW1wcm92ZXMgbWluaWZpY2F0aW9uLlxuLy8gSW50ZXJmYWNlcyBhbmQgdHlwZSBhbGlhc2VzIGNhbiBiZSBpbnRlcmxlYXZlZCBmcmVlbHkuXG4vL1xuXG4vLyBUeXBlIGZvciBjbGFzc2VzIHRoYXQgaGF2ZSBhIGBfZGlyZWN0aXZlYCBvciBgX2RpcmVjdGl2ZXNbXWAgZmllbGQsIHVzZWQgYnlcbi8vIGByZXNvbHZlRGlyZWN0aXZlYFxuZXhwb3J0IGludGVyZmFjZSBEaXJlY3RpdmVQYXJlbnQge1xuICBfJHBhcmVudD86IERpcmVjdGl2ZVBhcmVudDtcbiAgXyRpc0Nvbm5lY3RlZDogYm9vbGVhbjtcbiAgX19kaXJlY3RpdmU/OiBEaXJlY3RpdmU7XG4gIF9fZGlyZWN0aXZlcz86IEFycmF5PERpcmVjdGl2ZSB8IHVuZGVmaW5lZD47XG59XG5cbmZ1bmN0aW9uIHRydXN0RnJvbVRlbXBsYXRlU3RyaW5nKFxuICB0c2E6IFRlbXBsYXRlU3RyaW5nc0FycmF5LFxuICBzdHJpbmdGcm9tVFNBOiBzdHJpbmdcbik6IFRydXN0ZWRIVE1MIHtcbiAgLy8gQSBzZWN1cml0eSBjaGVjayB0byBwcmV2ZW50IHNwb29maW5nIG9mIExpdCB0ZW1wbGF0ZSByZXN1bHRzLlxuICAvLyBJbiB0aGUgZnV0dXJlLCB3ZSBtYXkgYmUgYWJsZSB0byByZXBsYWNlIHRoaXMgd2l0aCBBcnJheS5pc1RlbXBsYXRlT2JqZWN0LFxuICAvLyB0aG91Z2ggd2UgbWlnaHQgbmVlZCB0byBtYWtlIHRoYXQgY2hlY2sgaW5zaWRlIG9mIHRoZSBodG1sIGFuZCBzdmdcbiAgLy8gZnVuY3Rpb25zLCBiZWNhdXNlIHByZWNvbXBpbGVkIHRlbXBsYXRlcyBkb24ndCBjb21lIGluIGFzXG4gIC8vIFRlbXBsYXRlU3RyaW5nQXJyYXkgb2JqZWN0cy5cbiAgaWYgKCFpc0FycmF5KHRzYSkgfHwgIXRzYS5oYXNPd25Qcm9wZXJ0eSgncmF3JykpIHtcbiAgICBsZXQgbWVzc2FnZSA9ICdpbnZhbGlkIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXknO1xuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgbWVzc2FnZSA9IGBcbiAgICAgICAgICBJbnRlcm5hbCBFcnJvcjogZXhwZWN0ZWQgdGVtcGxhdGUgc3RyaW5ncyB0byBiZSBhbiBhcnJheVxuICAgICAgICAgIHdpdGggYSAncmF3JyBmaWVsZC4gRmFraW5nIGEgdGVtcGxhdGUgc3RyaW5ncyBhcnJheSBieVxuICAgICAgICAgIGNhbGxpbmcgaHRtbCBvciBzdmcgbGlrZSBhbiBvcmRpbmFyeSBmdW5jdGlvbiBpcyBlZmZlY3RpdmVseVxuICAgICAgICAgIHRoZSBzYW1lIGFzIGNhbGxpbmcgdW5zYWZlSHRtbCBhbmQgY2FuIGxlYWQgdG8gbWFqb3Igc2VjdXJpdHlcbiAgICAgICAgICBpc3N1ZXMsIGUuZy4gb3BlbmluZyB5b3VyIGNvZGUgdXAgdG8gWFNTIGF0dGFja3MuXG4gICAgICAgICAgSWYgeW91J3JlIHVzaW5nIHRoZSBodG1sIG9yIHN2ZyB0YWdnZWQgdGVtcGxhdGUgZnVuY3Rpb25zIG5vcm1hbGx5XG4gICAgICAgICAgYW5kIHN0aWxsIHNlZWluZyB0aGlzIGVycm9yLCBwbGVhc2UgZmlsZSBhIGJ1ZyBhdFxuICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9saXQvbGl0L2lzc3Vlcy9uZXc/dGVtcGxhdGU9YnVnX3JlcG9ydC5tZFxuICAgICAgICAgIGFuZCBpbmNsdWRlIGluZm9ybWF0aW9uIGFib3V0IHlvdXIgYnVpbGQgdG9vbGluZywgaWYgYW55LlxuICAgICAgICBgXG4gICAgICAgIC50cmltKClcbiAgICAgICAgLnJlcGxhY2UoL1xcbiAqL2csICdcXG4nKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG4gIHJldHVybiBwb2xpY3kgIT09IHVuZGVmaW5lZFxuICAgID8gcG9saWN5LmNyZWF0ZUhUTUwoc3RyaW5nRnJvbVRTQSlcbiAgICA6IChzdHJpbmdGcm9tVFNBIGFzIHVua25vd24gYXMgVHJ1c3RlZEhUTUwpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gSFRNTCBzdHJpbmcgZm9yIHRoZSBnaXZlbiBUZW1wbGF0ZVN0cmluZ3NBcnJheSBhbmQgcmVzdWx0IHR5cGVcbiAqIChIVE1MIG9yIFNWRyksIGFsb25nIHdpdGggdGhlIGNhc2Utc2Vuc2l0aXZlIGJvdW5kIGF0dHJpYnV0ZSBuYW1lcyBpblxuICogdGVtcGxhdGUgb3JkZXIuIFRoZSBIVE1MIGNvbnRhaW5zIGNvbW1lbnQgbWFya2VycyBkZW5vdGluZyB0aGUgYENoaWxkUGFydGBzXG4gKiBhbmQgc3VmZml4ZXMgb24gYm91bmQgYXR0cmlidXRlcyBkZW5vdGluZyB0aGUgYEF0dHJpYnV0ZVBhcnRzYC5cbiAqXG4gKiBAcGFyYW0gc3RyaW5ncyB0ZW1wbGF0ZSBzdHJpbmdzIGFycmF5XG4gKiBAcGFyYW0gdHlwZSBIVE1MIG9yIFNWR1xuICogQHJldHVybiBBcnJheSBjb250YWluaW5nIGBbaHRtbCwgYXR0ck5hbWVzXWAgKGFycmF5IHJldHVybmVkIGZvciB0ZXJzZW5lc3MsXG4gKiAgICAgdG8gYXZvaWQgb2JqZWN0IGZpZWxkcyBzaW5jZSB0aGlzIGNvZGUgaXMgc2hhcmVkIHdpdGggbm9uLW1pbmlmaWVkIFNTUlxuICogICAgIGNvZGUpXG4gKi9cbmNvbnN0IGdldFRlbXBsYXRlSHRtbCA9IChcbiAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksXG4gIHR5cGU6IFJlc3VsdFR5cGVcbik6IFtUcnVzdGVkSFRNTCwgQXJyYXk8c3RyaW5nPl0gPT4ge1xuICAvLyBJbnNlcnQgbWFrZXJzIGludG8gdGhlIHRlbXBsYXRlIEhUTUwgdG8gcmVwcmVzZW50IHRoZSBwb3NpdGlvbiBvZlxuICAvLyBiaW5kaW5ncy4gVGhlIGZvbGxvd2luZyBjb2RlIHNjYW5zIHRoZSB0ZW1wbGF0ZSBzdHJpbmdzIHRvIGRldGVybWluZSB0aGVcbiAgLy8gc3ludGFjdGljIHBvc2l0aW9uIG9mIHRoZSBiaW5kaW5ncy4gVGhleSBjYW4gYmUgaW4gdGV4dCBwb3NpdGlvbiwgd2hlcmVcbiAgLy8gd2UgaW5zZXJ0IGFuIEhUTUwgY29tbWVudCwgYXR0cmlidXRlIHZhbHVlIHBvc2l0aW9uLCB3aGVyZSB3ZSBpbnNlcnQgYVxuICAvLyBzZW50aW5lbCBzdHJpbmcgYW5kIHJlLXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZSwgb3IgaW5zaWRlIGEgdGFnIHdoZXJlXG4gIC8vIHdlIGluc2VydCB0aGUgc2VudGluZWwgc3RyaW5nLlxuICBjb25zdCBsID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAvLyBTdG9yZXMgdGhlIGNhc2Utc2Vuc2l0aXZlIGJvdW5kIGF0dHJpYnV0ZSBuYW1lcyBpbiB0aGUgb3JkZXIgb2YgdGhlaXJcbiAgLy8gcGFydHMuIEVsZW1lbnRQYXJ0cyBhcmUgYWxzbyByZWZsZWN0ZWQgaW4gdGhpcyBhcnJheSBhcyB1bmRlZmluZWRcbiAgLy8gcmF0aGVyIHRoYW4gYSBzdHJpbmcsIHRvIGRpc2FtYmlndWF0ZSBmcm9tIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAgY29uc3QgYXR0ck5hbWVzOiBBcnJheTxzdHJpbmc+ID0gW107XG4gIGxldCBodG1sID1cbiAgICB0eXBlID09PSBTVkdfUkVTVUxUID8gJzxzdmc+JyA6IHR5cGUgPT09IE1BVEhNTF9SRVNVTFQgPyAnPG1hdGg+JyA6ICcnO1xuXG4gIC8vIFdoZW4gd2UncmUgaW5zaWRlIGEgcmF3IHRleHQgdGFnIChub3QgaXQncyB0ZXh0IGNvbnRlbnQpLCB0aGUgcmVnZXhcbiAgLy8gd2lsbCBzdGlsbCBiZSB0YWdSZWdleCBzbyB3ZSBjYW4gZmluZCBhdHRyaWJ1dGVzLCBidXQgd2lsbCBzd2l0Y2ggdG9cbiAgLy8gdGhpcyByZWdleCB3aGVuIHRoZSB0YWcgZW5kcy5cbiAgbGV0IHJhd1RleHRFbmRSZWdleDogUmVnRXhwIHwgdW5kZWZpbmVkO1xuXG4gIC8vIFRoZSBjdXJyZW50IHBhcnNpbmcgc3RhdGUsIHJlcHJlc2VudGVkIGFzIGEgcmVmZXJlbmNlIHRvIG9uZSBvZiB0aGVcbiAgLy8gcmVnZXhlc1xuICBsZXQgcmVnZXggPSB0ZXh0RW5kUmVnZXg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCBzID0gc3RyaW5nc1tpXTtcbiAgICAvLyBUaGUgaW5kZXggb2YgdGhlIGVuZCBvZiB0aGUgbGFzdCBhdHRyaWJ1dGUgbmFtZS4gV2hlbiB0aGlzIGlzXG4gICAgLy8gcG9zaXRpdmUgYXQgZW5kIG9mIGEgc3RyaW5nLCBpdCBtZWFucyB3ZSdyZSBpbiBhbiBhdHRyaWJ1dGUgdmFsdWVcbiAgICAvLyBwb3NpdGlvbiBhbmQgbmVlZCB0byByZXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZS5cbiAgICAvLyBXZSBhbHNvIHVzZSBhIHNwZWNpYWwgdmFsdWUgb2YgLTIgdG8gaW5kaWNhdGUgdGhhdCB3ZSBlbmNvdW50ZXJlZFxuICAgIC8vIHRoZSBlbmQgb2YgYSBzdHJpbmcgaW4gYXR0cmlidXRlIG5hbWUgcG9zaXRpb24uXG4gICAgbGV0IGF0dHJOYW1lRW5kSW5kZXggPSAtMTtcbiAgICBsZXQgYXR0ck5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgICBsZXQgbWF0Y2ghOiBSZWdFeHBFeGVjQXJyYXkgfCBudWxsO1xuXG4gICAgLy8gVGhlIGNvbmRpdGlvbnMgaW4gdGhpcyBsb29wIGhhbmRsZSB0aGUgY3VycmVudCBwYXJzZSBzdGF0ZSwgYW5kIHRoZVxuICAgIC8vIGFzc2lnbm1lbnRzIHRvIHRoZSBgcmVnZXhgIHZhcmlhYmxlIGFyZSB0aGUgc3RhdGUgdHJhbnNpdGlvbnMuXG4gICAgd2hpbGUgKGxhc3RJbmRleCA8IHMubGVuZ3RoKSB7XG4gICAgICAvLyBNYWtlIHN1cmUgd2Ugc3RhcnQgc2VhcmNoaW5nIGZyb20gd2hlcmUgd2UgcHJldmlvdXNseSBsZWZ0IG9mZlxuICAgICAgcmVnZXgubGFzdEluZGV4ID0gbGFzdEluZGV4O1xuICAgICAgbWF0Y2ggPSByZWdleC5leGVjKHMpO1xuICAgICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbGFzdEluZGV4ID0gcmVnZXgubGFzdEluZGV4O1xuICAgICAgaWYgKHJlZ2V4ID09PSB0ZXh0RW5kUmVnZXgpIHtcbiAgICAgICAgaWYgKG1hdGNoW0NPTU1FTlRfU1RBUlRdID09PSAnIS0tJykge1xuICAgICAgICAgIHJlZ2V4ID0gY29tbWVudEVuZFJlZ2V4O1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoW0NPTU1FTlRfU1RBUlRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBXZSBzdGFydGVkIGEgd2VpcmQgY29tbWVudCwgbGlrZSA8L3tcbiAgICAgICAgICByZWdleCA9IGNvbW1lbnQyRW5kUmVnZXg7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbVEFHX05BTUVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAocmF3VGV4dEVsZW1lbnQudGVzdChtYXRjaFtUQUdfTkFNRV0pKSB7XG4gICAgICAgICAgICAvLyBSZWNvcmQgaWYgd2UgZW5jb3VudGVyIGEgcmF3LXRleHQgZWxlbWVudC4gV2UnbGwgc3dpdGNoIHRvXG4gICAgICAgICAgICAvLyB0aGlzIHJlZ2V4IGF0IHRoZSBlbmQgb2YgdGhlIHRhZy5cbiAgICAgICAgICAgIHJhd1RleHRFbmRSZWdleCA9IG5ldyBSZWdFeHAoYDwvJHttYXRjaFtUQUdfTkFNRV19YCwgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaFtEWU5BTUlDX1RBR19OQU1FXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICdCaW5kaW5ncyBpbiB0YWcgbmFtZXMgYXJlIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSB1c2Ugc3RhdGljIHRlbXBsYXRlcyBpbnN0ZWFkLiAnICtcbiAgICAgICAgICAgICAgICAnU2VlIGh0dHBzOi8vbGl0LmRldi9kb2NzL3RlbXBsYXRlcy9leHByZXNzaW9ucy8jc3RhdGljLWV4cHJlc3Npb25zJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChyZWdleCA9PT0gdGFnRW5kUmVnZXgpIHtcbiAgICAgICAgaWYgKG1hdGNoW0VOVElSRV9NQVRDSF0gPT09ICc+Jykge1xuICAgICAgICAgIC8vIEVuZCBvZiBhIHRhZy4gSWYgd2UgaGFkIHN0YXJ0ZWQgYSByYXctdGV4dCBlbGVtZW50LCB1c2UgdGhhdFxuICAgICAgICAgIC8vIHJlZ2V4XG4gICAgICAgICAgcmVnZXggPSByYXdUZXh0RW5kUmVnZXggPz8gdGV4dEVuZFJlZ2V4O1xuICAgICAgICAgIC8vIFdlIG1heSBiZSBlbmRpbmcgYW4gdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLCBzbyBtYWtlIHN1cmUgd2VcbiAgICAgICAgICAvLyBjbGVhciBhbnkgcGVuZGluZyBhdHRyTmFtZUVuZEluZGV4XG4gICAgICAgICAgYXR0ck5hbWVFbmRJbmRleCA9IC0xO1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoW0FUVFJJQlVURV9OQU1FXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gQXR0cmlidXRlIG5hbWUgcG9zaXRpb25cbiAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gLTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXR0ck5hbWVFbmRJbmRleCA9IHJlZ2V4Lmxhc3RJbmRleCAtIG1hdGNoW1NQQUNFU19BTkRfRVFVQUxTXS5sZW5ndGg7XG4gICAgICAgICAgYXR0ck5hbWUgPSBtYXRjaFtBVFRSSUJVVEVfTkFNRV07XG4gICAgICAgICAgcmVnZXggPVxuICAgICAgICAgICAgbWF0Y2hbUVVPVEVfQ0hBUl0gPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IHRhZ0VuZFJlZ2V4XG4gICAgICAgICAgICAgIDogbWF0Y2hbUVVPVEVfQ0hBUl0gPT09ICdcIidcbiAgICAgICAgICAgICAgICA/IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4XG4gICAgICAgICAgICAgICAgOiBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgcmVnZXggPT09IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4IHx8XG4gICAgICAgIHJlZ2V4ID09PSBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleFxuICAgICAgKSB7XG4gICAgICAgIHJlZ2V4ID0gdGFnRW5kUmVnZXg7XG4gICAgICB9IGVsc2UgaWYgKHJlZ2V4ID09PSBjb21tZW50RW5kUmVnZXggfHwgcmVnZXggPT09IGNvbW1lbnQyRW5kUmVnZXgpIHtcbiAgICAgICAgcmVnZXggPSB0ZXh0RW5kUmVnZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOb3Qgb25lIG9mIHRoZSBmaXZlIHN0YXRlIHJlZ2V4ZXMsIHNvIGl0IG11c3QgYmUgdGhlIGR5bmFtaWNhbGx5XG4gICAgICAgIC8vIGNyZWF0ZWQgcmF3IHRleHQgcmVnZXggYW5kIHdlJ3JlIGF0IHRoZSBjbG9zZSBvZiB0aGF0IGVsZW1lbnQuXG4gICAgICAgIHJlZ2V4ID0gdGFnRW5kUmVnZXg7XG4gICAgICAgIHJhd1RleHRFbmRSZWdleCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIC8vIElmIHdlIGhhdmUgYSBhdHRyTmFtZUVuZEluZGV4LCB3aGljaCBpbmRpY2F0ZXMgdGhhdCB3ZSBzaG91bGRcbiAgICAgIC8vIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lLCBhc3NlcnQgdGhhdCB3ZSdyZSBpbiBhIHZhbGlkIGF0dHJpYnV0ZVxuICAgICAgLy8gcG9zaXRpb24gLSBlaXRoZXIgaW4gYSB0YWcsIG9yIGEgcXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgIGNvbnNvbGUuYXNzZXJ0KFxuICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID09PSAtMSB8fFxuICAgICAgICAgIHJlZ2V4ID09PSB0YWdFbmRSZWdleCB8fFxuICAgICAgICAgIHJlZ2V4ID09PSBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleCB8fFxuICAgICAgICAgIHJlZ2V4ID09PSBkb3VibGVRdW90ZUF0dHJFbmRSZWdleCxcbiAgICAgICAgJ3VuZXhwZWN0ZWQgcGFyc2Ugc3RhdGUgQidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gV2UgaGF2ZSBmb3VyIGNhc2VzOlxuICAgIC8vICAxLiBXZSdyZSBpbiB0ZXh0IHBvc2l0aW9uLCBhbmQgbm90IGluIGEgcmF3IHRleHQgZWxlbWVudFxuICAgIC8vICAgICAocmVnZXggPT09IHRleHRFbmRSZWdleCk6IGluc2VydCBhIGNvbW1lbnQgbWFya2VyLlxuICAgIC8vICAyLiBXZSBoYXZlIGEgbm9uLW5lZ2F0aXZlIGF0dHJOYW1lRW5kSW5kZXggd2hpY2ggbWVhbnMgd2UgbmVlZCB0b1xuICAgIC8vICAgICByZXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZSB0byBhZGQgYSBib3VuZCBhdHRyaWJ1dGUgc3VmZml4LlxuICAgIC8vICAzLiBXZSdyZSBhdCB0aGUgbm9uLWZpcnN0IGJpbmRpbmcgaW4gYSBtdWx0aS1iaW5kaW5nIGF0dHJpYnV0ZSwgdXNlIGFcbiAgICAvLyAgICAgcGxhaW4gbWFya2VyLlxuICAgIC8vICA0LiBXZSdyZSBzb21ld2hlcmUgZWxzZSBpbnNpZGUgdGhlIHRhZy4gSWYgd2UncmUgaW4gYXR0cmlidXRlIG5hbWVcbiAgICAvLyAgICAgcG9zaXRpb24gKGF0dHJOYW1lRW5kSW5kZXggPT09IC0yKSwgYWRkIGEgc2VxdWVudGlhbCBzdWZmaXggdG9cbiAgICAvLyAgICAgZ2VuZXJhdGUgYSB1bmlxdWUgYXR0cmlidXRlIG5hbWUuXG5cbiAgICAvLyBEZXRlY3QgYSBiaW5kaW5nIG5leHQgdG8gc2VsZi1jbG9zaW5nIHRhZyBlbmQgYW5kIGluc2VydCBhIHNwYWNlIHRvXG4gICAgLy8gc2VwYXJhdGUgdGhlIG1hcmtlciBmcm9tIHRoZSB0YWcgZW5kOlxuICAgIGNvbnN0IGVuZCA9XG4gICAgICByZWdleCA9PT0gdGFnRW5kUmVnZXggJiYgc3RyaW5nc1tpICsgMV0uc3RhcnRzV2l0aCgnLz4nKSA/ICcgJyA6ICcnO1xuICAgIGh0bWwgKz1cbiAgICAgIHJlZ2V4ID09PSB0ZXh0RW5kUmVnZXhcbiAgICAgICAgPyBzICsgbm9kZU1hcmtlclxuICAgICAgICA6IGF0dHJOYW1lRW5kSW5kZXggPj0gMFxuICAgICAgICAgID8gKGF0dHJOYW1lcy5wdXNoKGF0dHJOYW1lISksXG4gICAgICAgICAgICBzLnNsaWNlKDAsIGF0dHJOYW1lRW5kSW5kZXgpICtcbiAgICAgICAgICAgICAgYm91bmRBdHRyaWJ1dGVTdWZmaXggK1xuICAgICAgICAgICAgICBzLnNsaWNlKGF0dHJOYW1lRW5kSW5kZXgpKSArXG4gICAgICAgICAgICBtYXJrZXIgK1xuICAgICAgICAgICAgZW5kXG4gICAgICAgICAgOiBzICsgbWFya2VyICsgKGF0dHJOYW1lRW5kSW5kZXggPT09IC0yID8gaSA6IGVuZCk7XG4gIH1cblxuICBjb25zdCBodG1sUmVzdWx0OiBzdHJpbmcgfCBUcnVzdGVkSFRNTCA9XG4gICAgaHRtbCArXG4gICAgKHN0cmluZ3NbbF0gfHwgJzw/PicpICtcbiAgICAodHlwZSA9PT0gU1ZHX1JFU1VMVCA/ICc8L3N2Zz4nIDogdHlwZSA9PT0gTUFUSE1MX1JFU1VMVCA/ICc8L21hdGg+JyA6ICcnKTtcblxuICAvLyBSZXR1cm5lZCBhcyBhbiBhcnJheSBmb3IgdGVyc2VuZXNzXG4gIHJldHVybiBbdHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmcoc3RyaW5ncywgaHRtbFJlc3VsdCksIGF0dHJOYW1lc107XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgdHlwZSB7VGVtcGxhdGV9O1xuY2xhc3MgVGVtcGxhdGUge1xuICAvKiogQGludGVybmFsICovXG4gIGVsITogSFRNTFRlbXBsYXRlRWxlbWVudDtcblxuICBwYXJ0czogQXJyYXk8VGVtcGxhdGVQYXJ0PiA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAge3N0cmluZ3MsIFsnXyRsaXRUeXBlJCddOiB0eXBlfTogVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0LFxuICAgIG9wdGlvbnM/OiBSZW5kZXJPcHRpb25zXG4gICkge1xuICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbDtcbiAgICBsZXQgbm9kZUluZGV4ID0gMDtcbiAgICBsZXQgYXR0ck5hbWVJbmRleCA9IDA7XG4gICAgY29uc3QgcGFydENvdW50ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgIGNvbnN0IHBhcnRzID0gdGhpcy5wYXJ0cztcblxuICAgIC8vIENyZWF0ZSB0ZW1wbGF0ZSBlbGVtZW50XG4gICAgY29uc3QgW2h0bWwsIGF0dHJOYW1lc10gPSBnZXRUZW1wbGF0ZUh0bWwoc3RyaW5ncywgdHlwZSk7XG4gICAgdGhpcy5lbCA9IFRlbXBsYXRlLmNyZWF0ZUVsZW1lbnQoaHRtbCwgb3B0aW9ucyk7XG4gICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gdGhpcy5lbC5jb250ZW50O1xuXG4gICAgLy8gUmUtcGFyZW50IFNWRyBvciBNYXRoTUwgbm9kZXMgaW50byB0ZW1wbGF0ZSByb290XG4gICAgaWYgKHR5cGUgPT09IFNWR19SRVNVTFQgfHwgdHlwZSA9PT0gTUFUSE1MX1JFU1VMVCkge1xuICAgICAgY29uc3Qgd3JhcHBlciA9IHRoaXMuZWwuY29udGVudC5maXJzdENoaWxkITtcbiAgICAgIHdyYXBwZXIucmVwbGFjZVdpdGgoLi4ud3JhcHBlci5jaGlsZE5vZGVzKTtcbiAgICB9XG5cbiAgICAvLyBXYWxrIHRoZSB0ZW1wbGF0ZSB0byBmaW5kIGJpbmRpbmcgbWFya2VycyBhbmQgY3JlYXRlIFRlbXBsYXRlUGFydHNcbiAgICB3aGlsZSAoKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkgIT09IG51bGwgJiYgcGFydHMubGVuZ3RoIDwgcGFydENvdW50KSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICBjb25zdCB0YWcgPSAobm9kZSBhcyBFbGVtZW50KS5sb2NhbE5hbWU7XG4gICAgICAgICAgLy8gV2FybiBpZiBgdGV4dGFyZWFgIGluY2x1ZGVzIGFuIGV4cHJlc3Npb24gYW5kIHRocm93IGlmIGB0ZW1wbGF0ZWBcbiAgICAgICAgICAvLyBkb2VzIHNpbmNlIHRoZXNlIGFyZSBub3Qgc3VwcG9ydGVkLiBXZSBkbyB0aGlzIGJ5IGNoZWNraW5nXG4gICAgICAgICAgLy8gaW5uZXJIVE1MIGZvciBhbnl0aGluZyB0aGF0IGxvb2tzIGxpa2UgYSBtYXJrZXIuIFRoaXMgY2F0Y2hlc1xuICAgICAgICAgIC8vIGNhc2VzIGxpa2UgYmluZGluZ3MgaW4gdGV4dGFyZWEgdGhlcmUgbWFya2VycyB0dXJuIGludG8gdGV4dCBub2Rlcy5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAvXig/OnRleHRhcmVhfHRlbXBsYXRlKSQvaSEudGVzdCh0YWcpICYmXG4gICAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5pbm5lckhUTUwuaW5jbHVkZXMobWFya2VyKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgbSA9XG4gICAgICAgICAgICAgIGBFeHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCBpbnNpZGUgXFxgJHt0YWd9XFxgIGAgK1xuICAgICAgICAgICAgICBgZWxlbWVudHMuIFNlZSBodHRwczovL2xpdC5kZXYvbXNnL2V4cHJlc3Npb24taW4tJHt0YWd9IGZvciBtb3JlIGAgK1xuICAgICAgICAgICAgICBgaW5mb3JtYXRpb24uYDtcbiAgICAgICAgICAgIGlmICh0YWcgPT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG0pO1xuICAgICAgICAgICAgfSBlbHNlIGlzc3VlV2FybmluZygnJywgbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBmb3IgYXR0ZW1wdGVkIGR5bmFtaWMgdGFnIG5hbWVzLCB3ZSBkb24ndFxuICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIGJpbmRpbmdJbmRleCwgYW5kIGl0J2xsIGJlIG9mZiBieSAxIGluIHRoZSBlbGVtZW50XG4gICAgICAgIC8vIGFuZCBvZmYgYnkgdHdvIGFmdGVyIGl0LlxuICAgICAgICBpZiAoKG5vZGUgYXMgRWxlbWVudCkuaGFzQXR0cmlidXRlcygpKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZU5hbWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChuYW1lLmVuZHNXaXRoKGJvdW5kQXR0cmlidXRlU3VmZml4KSkge1xuICAgICAgICAgICAgICBjb25zdCByZWFsTmFtZSA9IGF0dHJOYW1lc1thdHRyTmFtZUluZGV4KytdO1xuICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZShuYW1lKSE7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXRpY3MgPSB2YWx1ZS5zcGxpdChtYXJrZXIpO1xuICAgICAgICAgICAgICBjb25zdCBtID0gLyhbLj9AXSk/KC4qKS8uZXhlYyhyZWFsTmFtZSkhO1xuICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBBVFRSSUJVVEVfUEFSVCxcbiAgICAgICAgICAgICAgICBpbmRleDogbm9kZUluZGV4LFxuICAgICAgICAgICAgICAgIG5hbWU6IG1bMl0sXG4gICAgICAgICAgICAgICAgc3RyaW5nczogc3RhdGljcyxcbiAgICAgICAgICAgICAgICBjdG9yOlxuICAgICAgICAgICAgICAgICAgbVsxXSA9PT0gJy4nXG4gICAgICAgICAgICAgICAgICAgID8gUHJvcGVydHlQYXJ0XG4gICAgICAgICAgICAgICAgICAgIDogbVsxXSA9PT0gJz8nXG4gICAgICAgICAgICAgICAgICAgICAgPyBCb29sZWFuQXR0cmlidXRlUGFydFxuICAgICAgICAgICAgICAgICAgICAgIDogbVsxXSA9PT0gJ0AnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IEV2ZW50UGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBBdHRyaWJ1dGVQYXJ0LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lLnN0YXJ0c1dpdGgobWFya2VyKSkge1xuICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFTEVNRU5UX1BBUlQsXG4gICAgICAgICAgICAgICAgaW5kZXg6IG5vZGVJbmRleCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGJlbmNobWFyayB0aGUgcmVnZXggYWdhaW5zdCB0ZXN0aW5nIGZvciBlYWNoXG4gICAgICAgIC8vIG9mIHRoZSAzIHJhdyB0ZXh0IGVsZW1lbnQgbmFtZXMuXG4gICAgICAgIGlmIChyYXdUZXh0RWxlbWVudC50ZXN0KChub2RlIGFzIEVsZW1lbnQpLnRhZ05hbWUpKSB7XG4gICAgICAgICAgLy8gRm9yIHJhdyB0ZXh0IGVsZW1lbnRzIHdlIG5lZWQgdG8gc3BsaXQgdGhlIHRleHQgY29udGVudCBvblxuICAgICAgICAgIC8vIG1hcmtlcnMsIGNyZWF0ZSBhIFRleHQgbm9kZSBmb3IgZWFjaCBzZWdtZW50LCBhbmQgY3JlYXRlXG4gICAgICAgICAgLy8gYSBUZW1wbGF0ZVBhcnQgZm9yIGVhY2ggbWFya2VyLlxuICAgICAgICAgIGNvbnN0IHN0cmluZ3MgPSAobm9kZSBhcyBFbGVtZW50KS50ZXh0Q29udGVudCEuc3BsaXQobWFya2VyKTtcbiAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgaWYgKGxhc3RJbmRleCA+IDApIHtcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLnRleHRDb250ZW50ID0gdHJ1c3RlZFR5cGVzXG4gICAgICAgICAgICAgID8gKHRydXN0ZWRUeXBlcy5lbXB0eVNjcmlwdCBhcyB1bmtub3duIGFzICcnKVxuICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdGV4dCBub2RlIGZvciBlYWNoIGxpdGVyYWwgc2VjdGlvblxuICAgICAgICAgICAgLy8gVGhlc2Ugbm9kZXMgYXJlIGFsc28gdXNlZCBhcyB0aGUgbWFya2VycyBmb3IgY2hpbGQgcGFydHNcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkuYXBwZW5kKHN0cmluZ3NbaV0sIGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgICAgICAgLy8gV2FsayBwYXN0IHRoZSBtYXJrZXIgbm9kZSB3ZSBqdXN0IGFkZGVkXG4gICAgICAgICAgICAgIHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHt0eXBlOiBDSElMRF9QQVJULCBpbmRleDogKytub2RlSW5kZXh9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vdGUgYmVjYXVzZSB0aGlzIG1hcmtlciBpcyBhZGRlZCBhZnRlciB0aGUgd2Fsa2VyJ3MgY3VycmVudFxuICAgICAgICAgICAgLy8gbm9kZSwgaXQgd2lsbCBiZSB3YWxrZWQgdG8gaW4gdGhlIG91dGVyIGxvb3AgKGFuZCBpZ25vcmVkKSwgc29cbiAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gYWRqdXN0IG5vZGVJbmRleCBoZXJlXG4gICAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5hcHBlbmQoc3RyaW5nc1tsYXN0SW5kZXhdLCBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IChub2RlIGFzIENvbW1lbnQpLmRhdGE7XG4gICAgICAgIGlmIChkYXRhID09PSBtYXJrZXJNYXRjaCkge1xuICAgICAgICAgIHBhcnRzLnB1c2goe3R5cGU6IENISUxEX1BBUlQsIGluZGV4OiBub2RlSW5kZXh9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgIHdoaWxlICgoaSA9IChub2RlIGFzIENvbW1lbnQpLmRhdGEuaW5kZXhPZihtYXJrZXIsIGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBDb21tZW50IG5vZGUgaGFzIGEgYmluZGluZyBtYXJrZXIgaW5zaWRlLCBtYWtlIGFuIGluYWN0aXZlIHBhcnRcbiAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgIHBhcnRzLnB1c2goe3R5cGU6IENPTU1FTlRfUEFSVCwgaW5kZXg6IG5vZGVJbmRleH0pO1xuICAgICAgICAgICAgLy8gTW92ZSB0byB0aGUgZW5kIG9mIHRoZSBtYXRjaFxuICAgICAgICAgICAgaSArPSBtYXJrZXIubGVuZ3RoIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGVJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgLy8gSWYgdGhlcmUgd2FzIGEgZHVwbGljYXRlIGF0dHJpYnV0ZSBvbiBhIHRhZywgdGhlbiB3aGVuIHRoZSB0YWcgaXNcbiAgICAgIC8vIHBhcnNlZCBpbnRvIGFuIGVsZW1lbnQgdGhlIGF0dHJpYnV0ZSBnZXRzIGRlLWR1cGxpY2F0ZWQuIFdlIGNhbiBkZXRlY3RcbiAgICAgIC8vIHRoaXMgbWlzbWF0Y2ggaWYgd2UgaGF2ZW4ndCBwcmVjaXNlbHkgY29uc3VtZWQgZXZlcnkgYXR0cmlidXRlIG5hbWVcbiAgICAgIC8vIHdoZW4gcHJlcGFyaW5nIHRoZSB0ZW1wbGF0ZS4gVGhpcyB3b3JrcyBiZWNhdXNlIGBhdHRyTmFtZXNgIGlzIGJ1aWx0XG4gICAgICAvLyBmcm9tIHRoZSB0ZW1wbGF0ZSBzdHJpbmcgYW5kIGBhdHRyTmFtZUluZGV4YCBjb21lcyBmcm9tIHByb2Nlc3NpbmcgdGhlXG4gICAgICAvLyByZXN1bHRpbmcgRE9NLlxuICAgICAgaWYgKGF0dHJOYW1lcy5sZW5ndGggIT09IGF0dHJOYW1lSW5kZXgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBEZXRlY3RlZCBkdXBsaWNhdGUgYXR0cmlidXRlIGJpbmRpbmdzLiBUaGlzIG9jY3VycyBpZiB5b3VyIHRlbXBsYXRlIGAgK1xuICAgICAgICAgICAgYGhhcyBkdXBsaWNhdGUgYXR0cmlidXRlcyBvbiBhbiBlbGVtZW50IHRhZy4gRm9yIGV4YW1wbGUgYCArXG4gICAgICAgICAgICBgXCI8aW5wdXQgP2Rpc2FibGVkPVxcJHt0cnVlfSA/ZGlzYWJsZWQ9XFwke2ZhbHNlfT5cIiBjb250YWlucyBhIGAgK1xuICAgICAgICAgICAgYGR1cGxpY2F0ZSBcImRpc2FibGVkXCIgYXR0cmlidXRlLiBUaGUgZXJyb3Igd2FzIGRldGVjdGVkIGluIGAgK1xuICAgICAgICAgICAgYHRoZSBmb2xsb3dpbmcgdGVtcGxhdGU6IFxcbmAgK1xuICAgICAgICAgICAgJ2AnICtcbiAgICAgICAgICAgIHN0cmluZ3Muam9pbignJHsuLi59JykgK1xuICAgICAgICAgICAgJ2AnXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2UgY291bGQgc2V0IHdhbGtlci5jdXJyZW50Tm9kZSB0byBhbm90aGVyIG5vZGUgaGVyZSB0byBwcmV2ZW50IGEgbWVtb3J5XG4gICAgLy8gbGVhaywgYnV0IGV2ZXJ5IHRpbWUgd2UgcHJlcGFyZSBhIHRlbXBsYXRlLCB3ZSBpbW1lZGlhdGVseSByZW5kZXIgaXRcbiAgICAvLyBhbmQgcmUtdXNlIHRoZSB3YWxrZXIgaW4gbmV3IFRlbXBsYXRlSW5zdGFuY2UuX2Nsb25lKCkuXG4gICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBwcmVwJyxcbiAgICAgICAgdGVtcGxhdGU6IHRoaXMsXG4gICAgICAgIGNsb25hYmxlVGVtcGxhdGU6IHRoaXMuZWwsXG4gICAgICAgIHBhcnRzOiB0aGlzLnBhcnRzLFxuICAgICAgICBzdHJpbmdzLFxuICAgICAgfSk7XG4gIH1cblxuICAvLyBPdmVycmlkZGVuIHZpYSBgbGl0SHRtbFBvbHlmaWxsU3VwcG9ydGAgdG8gcHJvdmlkZSBwbGF0Zm9ybSBzdXBwb3J0LlxuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgc3RhdGljIGNyZWF0ZUVsZW1lbnQoaHRtbDogVHJ1c3RlZEhUTUwsIF9vcHRpb25zPzogUmVuZGVyT3B0aW9ucykge1xuICAgIGNvbnN0IGVsID0gZC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIGVsLmlubmVySFRNTCA9IGh0bWwgYXMgdW5rbm93biBhcyBzdHJpbmc7XG4gICAgcmV0dXJuIGVsO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlzY29ubmVjdGFibGUge1xuICBfJHBhcmVudD86IERpc2Nvbm5lY3RhYmxlO1xuICBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4/OiBTZXQ8RGlzY29ubmVjdGFibGU+O1xuICAvLyBSYXRoZXIgdGhhbiBob2xkIGNvbm5lY3Rpb24gc3RhdGUgb24gaW5zdGFuY2VzLCBEaXNjb25uZWN0YWJsZXMgcmVjdXJzaXZlbHlcbiAgLy8gZmV0Y2ggdGhlIGNvbm5lY3Rpb24gc3RhdGUgZnJvbSB0aGUgUm9vdFBhcnQgdGhleSBhcmUgY29ubmVjdGVkIGluIHZpYVxuICAvLyBnZXR0ZXJzIHVwIHRoZSBEaXNjb25uZWN0YWJsZSB0cmVlIHZpYSBfJHBhcmVudCByZWZlcmVuY2VzLiBUaGlzIHB1c2hlcyB0aGVcbiAgLy8gY29zdCBvZiB0cmFja2luZyB0aGUgaXNDb25uZWN0ZWQgc3RhdGUgdG8gYEFzeW5jRGlyZWN0aXZlc2AsIGFuZCBhdm9pZHNcbiAgLy8gbmVlZGluZyB0byBwYXNzIGFsbCBEaXNjb25uZWN0YWJsZXMgKHBhcnRzLCB0ZW1wbGF0ZSBpbnN0YW5jZXMsIGFuZFxuICAvLyBkaXJlY3RpdmVzKSB0aGVpciBjb25uZWN0aW9uIHN0YXRlIGVhY2ggdGltZSBpdCBjaGFuZ2VzLCB3aGljaCB3b3VsZCBiZVxuICAvLyBjb3N0bHkgZm9yIHRyZWVzIHRoYXQgaGF2ZSBubyBBc3luY0RpcmVjdGl2ZXMuXG4gIF8kaXNDb25uZWN0ZWQ6IGJvb2xlYW47XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmUoXG4gIHBhcnQ6IENoaWxkUGFydCB8IEF0dHJpYnV0ZVBhcnQgfCBFbGVtZW50UGFydCxcbiAgdmFsdWU6IHVua25vd24sXG4gIHBhcmVudDogRGlyZWN0aXZlUGFyZW50ID0gcGFydCxcbiAgYXR0cmlidXRlSW5kZXg/OiBudW1iZXJcbik6IHVua25vd24ge1xuICAvLyBCYWlsIGVhcmx5IGlmIHRoZSB2YWx1ZSBpcyBleHBsaWNpdGx5IG5vQ2hhbmdlLiBOb3RlLCB0aGlzIG1lYW5zIGFueVxuICAvLyBuZXN0ZWQgZGlyZWN0aXZlIGlzIHN0aWxsIGF0dGFjaGVkIGFuZCBpcyBub3QgcnVuLlxuICBpZiAodmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGxldCBjdXJyZW50RGlyZWN0aXZlID1cbiAgICBhdHRyaWJ1dGVJbmRleCAhPT0gdW5kZWZpbmVkXG4gICAgICA/IChwYXJlbnQgYXMgQXR0cmlidXRlUGFydCkuX19kaXJlY3RpdmVzPy5bYXR0cmlidXRlSW5kZXhdXG4gICAgICA6IChwYXJlbnQgYXMgQ2hpbGRQYXJ0IHwgRWxlbWVudFBhcnQgfCBEaXJlY3RpdmUpLl9fZGlyZWN0aXZlO1xuICBjb25zdCBuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IgPSBpc1ByaW1pdGl2ZSh2YWx1ZSlcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAgICh2YWx1ZSBhcyBEaXJlY3RpdmVSZXN1bHQpWydfJGxpdERpcmVjdGl2ZSQnXTtcbiAgaWYgKGN1cnJlbnREaXJlY3RpdmU/LmNvbnN0cnVjdG9yICE9PSBuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IpIHtcbiAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgIGN1cnJlbnREaXJlY3RpdmU/LlsnXyRub3RpZnlEaXJlY3RpdmVDb25uZWN0aW9uQ2hhbmdlZCddPy4oZmFsc2UpO1xuICAgIGlmIChuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY3VycmVudERpcmVjdGl2ZSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudERpcmVjdGl2ZSA9IG5ldyBuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IocGFydCBhcyBQYXJ0SW5mbyk7XG4gICAgICBjdXJyZW50RGlyZWN0aXZlLl8kaW5pdGlhbGl6ZShwYXJ0LCBwYXJlbnQsIGF0dHJpYnV0ZUluZGV4KTtcbiAgICB9XG4gICAgaWYgKGF0dHJpYnV0ZUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICgocGFyZW50IGFzIEF0dHJpYnV0ZVBhcnQpLl9fZGlyZWN0aXZlcyA/Pz0gW10pW2F0dHJpYnV0ZUluZGV4XSA9XG4gICAgICAgIGN1cnJlbnREaXJlY3RpdmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIChwYXJlbnQgYXMgQ2hpbGRQYXJ0IHwgRGlyZWN0aXZlKS5fX2RpcmVjdGl2ZSA9IGN1cnJlbnREaXJlY3RpdmU7XG4gICAgfVxuICB9XG4gIGlmIChjdXJyZW50RGlyZWN0aXZlICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUoXG4gICAgICBwYXJ0LFxuICAgICAgY3VycmVudERpcmVjdGl2ZS5fJHJlc29sdmUocGFydCwgKHZhbHVlIGFzIERpcmVjdGl2ZVJlc3VsdCkudmFsdWVzKSxcbiAgICAgIGN1cnJlbnREaXJlY3RpdmUsXG4gICAgICBhdHRyaWJ1dGVJbmRleFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgdHlwZSB7VGVtcGxhdGVJbnN0YW5jZX07XG4vKipcbiAqIEFuIHVwZGF0ZWFibGUgaW5zdGFuY2Ugb2YgYSBUZW1wbGF0ZS4gSG9sZHMgcmVmZXJlbmNlcyB0byB0aGUgUGFydHMgdXNlZCB0b1xuICogdXBkYXRlIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZS5cbiAqL1xuY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSBpbXBsZW1lbnRzIERpc2Nvbm5lY3RhYmxlIHtcbiAgXyR0ZW1wbGF0ZTogVGVtcGxhdGU7XG4gIF8kcGFydHM6IEFycmF5PFBhcnQgfCB1bmRlZmluZWQ+ID0gW107XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJHBhcmVudDogQ2hpbGRQYXJ0O1xuICAvKiogQGludGVybmFsICovXG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT4gPSB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IodGVtcGxhdGU6IFRlbXBsYXRlLCBwYXJlbnQ6IENoaWxkUGFydCkge1xuICAgIHRoaXMuXyR0ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gIH1cblxuICAvLyBDYWxsZWQgYnkgQ2hpbGRQYXJ0IHBhcmVudE5vZGUgZ2V0dGVyXG4gIGdldCBwYXJlbnROb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl8kcGFyZW50LnBhcmVudE5vZGU7XG4gIH1cblxuICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl8kcGFyZW50Ll8kaXNDb25uZWN0ZWQ7XG4gIH1cblxuICAvLyBUaGlzIG1ldGhvZCBpcyBzZXBhcmF0ZSBmcm9tIHRoZSBjb25zdHJ1Y3RvciBiZWNhdXNlIHdlIG5lZWQgdG8gcmV0dXJuIGFcbiAgLy8gRG9jdW1lbnRGcmFnbWVudCBhbmQgd2UgZG9uJ3Qgd2FudCB0byBob2xkIG9udG8gaXQgd2l0aCBhbiBpbnN0YW5jZSBmaWVsZC5cbiAgX2Nsb25lKG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQpIHtcbiAgICBjb25zdCB7XG4gICAgICBlbDoge2NvbnRlbnR9LFxuICAgICAgcGFydHM6IHBhcnRzLFxuICAgIH0gPSB0aGlzLl8kdGVtcGxhdGU7XG4gICAgY29uc3QgZnJhZ21lbnQgPSAob3B0aW9ucz8uY3JlYXRpb25TY29wZSA/PyBkKS5pbXBvcnROb2RlKGNvbnRlbnQsIHRydWUpO1xuICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IGZyYWdtZW50O1xuXG4gICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSE7XG4gICAgbGV0IG5vZGVJbmRleCA9IDA7XG4gICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgbGV0IHRlbXBsYXRlUGFydCA9IHBhcnRzWzBdO1xuXG4gICAgd2hpbGUgKHRlbXBsYXRlUGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAobm9kZUluZGV4ID09PSB0ZW1wbGF0ZVBhcnQuaW5kZXgpIHtcbiAgICAgICAgbGV0IHBhcnQ6IFBhcnQgfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0ZW1wbGF0ZVBhcnQudHlwZSA9PT0gQ0hJTERfUEFSVCkge1xuICAgICAgICAgIHBhcnQgPSBuZXcgQ2hpbGRQYXJ0KFxuICAgICAgICAgICAgbm9kZSBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgIG5vZGUubmV4dFNpYmxpbmcsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEFUVFJJQlVURV9QQVJUKSB7XG4gICAgICAgICAgcGFydCA9IG5ldyB0ZW1wbGF0ZVBhcnQuY3RvcihcbiAgICAgICAgICAgIG5vZGUgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgICB0ZW1wbGF0ZVBhcnQubmFtZSxcbiAgICAgICAgICAgIHRlbXBsYXRlUGFydC5zdHJpbmdzLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHRlbXBsYXRlUGFydC50eXBlID09PSBFTEVNRU5UX1BBUlQpIHtcbiAgICAgICAgICBwYXJ0ID0gbmV3IEVsZW1lbnRQYXJ0KG5vZGUgYXMgSFRNTEVsZW1lbnQsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuXyRwYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICB0ZW1wbGF0ZVBhcnQgPSBwYXJ0c1srK3BhcnRJbmRleF07XG4gICAgICB9XG4gICAgICBpZiAobm9kZUluZGV4ICE9PSB0ZW1wbGF0ZVBhcnQ/LmluZGV4KSB7XG4gICAgICAgIG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSE7XG4gICAgICAgIG5vZGVJbmRleCsrO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBXZSBuZWVkIHRvIHNldCB0aGUgY3VycmVudE5vZGUgYXdheSBmcm9tIHRoZSBjbG9uZWQgdHJlZSBzbyB0aGF0IHdlXG4gICAgLy8gZG9uJ3QgaG9sZCBvbnRvIHRoZSB0cmVlIGV2ZW4gaWYgdGhlIHRyZWUgaXMgZGV0YWNoZWQgYW5kIHNob3VsZCBiZVxuICAgIC8vIGZyZWVkLlxuICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IGQ7XG4gICAgcmV0dXJuIGZyYWdtZW50O1xuICB9XG5cbiAgX3VwZGF0ZSh2YWx1ZXM6IEFycmF5PHVua25vd24+KSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl8kcGFydHMpIHtcbiAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAga2luZDogJ3NldCBwYXJ0JyxcbiAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVzW2ldLFxuICAgICAgICAgICAgdmFsdWVJbmRleDogaSxcbiAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgIHRlbXBsYXRlSW5zdGFuY2U6IHRoaXMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIGlmICgocGFydCBhcyBBdHRyaWJ1dGVQYXJ0KS5zdHJpbmdzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAocGFydCBhcyBBdHRyaWJ1dGVQYXJ0KS5fJHNldFZhbHVlKHZhbHVlcywgcGFydCBhcyBBdHRyaWJ1dGVQYXJ0LCBpKTtcbiAgICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIHZhbHVlcyB0aGUgcGFydCBjb25zdW1lcyBpcyBwYXJ0LnN0cmluZ3MubGVuZ3RoIC0gMVxuICAgICAgICAgIC8vIHNpbmNlIHZhbHVlcyBhcmUgaW4gYmV0d2VlbiB0ZW1wbGF0ZSBzcGFucy4gV2UgaW5jcmVtZW50IGkgYnkgMVxuICAgICAgICAgIC8vIGxhdGVyIGluIHRoZSBsb29wLCBzbyBpbmNyZW1lbnQgaXQgYnkgcGFydC5zdHJpbmdzLmxlbmd0aCAtIDIgaGVyZVxuICAgICAgICAgIGkgKz0gKHBhcnQgYXMgQXR0cmlidXRlUGFydCkuc3RyaW5ncyEubGVuZ3RoIC0gMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJ0Ll8kc2V0VmFsdWUodmFsdWVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgfVxufVxuXG4vKlxuICogUGFydHNcbiAqL1xudHlwZSBBdHRyaWJ1dGVUZW1wbGF0ZVBhcnQgPSB7XG4gIHJlYWRvbmx5IHR5cGU6IHR5cGVvZiBBVFRSSUJVVEVfUEFSVDtcbiAgcmVhZG9ubHkgaW5kZXg6IG51bWJlcjtcbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICByZWFkb25seSBjdG9yOiB0eXBlb2YgQXR0cmlidXRlUGFydDtcbiAgcmVhZG9ubHkgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+O1xufTtcbnR5cGUgQ2hpbGRUZW1wbGF0ZVBhcnQgPSB7XG4gIHJlYWRvbmx5IHR5cGU6IHR5cGVvZiBDSElMRF9QQVJUO1xuICByZWFkb25seSBpbmRleDogbnVtYmVyO1xufTtcbnR5cGUgRWxlbWVudFRlbXBsYXRlUGFydCA9IHtcbiAgcmVhZG9ubHkgdHlwZTogdHlwZW9mIEVMRU1FTlRfUEFSVDtcbiAgcmVhZG9ubHkgaW5kZXg6IG51bWJlcjtcbn07XG50eXBlIENvbW1lbnRUZW1wbGF0ZVBhcnQgPSB7XG4gIHJlYWRvbmx5IHR5cGU6IHR5cGVvZiBDT01NRU5UX1BBUlQ7XG4gIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIEEgVGVtcGxhdGVQYXJ0IHJlcHJlc2VudHMgYSBkeW5hbWljIHBhcnQgaW4gYSB0ZW1wbGF0ZSwgYmVmb3JlIHRoZSB0ZW1wbGF0ZVxuICogaXMgaW5zdGFudGlhdGVkLiBXaGVuIGEgdGVtcGxhdGUgaXMgaW5zdGFudGlhdGVkIFBhcnRzIGFyZSBjcmVhdGVkIGZyb21cbiAqIFRlbXBsYXRlUGFydHMuXG4gKi9cbnR5cGUgVGVtcGxhdGVQYXJ0ID1cbiAgfCBDaGlsZFRlbXBsYXRlUGFydFxuICB8IEF0dHJpYnV0ZVRlbXBsYXRlUGFydFxuICB8IEVsZW1lbnRUZW1wbGF0ZVBhcnRcbiAgfCBDb21tZW50VGVtcGxhdGVQYXJ0O1xuXG5leHBvcnQgdHlwZSBQYXJ0ID1cbiAgfCBDaGlsZFBhcnRcbiAgfCBBdHRyaWJ1dGVQYXJ0XG4gIHwgUHJvcGVydHlQYXJ0XG4gIHwgQm9vbGVhbkF0dHJpYnV0ZVBhcnRcbiAgfCBFbGVtZW50UGFydFxuICB8IEV2ZW50UGFydDtcblxuZXhwb3J0IHR5cGUge0NoaWxkUGFydH07XG5jbGFzcyBDaGlsZFBhcnQgaW1wbGVtZW50cyBEaXNjb25uZWN0YWJsZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSBDSElMRF9QQVJUO1xuICByZWFkb25seSBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICBfJGNvbW1pdHRlZFZhbHVlOiB1bmtub3duID0gbm90aGluZztcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfX2RpcmVjdGl2ZT86IERpcmVjdGl2ZTtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJHN0YXJ0Tm9kZTogQ2hpbGROb2RlO1xuICAvKiogQGludGVybmFsICovXG4gIF8kZW5kTm9kZTogQ2hpbGROb2RlIHwgbnVsbDtcbiAgcHJpdmF0ZSBfdGV4dFNhbml0aXplcjogVmFsdWVTYW5pdGl6ZXIgfCB1bmRlZmluZWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlIHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogQ29ubmVjdGlvbiBzdGF0ZSBmb3IgUm9vdFBhcnRzIG9ubHkgKGkuZS4gQ2hpbGRQYXJ0IHdpdGhvdXQgXyRwYXJlbnRcbiAgICogcmV0dXJuZWQgZnJvbSB0b3AtbGV2ZWwgYHJlbmRlcmApLiBUaGlzIGZpZWxkIGlzIHVudXNlZCBvdGhlcndpc2UuIFRoZVxuICAgKiBpbnRlbnRpb24gd291bGQgYmUgY2xlYXJlciBpZiB3ZSBtYWRlIGBSb290UGFydGAgYSBzdWJjbGFzcyBvZiBgQ2hpbGRQYXJ0YFxuICAgKiB3aXRoIHRoaXMgZmllbGQgKGFuZCBhIGRpZmZlcmVudCBfJGlzQ29ubmVjdGVkIGdldHRlciksIGJ1dCB0aGUgc3ViY2xhc3NcbiAgICogY2F1c2VkIGEgcGVyZiByZWdyZXNzaW9uLCBwb3NzaWJseSBkdWUgdG8gbWFraW5nIGNhbGwgc2l0ZXMgcG9seW1vcnBoaWMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX19pc0Nvbm5lY3RlZDogYm9vbGVhbjtcblxuICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgIC8vIENoaWxkUGFydHMgdGhhdCBhcmUgbm90IGF0IHRoZSByb290IHNob3VsZCBhbHdheXMgYmUgY3JlYXRlZCB3aXRoIGFcbiAgICAvLyBwYXJlbnQ7IG9ubHkgUm9vdENoaWxkTm9kZSdzIHdvbid0LCBzbyB0aGV5IHJldHVybiB0aGUgbG9jYWwgaXNDb25uZWN0ZWRcbiAgICAvLyBzdGF0ZVxuICAgIHJldHVybiB0aGlzLl8kcGFyZW50Py5fJGlzQ29ubmVjdGVkID8/IHRoaXMuX19pc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIC8vIFRoZSBmb2xsb3dpbmcgZmllbGRzIHdpbGwgYmUgcGF0Y2hlZCBvbnRvIENoaWxkUGFydHMgd2hlbiByZXF1aXJlZCBieVxuICAvLyBBc3luY0RpcmVjdGl2ZVxuICAvKiogQGludGVybmFsICovXG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT4gPSB1bmRlZmluZWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZD8oXG4gICAgaXNDb25uZWN0ZWQ6IGJvb2xlYW4sXG4gICAgcmVtb3ZlRnJvbVBhcmVudD86IGJvb2xlYW4sXG4gICAgZnJvbT86IG51bWJlclxuICApOiB2b2lkO1xuICAvKiogQGludGVybmFsICovXG4gIF8kcmVwYXJlbnREaXNjb25uZWN0YWJsZXM/KHBhcmVudDogRGlzY29ubmVjdGFibGUpOiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0YXJ0Tm9kZTogQ2hpbGROb2RlLFxuICAgIGVuZE5vZGU6IENoaWxkTm9kZSB8IG51bGwsXG4gICAgcGFyZW50OiBUZW1wbGF0ZUluc3RhbmNlIHwgQ2hpbGRQYXJ0IHwgdW5kZWZpbmVkLFxuICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhpcy5fJHN0YXJ0Tm9kZSA9IHN0YXJ0Tm9kZTtcbiAgICB0aGlzLl8kZW5kTm9kZSA9IGVuZE5vZGU7XG4gICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIC8vIE5vdGUgX19pc0Nvbm5lY3RlZCBpcyBvbmx5IGV2ZXIgYWNjZXNzZWQgb24gUm9vdFBhcnRzIChpLmUuIHdoZW4gdGhlcmUgaXNcbiAgICAvLyBubyBfJHBhcmVudCk7IHRoZSB2YWx1ZSBvbiBhIG5vbi1yb290LXBhcnQgaXMgXCJkb24ndCBjYXJlXCIsIGJ1dCBjaGVja2luZ1xuICAgIC8vIGZvciBwYXJlbnQgd291bGQgYmUgbW9yZSBjb2RlXG4gICAgdGhpcy5fX2lzQ29ubmVjdGVkID0gb3B0aW9ucz8uaXNDb25uZWN0ZWQgPz8gdHJ1ZTtcbiAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAvLyBFeHBsaWNpdGx5IGluaXRpYWxpemUgZm9yIGNvbnNpc3RlbnQgY2xhc3Mgc2hhcGUuXG4gICAgICB0aGlzLl90ZXh0U2FuaXRpemVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcGFyZW50IG5vZGUgaW50byB3aGljaCB0aGUgcGFydCByZW5kZXJzIGl0cyBjb250ZW50LlxuICAgKlxuICAgKiBBIENoaWxkUGFydCdzIGNvbnRlbnQgY29uc2lzdHMgb2YgYSByYW5nZSBvZiBhZGphY2VudCBjaGlsZCBub2RlcyBvZlxuICAgKiBgLnBhcmVudE5vZGVgLCBwb3NzaWJseSBib3JkZXJlZCBieSAnbWFya2VyIG5vZGVzJyAoYC5zdGFydE5vZGVgIGFuZFxuICAgKiBgLmVuZE5vZGVgKS5cbiAgICpcbiAgICogLSBJZiBib3RoIGAuc3RhcnROb2RlYCBhbmQgYC5lbmROb2RlYCBhcmUgbm9uLW51bGwsIHRoZW4gdGhlIHBhcnQncyBjb250ZW50XG4gICAqIGNvbnNpc3RzIG9mIGFsbCBzaWJsaW5ncyBiZXR3ZWVuIGAuc3RhcnROb2RlYCBhbmQgYC5lbmROb2RlYCwgZXhjbHVzaXZlbHkuXG4gICAqXG4gICAqIC0gSWYgYC5zdGFydE5vZGVgIGlzIG5vbi1udWxsIGJ1dCBgLmVuZE5vZGVgIGlzIG51bGwsIHRoZW4gdGhlIHBhcnQnc1xuICAgKiBjb250ZW50IGNvbnNpc3RzIG9mIGFsbCBzaWJsaW5ncyBmb2xsb3dpbmcgYC5zdGFydE5vZGVgLCB1cCB0byBhbmRcbiAgICogaW5jbHVkaW5nIHRoZSBsYXN0IGNoaWxkIG9mIGAucGFyZW50Tm9kZWAuIElmIGAuZW5kTm9kZWAgaXMgbm9uLW51bGwsIHRoZW5cbiAgICogYC5zdGFydE5vZGVgIHdpbGwgYWx3YXlzIGJlIG5vbi1udWxsLlxuICAgKlxuICAgKiAtIElmIGJvdGggYC5lbmROb2RlYCBhbmQgYC5zdGFydE5vZGVgIGFyZSBudWxsLCB0aGVuIHRoZSBwYXJ0J3MgY29udGVudFxuICAgKiBjb25zaXN0cyBvZiBhbGwgY2hpbGQgbm9kZXMgb2YgYC5wYXJlbnROb2RlYC5cbiAgICovXG4gIGdldCBwYXJlbnROb2RlKCk6IE5vZGUge1xuICAgIGxldCBwYXJlbnROb2RlOiBOb2RlID0gd3JhcCh0aGlzLl8kc3RhcnROb2RlKS5wYXJlbnROb2RlITtcbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl8kcGFyZW50O1xuICAgIGlmIChcbiAgICAgIHBhcmVudCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBwYXJlbnROb2RlPy5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVCAqL1xuICAgICkge1xuICAgICAgLy8gSWYgdGhlIHBhcmVudE5vZGUgaXMgYSBEb2N1bWVudEZyYWdtZW50LCBpdCBtYXkgYmUgYmVjYXVzZSB0aGUgRE9NIGlzXG4gICAgICAvLyBzdGlsbCBpbiB0aGUgY2xvbmVkIGZyYWdtZW50IGR1cmluZyBpbml0aWFsIHJlbmRlcjsgaWYgc28sIGdldCB0aGUgcmVhbFxuICAgICAgLy8gcGFyZW50Tm9kZSB0aGUgcGFydCB3aWxsIGJlIGNvbW1pdHRlZCBpbnRvIGJ5IGFza2luZyB0aGUgcGFyZW50LlxuICAgICAgcGFyZW50Tm9kZSA9IChwYXJlbnQgYXMgQ2hpbGRQYXJ0IHwgVGVtcGxhdGVJbnN0YW5jZSkucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudE5vZGU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHBhcnQncyBsZWFkaW5nIG1hcmtlciBub2RlLCBpZiBhbnkuIFNlZSBgLnBhcmVudE5vZGVgIGZvciBtb3JlXG4gICAqIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgZ2V0IHN0YXJ0Tm9kZSgpOiBOb2RlIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuXyRzdGFydE5vZGU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHBhcnQncyB0cmFpbGluZyBtYXJrZXIgbm9kZSwgaWYgYW55LiBTZWUgYC5wYXJlbnROb2RlYCBmb3IgbW9yZVxuICAgKiBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGdldCBlbmROb2RlKCk6IE5vZGUgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5fJGVuZE5vZGU7XG4gIH1cblxuICBfJHNldFZhbHVlKHZhbHVlOiB1bmtub3duLCBkaXJlY3RpdmVQYXJlbnQ6IERpcmVjdGl2ZVBhcmVudCA9IHRoaXMpOiB2b2lkIHtcbiAgICBpZiAoREVWX01PREUgJiYgdGhpcy5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBUaGlzIFxcYENoaWxkUGFydFxcYCBoYXMgbm8gXFxgcGFyZW50Tm9kZVxcYCBhbmQgdGhlcmVmb3JlIGNhbm5vdCBhY2NlcHQgYSB2YWx1ZS4gVGhpcyBsaWtlbHkgbWVhbnMgdGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgcGFydCB3YXMgbWFuaXB1bGF0ZWQgaW4gYW4gdW5zdXBwb3J0ZWQgd2F5IG91dHNpZGUgb2YgTGl0J3MgY29udHJvbCBzdWNoIHRoYXQgdGhlIHBhcnQncyBtYXJrZXIgbm9kZXMgd2VyZSBlamVjdGVkIGZyb20gRE9NLiBGb3IgZXhhbXBsZSwgc2V0dGluZyB0aGUgZWxlbWVudCdzIFxcYGlubmVySFRNTFxcYCBvciBcXGB0ZXh0Q29udGVudFxcYCBjYW4gZG8gdGhpcy5gXG4gICAgICApO1xuICAgIH1cbiAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUsIGRpcmVjdGl2ZVBhcmVudCk7XG4gICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkge1xuICAgICAgLy8gTm9uLXJlbmRlcmluZyBjaGlsZCB2YWx1ZXMuIEl0J3MgaW1wb3J0YW50IHRoYXQgdGhlc2UgZG8gbm90IHJlbmRlclxuICAgICAgLy8gZW1wdHkgdGV4dCBub2RlcyB0byBhdm9pZCBpc3N1ZXMgd2l0aCBwcmV2ZW50aW5nIGRlZmF1bHQgPHNsb3Q+XG4gICAgICAvLyBmYWxsYmFjayBjb250ZW50LlxuICAgICAgaWYgKHZhbHVlID09PSBub3RoaW5nIHx8IHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09ICcnKSB7XG4gICAgICAgIGlmICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgIT09IG5vdGhpbmcpIHtcbiAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBub3RoaW5nIHRvIGNoaWxkJyxcbiAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMuXyRzdGFydE5vZGUsXG4gICAgICAgICAgICAgIGVuZDogdGhpcy5fJGVuZE5vZGUsXG4gICAgICAgICAgICAgIHBhcmVudDogdGhpcy5fJHBhcmVudCxcbiAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5fJGNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbm90aGluZztcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAmJiB2YWx1ZSAhPT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgIH0gZWxzZSBpZiAoKHZhbHVlIGFzIFRlbXBsYXRlUmVzdWx0KVsnXyRsaXRUeXBlJCddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlIGFzIFRlbXBsYXRlUmVzdWx0KTtcbiAgICB9IGVsc2UgaWYgKCh2YWx1ZSBhcyBOb2RlKS5ub2RlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoREVWX01PREUgJiYgdGhpcy5vcHRpb25zPy5ob3N0ID09PSB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9jb21taXRUZXh0KFxuICAgICAgICAgIGBbcHJvYmFibGUgbWlzdGFrZTogcmVuZGVyZWQgYSB0ZW1wbGF0ZSdzIGhvc3QgaW4gaXRzZWxmIGAgK1xuICAgICAgICAgICAgYChjb21tb25seSBjYXVzZWQgYnkgd3JpdGluZyBcXCR7dGhpc30gaW4gYSB0ZW1wbGF0ZV1gXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgQXR0ZW1wdGVkIHRvIHJlbmRlciB0aGUgdGVtcGxhdGUgaG9zdGAsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgYGluc2lkZSBpdHNlbGYuIFRoaXMgaXMgYWxtb3N0IGFsd2F5cyBhIG1pc3Rha2UsIGFuZCBpbiBkZXYgbW9kZSBgLFxuICAgICAgICAgIGB3ZSByZW5kZXIgc29tZSB3YXJuaW5nIHRleHQuIEluIHByb2R1Y3Rpb24gaG93ZXZlciwgd2UnbGwgYCxcbiAgICAgICAgICBgcmVuZGVyIGl0LCB3aGljaCB3aWxsIHVzdWFsbHkgcmVzdWx0IGluIGFuIGVycm9yLCBhbmQgc29tZXRpbWVzIGAsXG4gICAgICAgICAgYGluIHRoZSBlbGVtZW50IGRpc2FwcGVhcmluZyBmcm9tIHRoZSBET00uYFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9jb21taXROb2RlKHZhbHVlIGFzIE5vZGUpO1xuICAgIH0gZWxzZSBpZiAoaXNJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgIHRoaXMuX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmFsbGJhY2ssIHdpbGwgcmVuZGVyIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgIHRoaXMuX2NvbW1pdFRleHQodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2luc2VydDxUIGV4dGVuZHMgTm9kZT4obm9kZTogVCkge1xuICAgIHJldHVybiB3cmFwKHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkucGFyZW50Tm9kZSEpLmluc2VydEJlZm9yZShcbiAgICAgIG5vZGUsXG4gICAgICB0aGlzLl8kZW5kTm9kZVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIF9jb21taXROb2RlKHZhbHVlOiBOb2RlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuXyRjbGVhcigpO1xuICAgICAgaWYgKFxuICAgICAgICBFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MgJiZcbiAgICAgICAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsICE9PSBub29wU2FuaXRpemVyXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgcGFyZW50Tm9kZU5hbWUgPSB0aGlzLl8kc3RhcnROb2RlLnBhcmVudE5vZGU/Lm5vZGVOYW1lO1xuICAgICAgICBpZiAocGFyZW50Tm9kZU5hbWUgPT09ICdTVFlMRScgfHwgcGFyZW50Tm9kZU5hbWUgPT09ICdTQ1JJUFQnKSB7XG4gICAgICAgICAgbGV0IG1lc3NhZ2UgPSAnRm9yYmlkZGVuJztcbiAgICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlTmFtZSA9PT0gJ1NUWUxFJykge1xuICAgICAgICAgICAgICBtZXNzYWdlID1cbiAgICAgICAgICAgICAgICBgTGl0IGRvZXMgbm90IHN1cHBvcnQgYmluZGluZyBpbnNpZGUgc3R5bGUgbm9kZXMuIGAgK1xuICAgICAgICAgICAgICAgIGBUaGlzIGlzIGEgc2VjdXJpdHkgcmlzaywgYXMgc3R5bGUgaW5qZWN0aW9uIGF0dGFja3MgY2FuIGAgK1xuICAgICAgICAgICAgICAgIGBleGZpbHRyYXRlIGRhdGEgYW5kIHNwb29mIFVJcy4gYCArXG4gICAgICAgICAgICAgICAgYENvbnNpZGVyIGluc3RlYWQgdXNpbmcgY3NzXFxgLi4uXFxgIGxpdGVyYWxzIGAgK1xuICAgICAgICAgICAgICAgIGB0byBjb21wb3NlIHN0eWxlcywgYW5kIGRvIGR5bmFtaWMgc3R5bGluZyB3aXRoIGAgK1xuICAgICAgICAgICAgICAgIGBjc3MgY3VzdG9tIHByb3BlcnRpZXMsIDo6cGFydHMsIDxzbG90PnMsIGAgK1xuICAgICAgICAgICAgICAgIGBhbmQgYnkgbXV0YXRpbmcgdGhlIERPTSByYXRoZXIgdGhhbiBzdHlsZXNoZWV0cy5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgYExpdCBkb2VzIG5vdCBzdXBwb3J0IGJpbmRpbmcgaW5zaWRlIHNjcmlwdCBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgYFRoaXMgaXMgYSBzZWN1cml0eSByaXNrLCBhcyBpdCBjb3VsZCBhbGxvdyBhcmJpdHJhcnkgYCArXG4gICAgICAgICAgICAgICAgYGNvZGUgZXhlY3V0aW9uLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICBraW5kOiAnY29tbWl0IG5vZGUnLFxuICAgICAgICAgIHN0YXJ0OiB0aGlzLl8kc3RhcnROb2RlLFxuICAgICAgICAgIHBhcmVudDogdGhpcy5fJHBhcmVudCxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IHRoaXMuX2luc2VydCh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfY29tbWl0VGV4dCh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIC8vIElmIHRoZSBjb21taXR0ZWQgdmFsdWUgaXMgYSBwcmltaXRpdmUgaXQgbWVhbnMgd2UgY2FsbGVkIF9jb21taXRUZXh0IG9uXG4gICAgLy8gdGhlIHByZXZpb3VzIHJlbmRlciwgYW5kIHdlIGtub3cgdGhhdCB0aGlzLl8kc3RhcnROb2RlLm5leHRTaWJsaW5nIGlzIGFcbiAgICAvLyBUZXh0IG5vZGUuIFdlIGNhbiBub3cganVzdCByZXBsYWNlIHRoZSB0ZXh0IGNvbnRlbnQgKC5kYXRhKSBvZiB0aGUgbm9kZS5cbiAgICBpZiAoXG4gICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgIT09IG5vdGhpbmcgJiZcbiAgICAgIGlzUHJpbWl0aXZlKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSlcbiAgICApIHtcbiAgICAgIGNvbnN0IG5vZGUgPSB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLm5leHRTaWJsaW5nIGFzIFRleHQ7XG4gICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0U2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLl90ZXh0U2FuaXRpemVyID0gY3JlYXRlU2FuaXRpemVyKG5vZGUsICdkYXRhJywgJ3Byb3BlcnR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB0aGlzLl90ZXh0U2FuaXRpemVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAga2luZDogJ2NvbW1pdCB0ZXh0JyxcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgICAobm9kZSBhcyBUZXh0KS5kYXRhID0gdmFsdWUgYXMgc3RyaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgIGNvbnN0IHRleHROb2RlID0gZC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICAgIHRoaXMuX2NvbW1pdE5vZGUodGV4dE5vZGUpO1xuICAgICAgICAvLyBXaGVuIHNldHRpbmcgdGV4dCBjb250ZW50LCBmb3Igc2VjdXJpdHkgcHVycG9zZXMgaXQgbWF0dGVycyBhIGxvdFxuICAgICAgICAvLyB3aGF0IHRoZSBwYXJlbnQgaXMuIEZvciBleGFtcGxlLCA8c3R5bGU+IGFuZCA8c2NyaXB0PiBuZWVkIHRvIGJlXG4gICAgICAgIC8vIGhhbmRsZWQgd2l0aCBjYXJlLCB3aGlsZSA8c3Bhbj4gZG9lcyBub3QuIFNvIGZpcnN0IHdlIG5lZWQgdG8gcHV0IGFcbiAgICAgICAgLy8gdGV4dCBub2RlIGludG8gdGhlIGRvY3VtZW50LCB0aGVuIHdlIGNhbiBzYW5pdGl6ZSBpdHMgY29udGVudC5cbiAgICAgICAgaWYgKHRoaXMuX3RleHRTYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMuX3RleHRTYW5pdGl6ZXIgPSBjcmVhdGVTYW5pdGl6ZXIodGV4dE5vZGUsICdkYXRhJywgJ3Byb3BlcnR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB0aGlzLl90ZXh0U2FuaXRpemVyKHZhbHVlKTtcbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAga2luZDogJ2NvbW1pdCB0ZXh0JyxcbiAgICAgICAgICAgIG5vZGU6IHRleHROb2RlLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIHRleHROb2RlLmRhdGEgPSB2YWx1ZSBhcyBzdHJpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jb21taXROb2RlKGQuY3JlYXRlVGV4dE5vZGUodmFsdWUgYXMgc3RyaW5nKSk7XG4gICAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCcsXG4gICAgICAgICAgICBub2RlOiB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLm5leHRTaWJsaW5nIGFzIFRleHQsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIF9jb21taXRUZW1wbGF0ZVJlc3VsdChcbiAgICByZXN1bHQ6IFRlbXBsYXRlUmVzdWx0IHwgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdFxuICApOiB2b2lkIHtcbiAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgIGNvbnN0IHt2YWx1ZXMsIFsnXyRsaXRUeXBlJCddOiB0eXBlfSA9IHJlc3VsdDtcbiAgICAvLyBJZiAkbGl0VHlwZSQgaXMgYSBudW1iZXIsIHJlc3VsdCBpcyBhIHBsYWluIFRlbXBsYXRlUmVzdWx0IGFuZCB3ZSBnZXRcbiAgICAvLyB0aGUgdGVtcGxhdGUgZnJvbSB0aGUgdGVtcGxhdGUgY2FjaGUuIElmIG5vdCwgcmVzdWx0IGlzIGFcbiAgICAvLyBDb21waWxlZFRlbXBsYXRlUmVzdWx0IGFuZCBfJGxpdFR5cGUkIGlzIGEgQ29tcGlsZWRUZW1wbGF0ZSBhbmQgd2UgbmVlZFxuICAgIC8vIHRvIGNyZWF0ZSB0aGUgPHRlbXBsYXRlPiBlbGVtZW50IHRoZSBmaXJzdCB0aW1lIHdlIHNlZSBpdC5cbiAgICBjb25zdCB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlID1cbiAgICAgIHR5cGVvZiB0eXBlID09PSAnbnVtYmVyJ1xuICAgICAgICA/IHRoaXMuXyRnZXRUZW1wbGF0ZShyZXN1bHQgYXMgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0KVxuICAgICAgICA6ICh0eXBlLmVsID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICh0eXBlLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgdHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmcodHlwZS5oLCB0eXBlLmhbMF0pLFxuICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgIHR5cGUpO1xuXG4gICAgaWYgKCh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgVGVtcGxhdGVJbnN0YW5jZSk/Ll8kdGVtcGxhdGUgPT09IHRlbXBsYXRlKSB7XG4gICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSB1cGRhdGluZycsXG4gICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgaW5zdGFuY2U6IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBUZW1wbGF0ZUluc3RhbmNlLFxuICAgICAgICAgIHBhcnRzOiAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIFRlbXBsYXRlSW5zdGFuY2UpLl8kcGFydHMsXG4gICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgfSk7XG4gICAgICAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIFRlbXBsYXRlSW5zdGFuY2UpLl91cGRhdGUodmFsdWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSBhcyBUZW1wbGF0ZSwgdGhpcyk7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IGluc3RhbmNlLl9jbG9uZSh0aGlzLm9wdGlvbnMpO1xuICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICBraW5kOiAndGVtcGxhdGUgaW5zdGFudGlhdGVkJyxcbiAgICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBwYXJ0czogaW5zdGFuY2UuXyRwYXJ0cyxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgICAgdmFsdWVzLFxuICAgICAgICB9KTtcbiAgICAgIGluc3RhbmNlLl91cGRhdGUodmFsdWVzKTtcbiAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCBhbmQgdXBkYXRlZCcsXG4gICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgcGFydHM6IGluc3RhbmNlLl8kcGFydHMsXG4gICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGZyYWdtZW50LFxuICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgfSk7XG4gICAgICB0aGlzLl9jb21taXROb2RlKGZyYWdtZW50KTtcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IGluc3RhbmNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIE92ZXJyaWRkZW4gdmlhIGBsaXRIdG1sUG9seWZpbGxTdXBwb3J0YCB0byBwcm92aWRlIHBsYXRmb3JtIHN1cHBvcnQuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRnZXRUZW1wbGF0ZShyZXN1bHQ6IFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdCkge1xuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuZ2V0KHJlc3VsdC5zdHJpbmdzKTtcbiAgICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGVtcGxhdGVDYWNoZS5zZXQocmVzdWx0LnN0cmluZ3MsICh0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQpKSk7XG4gICAgfVxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfVxuXG4gIHByaXZhdGUgX2NvbW1pdEl0ZXJhYmxlKHZhbHVlOiBJdGVyYWJsZTx1bmtub3duPik6IHZvaWQge1xuICAgIC8vIEZvciBhbiBJdGVyYWJsZSwgd2UgY3JlYXRlIGEgbmV3IEluc3RhbmNlUGFydCBwZXIgaXRlbSwgdGhlbiBzZXQgaXRzXG4gICAgLy8gdmFsdWUgdG8gdGhlIGl0ZW0uIFRoaXMgaXMgYSBsaXR0bGUgYml0IG9mIG92ZXJoZWFkIGZvciBldmVyeSBpdGVtIGluXG4gICAgLy8gYW4gSXRlcmFibGUsIGJ1dCBpdCBsZXRzIHVzIHJlY3Vyc2UgZWFzaWx5IGFuZCBlZmZpY2llbnRseSB1cGRhdGUgQXJyYXlzXG4gICAgLy8gb2YgVGVtcGxhdGVSZXN1bHRzIHRoYXQgd2lsbCBiZSBjb21tb25seSByZXR1cm5lZCBmcm9tIGV4cHJlc3Npb25zIGxpa2U6XG4gICAgLy8gYXJyYXkubWFwKChpKSA9PiBodG1sYCR7aX1gKSwgYnkgcmV1c2luZyBleGlzdGluZyBUZW1wbGF0ZUluc3RhbmNlcy5cblxuICAgIC8vIElmIHZhbHVlIGlzIGFuIGFycmF5LCB0aGVuIHRoZSBwcmV2aW91cyByZW5kZXIgd2FzIG9mIGFuXG4gICAgLy8gaXRlcmFibGUgYW5kIHZhbHVlIHdpbGwgY29udGFpbiB0aGUgQ2hpbGRQYXJ0cyBmcm9tIHRoZSBwcmV2aW91c1xuICAgIC8vIHJlbmRlci4gSWYgdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAvLyBhcnJheSBmb3IgQ2hpbGRQYXJ0cy5cbiAgICBpZiAoIWlzQXJyYXkodGhpcy5fJGNvbW1pdHRlZFZhbHVlKSkge1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gW107XG4gICAgICB0aGlzLl8kY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvLyBMZXRzIHVzIGtlZXAgdHJhY2sgb2YgaG93IG1hbnkgaXRlbXMgd2Ugc3RhbXBlZCBzbyB3ZSBjYW4gY2xlYXIgbGVmdG92ZXJcbiAgICAvLyBpdGVtcyBmcm9tIGEgcHJldmlvdXMgcmVuZGVyXG4gICAgY29uc3QgaXRlbVBhcnRzID0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIENoaWxkUGFydFtdO1xuICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgIGxldCBpdGVtUGFydDogQ2hpbGRQYXJ0IHwgdW5kZWZpbmVkO1xuXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICBpZiAocGFydEluZGV4ID09PSBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAgIC8vIElmIG5vIGV4aXN0aW5nIHBhcnQsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IHRlc3QgcGVyZiBpbXBhY3Qgb2YgYWx3YXlzIGNyZWF0aW5nIHR3byBwYXJ0c1xuICAgICAgICAvLyBpbnN0ZWFkIG9mIHNoYXJpbmcgcGFydHMgYmV0d2VlbiBub2Rlc1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbGl0L2xpdC9pc3N1ZXMvMTI2NlxuICAgICAgICBpdGVtUGFydHMucHVzaChcbiAgICAgICAgICAoaXRlbVBhcnQgPSBuZXcgQ2hpbGRQYXJ0KFxuICAgICAgICAgICAgdGhpcy5faW5zZXJ0KGNyZWF0ZU1hcmtlcigpKSxcbiAgICAgICAgICAgIHRoaXMuX2luc2VydChjcmVhdGVNYXJrZXIoKSksXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgdGhpcy5vcHRpb25zXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldXNlIGFuIGV4aXN0aW5nIHBhcnRcbiAgICAgICAgaXRlbVBhcnQgPSBpdGVtUGFydHNbcGFydEluZGV4XTtcbiAgICAgIH1cbiAgICAgIGl0ZW1QYXJ0Ll8kc2V0VmFsdWUoaXRlbSk7XG4gICAgICBwYXJ0SW5kZXgrKztcbiAgICB9XG5cbiAgICBpZiAocGFydEluZGV4IDwgaXRlbVBhcnRzLmxlbmd0aCkge1xuICAgICAgLy8gaXRlbVBhcnRzIGFsd2F5cyBoYXZlIGVuZCBub2Rlc1xuICAgICAgdGhpcy5fJGNsZWFyKFxuICAgICAgICBpdGVtUGFydCAmJiB3cmFwKGl0ZW1QYXJ0Ll8kZW5kTm9kZSEpLm5leHRTaWJsaW5nLFxuICAgICAgICBwYXJ0SW5kZXhcbiAgICAgICk7XG4gICAgICAvLyBUcnVuY2F0ZSB0aGUgcGFydHMgYXJyYXkgc28gX3ZhbHVlIHJlZmxlY3RzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICBpdGVtUGFydHMubGVuZ3RoID0gcGFydEluZGV4O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBub2RlcyBjb250YWluZWQgd2l0aGluIHRoaXMgUGFydCBmcm9tIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSBzdGFydCBTdGFydCBub2RlIHRvIGNsZWFyIGZyb20sIGZvciBjbGVhcmluZyBhIHN1YnNldCBvZiB0aGUgcGFydCdzXG4gICAqICAgICBET00gKHVzZWQgd2hlbiB0cnVuY2F0aW5nIGl0ZXJhYmxlcylcbiAgICogQHBhcmFtIGZyb20gIFdoZW4gYHN0YXJ0YCBpcyBzcGVjaWZpZWQsIHRoZSBpbmRleCB3aXRoaW4gdGhlIGl0ZXJhYmxlIGZyb21cbiAgICogICAgIHdoaWNoIENoaWxkUGFydHMgYXJlIGJlaW5nIHJlbW92ZWQsIHVzZWQgZm9yIGRpc2Nvbm5lY3RpbmcgZGlyZWN0aXZlcyBpblxuICAgKiAgICAgdGhvc2UgUGFydHMuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgXyRjbGVhcihcbiAgICBzdGFydDogQ2hpbGROb2RlIHwgbnVsbCA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkubmV4dFNpYmxpbmcsXG4gICAgZnJvbT86IG51bWJlclxuICApIHtcbiAgICB0aGlzLl8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQ/LihmYWxzZSwgdHJ1ZSwgZnJvbSk7XG4gICAgd2hpbGUgKHN0YXJ0ICYmIHN0YXJ0ICE9PSB0aGlzLl8kZW5kTm9kZSkge1xuICAgICAgY29uc3QgbiA9IHdyYXAoc3RhcnQhKS5uZXh0U2libGluZztcbiAgICAgICh3cmFwKHN0YXJ0ISkgYXMgRWxlbWVudCkucmVtb3ZlKCk7XG4gICAgICBzdGFydCA9IG47XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBJbXBsZW1lbnRhdGlvbiBvZiBSb290UGFydCdzIGBpc0Nvbm5lY3RlZGAuIE5vdGUgdGhhdCB0aGlzIG1ldGhvZFxuICAgKiBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gYFJvb3RQYXJ0YHMgKHRoZSBgQ2hpbGRQYXJ0YCByZXR1cm5lZCBmcm9tIGFcbiAgICogdG9wLWxldmVsIGByZW5kZXIoKWAgY2FsbCkuIEl0IGhhcyBubyBlZmZlY3Qgb24gbm9uLXJvb3QgQ2hpbGRQYXJ0cy5cbiAgICogQHBhcmFtIGlzQ29ubmVjdGVkIFdoZXRoZXIgdG8gc2V0XG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc2V0Q29ubmVjdGVkKGlzQ29ubmVjdGVkOiBib29sZWFuKSB7XG4gICAgaWYgKHRoaXMuXyRwYXJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fX2lzQ29ubmVjdGVkID0gaXNDb25uZWN0ZWQ7XG4gICAgICB0aGlzLl8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQ/Lihpc0Nvbm5lY3RlZCk7XG4gICAgfSBlbHNlIGlmIChERVZfTU9ERSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAncGFydC5zZXRDb25uZWN0ZWQoKSBtYXkgb25seSBiZSBjYWxsZWQgb24gYSAnICtcbiAgICAgICAgICAnUm9vdFBhcnQgcmV0dXJuZWQgZnJvbSByZW5kZXIoKS4nXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEEgdG9wLWxldmVsIGBDaGlsZFBhcnRgIHJldHVybmVkIGZyb20gYHJlbmRlcmAgdGhhdCBtYW5hZ2VzIHRoZSBjb25uZWN0ZWRcbiAqIHN0YXRlIG9mIGBBc3luY0RpcmVjdGl2ZWBzIGNyZWF0ZWQgdGhyb3VnaG91dCB0aGUgdHJlZSBiZWxvdyBpdC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSb290UGFydCBleHRlbmRzIENoaWxkUGFydCB7XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjb25uZWN0aW9uIHN0YXRlIGZvciBgQXN5bmNEaXJlY3RpdmVgcyBjb250YWluZWQgd2l0aGluIHRoaXMgcm9vdFxuICAgKiBDaGlsZFBhcnQuXG4gICAqXG4gICAqIGxpdC1odG1sIGRvZXMgbm90IGF1dG9tYXRpY2FsbHkgbW9uaXRvciB0aGUgY29ubmVjdGVkbmVzcyBvZiBET00gcmVuZGVyZWQ7XG4gICAqIGFzIHN1Y2gsIGl0IGlzIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgY2FsbGVyIHRvIGByZW5kZXJgIHRvIGVuc3VyZSB0aGF0XG4gICAqIGBwYXJ0LnNldENvbm5lY3RlZChmYWxzZSlgIGlzIGNhbGxlZCBiZWZvcmUgdGhlIHBhcnQgb2JqZWN0IGlzIHBvdGVudGlhbGx5XG4gICAqIGRpc2NhcmRlZCwgdG8gZW5zdXJlIHRoYXQgYEFzeW5jRGlyZWN0aXZlYHMgaGF2ZSBhIGNoYW5jZSB0byBkaXNwb3NlIG9mXG4gICAqIGFueSByZXNvdXJjZXMgYmVpbmcgaGVsZC4gSWYgYSBgUm9vdFBhcnRgIHRoYXQgd2FzIHByZXZpb3VzbHlcbiAgICogZGlzY29ubmVjdGVkIGlzIHN1YnNlcXVlbnRseSByZS1jb25uZWN0ZWQgKGFuZCBpdHMgYEFzeW5jRGlyZWN0aXZlYHMgc2hvdWxkXG4gICAqIHJlLWNvbm5lY3QpLCBgc2V0Q29ubmVjdGVkKHRydWUpYCBzaG91bGQgYmUgY2FsbGVkLlxuICAgKlxuICAgKiBAcGFyYW0gaXNDb25uZWN0ZWQgV2hldGhlciBkaXJlY3RpdmVzIHdpdGhpbiB0aGlzIHRyZWUgc2hvdWxkIGJlIGNvbm5lY3RlZFxuICAgKiBvciBub3RcbiAgICovXG4gIHNldENvbm5lY3RlZChpc0Nvbm5lY3RlZDogYm9vbGVhbik6IHZvaWQ7XG59XG5cbmV4cG9ydCB0eXBlIHtBdHRyaWJ1dGVQYXJ0fTtcbmNsYXNzIEF0dHJpYnV0ZVBhcnQgaW1wbGVtZW50cyBEaXNjb25uZWN0YWJsZSB7XG4gIHJlYWRvbmx5IHR5cGU6XG4gICAgfCB0eXBlb2YgQVRUUklCVVRFX1BBUlRcbiAgICB8IHR5cGVvZiBQUk9QRVJUWV9QQVJUXG4gICAgfCB0eXBlb2YgQk9PTEVBTl9BVFRSSUJVVEVfUEFSVFxuICAgIHwgdHlwZW9mIEVWRU5UX1BBUlQgPSBBVFRSSUJVVEVfUEFSVDtcbiAgcmVhZG9ubHkgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogSWYgdGhpcyBhdHRyaWJ1dGUgcGFydCByZXByZXNlbnRzIGFuIGludGVycG9sYXRpb24sIHRoaXMgY29udGFpbnMgdGhlXG4gICAqIHN0YXRpYyBzdHJpbmdzIG9mIHRoZSBpbnRlcnBvbGF0aW9uLiBGb3Igc2luZ2xlLXZhbHVlLCBjb21wbGV0ZSBiaW5kaW5ncyxcbiAgICogdGhpcyBpcyB1bmRlZmluZWQuXG4gICAqL1xuICByZWFkb25seSBzdHJpbmdzPzogUmVhZG9ubHlBcnJheTxzdHJpbmc+O1xuICAvKiogQGludGVybmFsICovXG4gIF8kY29tbWl0dGVkVmFsdWU6IHVua25vd24gfCBBcnJheTx1bmtub3duPiA9IG5vdGhpbmc7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX19kaXJlY3RpdmVzPzogQXJyYXk8RGlyZWN0aXZlIHwgdW5kZWZpbmVkPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJHBhcmVudDogRGlzY29ubmVjdGFibGU7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuPzogU2V0PERpc2Nvbm5lY3RhYmxlPiA9IHVuZGVmaW5lZDtcblxuICBwcm90ZWN0ZWQgX3Nhbml0aXplcjogVmFsdWVTYW5pdGl6ZXIgfCB1bmRlZmluZWQ7XG5cbiAgZ2V0IHRhZ05hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC50YWdOYW1lO1xuICB9XG5cbiAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICBnZXQgXyRpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgZWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPixcbiAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlLFxuICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICBpZiAoc3RyaW5ncy5sZW5ndGggPiAyIHx8IHN0cmluZ3NbMF0gIT09ICcnIHx8IHN0cmluZ3NbMV0gIT09ICcnKSB7XG4gICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBuZXcgQXJyYXkoc3RyaW5ncy5sZW5ndGggLSAxKS5maWxsKG5ldyBTdHJpbmcoKSk7XG4gICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBub3RoaW5nO1xuICAgIH1cbiAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICB0aGlzLl9zYW5pdGl6ZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoaXMgcGFydCBieSByZXNvbHZpbmcgdGhlIHZhbHVlIGZyb20gcG9zc2libHkgbXVsdGlwbGVcbiAgICogdmFsdWVzIGFuZCBzdGF0aWMgc3RyaW5ncyBhbmQgY29tbWl0dGluZyBpdCB0byB0aGUgRE9NLlxuICAgKiBJZiB0aGlzIHBhcnQgaXMgc2luZ2xlLXZhbHVlZCwgYHRoaXMuX3N0cmluZ3NgIHdpbGwgYmUgdW5kZWZpbmVkLCBhbmQgdGhlXG4gICAqIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgc2luZ2xlIHZhbHVlIGFyZ3VtZW50LiBJZiB0aGlzIHBhcnQgaXNcbiAgICogbXVsdGktdmFsdWUsIGB0aGlzLl9zdHJpbmdzYCB3aWxsIGJlIGRlZmluZWQsIGFuZCB0aGUgbWV0aG9kIGlzIGNhbGxlZFxuICAgKiB3aXRoIHRoZSB2YWx1ZSBhcnJheSBvZiB0aGUgcGFydCdzIG93bmluZyBUZW1wbGF0ZUluc3RhbmNlLCBhbmQgYW4gb2Zmc2V0XG4gICAqIGludG8gdGhlIHZhbHVlIGFycmF5IGZyb20gd2hpY2ggdGhlIHZhbHVlcyBzaG91bGQgYmUgcmVhZC5cbiAgICogVGhpcyBtZXRob2QgaXMgb3ZlcmxvYWRlZCB0aGlzIHdheSB0byBlbGltaW5hdGUgc2hvcnQtbGl2ZWQgYXJyYXkgc2xpY2VzXG4gICAqIG9mIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB2YWx1ZXMsIGFuZCBhbGxvdyBhIGZhc3QtcGF0aCBmb3Igc2luZ2xlLXZhbHVlZFxuICAgKiBwYXJ0cy5cbiAgICpcbiAgICogQHBhcmFtIHZhbHVlIFRoZSBwYXJ0IHZhbHVlLCBvciBhbiBhcnJheSBvZiB2YWx1ZXMgZm9yIG11bHRpLXZhbHVlZCBwYXJ0c1xuICAgKiBAcGFyYW0gdmFsdWVJbmRleCB0aGUgaW5kZXggdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgZnJvbS4gYHVuZGVmaW5lZGAgZm9yXG4gICAqICAgc2luZ2xlLXZhbHVlZCBwYXJ0c1xuICAgKiBAcGFyYW0gbm9Db21taXQgY2F1c2VzIHRoZSBwYXJ0IHRvIG5vdCBjb21taXQgaXRzIHZhbHVlIHRvIHRoZSBET00uIFVzZWRcbiAgICogICBpbiBoeWRyYXRpb24gdG8gcHJpbWUgYXR0cmlidXRlIHBhcnRzIHdpdGggdGhlaXIgZmlyc3QtcmVuZGVyZWQgdmFsdWUsXG4gICAqICAgYnV0IG5vdCBzZXQgdGhlIGF0dHJpYnV0ZSwgYW5kIGluIFNTUiB0byBuby1vcCB0aGUgRE9NIG9wZXJhdGlvbiBhbmRcbiAgICogICBjYXB0dXJlIHRoZSB2YWx1ZSBmb3Igc2VyaWFsaXphdGlvbi5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfJHNldFZhbHVlKFxuICAgIHZhbHVlOiB1bmtub3duIHwgQXJyYXk8dW5rbm93bj4sXG4gICAgZGlyZWN0aXZlUGFyZW50OiBEaXJlY3RpdmVQYXJlbnQgPSB0aGlzLFxuICAgIHZhbHVlSW5kZXg/OiBudW1iZXIsXG4gICAgbm9Db21taXQ/OiBib29sZWFuXG4gICkge1xuICAgIGNvbnN0IHN0cmluZ3MgPSB0aGlzLnN0cmluZ3M7XG5cbiAgICAvLyBXaGV0aGVyIGFueSBvZiB0aGUgdmFsdWVzIGhhcyBjaGFuZ2VkLCBmb3IgZGlydHktY2hlY2tpbmdcbiAgICBsZXQgY2hhbmdlID0gZmFsc2U7XG5cbiAgICBpZiAoc3RyaW5ncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBTaW5nbGUtdmFsdWUgYmluZGluZyBjYXNlXG4gICAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUsIGRpcmVjdGl2ZVBhcmVudCwgMCk7XG4gICAgICBjaGFuZ2UgPVxuICAgICAgICAhaXNQcmltaXRpdmUodmFsdWUpIHx8XG4gICAgICAgICh2YWx1ZSAhPT0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlICYmIHZhbHVlICE9PSBub0NoYW5nZSk7XG4gICAgICBpZiAoY2hhbmdlKSB7XG4gICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJbnRlcnBvbGF0aW9uIGNhc2VcbiAgICAgIGNvbnN0IHZhbHVlcyA9IHZhbHVlIGFzIEFycmF5PHVua25vd24+O1xuICAgICAgdmFsdWUgPSBzdHJpbmdzWzBdO1xuXG4gICAgICBsZXQgaSwgdjtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICB2ID0gcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCB2YWx1ZXNbdmFsdWVJbmRleCEgKyBpXSwgZGlyZWN0aXZlUGFyZW50LCBpKTtcblxuICAgICAgICBpZiAodiA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgdXNlci1wcm92aWRlZCB2YWx1ZSBpcyBgbm9DaGFuZ2VgLCB1c2UgdGhlIHByZXZpb3VzIHZhbHVlXG4gICAgICAgICAgdiA9ICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgQXJyYXk8dW5rbm93bj4pW2ldO1xuICAgICAgICB9XG4gICAgICAgIGNoYW5nZSB8fD1cbiAgICAgICAgICAhaXNQcmltaXRpdmUodikgfHwgdiAhPT0gKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBBcnJheTx1bmtub3duPilbaV07XG4gICAgICAgIGlmICh2ID09PSBub3RoaW5nKSB7XG4gICAgICAgICAgdmFsdWUgPSBub3RoaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSBub3RoaW5nKSB7XG4gICAgICAgICAgdmFsdWUgKz0gKHYgPz8gJycpICsgc3RyaW5nc1tpICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgYWx3YXlzIHJlY29yZCBlYWNoIHZhbHVlLCBldmVuIGlmIG9uZSBpcyBgbm90aGluZ2AsIGZvciBmdXR1cmVcbiAgICAgICAgLy8gY2hhbmdlIGRldGVjdGlvbi5cbiAgICAgICAgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBBcnJheTx1bmtub3duPilbaV0gPSB2O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2hhbmdlICYmICFub0NvbW1pdCkge1xuICAgICAgdGhpcy5fY29tbWl0VmFsdWUodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2NvbW1pdFZhbHVlKHZhbHVlOiB1bmtub3duKSB7XG4gICAgaWYgKHZhbHVlID09PSBub3RoaW5nKSB7XG4gICAgICAod3JhcCh0aGlzLmVsZW1lbnQpIGFzIEVsZW1lbnQpLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgIGlmICh0aGlzLl9zYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMuX3Nhbml0aXplciA9IHNhbml0aXplckZhY3RvcnlJbnRlcm5hbChcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgIHRoaXMubmFtZSxcbiAgICAgICAgICAgICdhdHRyaWJ1dGUnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHRoaXMuX3Nhbml0aXplcih2YWx1ZSA/PyAnJyk7XG4gICAgICB9XG4gICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgIGtpbmQ6ICdjb21taXQgYXR0cmlidXRlJyxcbiAgICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgICAod3JhcCh0aGlzLmVsZW1lbnQpIGFzIEVsZW1lbnQpLnNldEF0dHJpYnV0ZShcbiAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgICAodmFsdWUgPz8gJycpIGFzIHN0cmluZ1xuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUge1Byb3BlcnR5UGFydH07XG5jbGFzcyBQcm9wZXJ0eVBhcnQgZXh0ZW5kcyBBdHRyaWJ1dGVQYXJ0IHtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgdHlwZSA9IFBST1BFUlRZX1BBUlQ7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBvdmVycmlkZSBfY29tbWl0VmFsdWUodmFsdWU6IHVua25vd24pIHtcbiAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICBpZiAodGhpcy5fc2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fc2FuaXRpemVyID0gc2FuaXRpemVyRmFjdG9yeUludGVybmFsKFxuICAgICAgICAgIHRoaXMuZWxlbWVudCxcbiAgICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgICAgJ3Byb3BlcnR5J1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB0aGlzLl9zYW5pdGl6ZXIodmFsdWUpO1xuICAgIH1cbiAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAga2luZDogJ2NvbW1pdCBwcm9wZXJ0eScsXG4gICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgfSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAodGhpcy5lbGVtZW50IGFzIGFueSlbdGhpcy5uYW1lXSA9IHZhbHVlID09PSBub3RoaW5nID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUge0Jvb2xlYW5BdHRyaWJ1dGVQYXJ0fTtcbmNsYXNzIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG4gIG92ZXJyaWRlIHJlYWRvbmx5IHR5cGUgPSBCT09MRUFOX0FUVFJJQlVURV9QQVJUO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgb3ZlcnJpZGUgX2NvbW1pdFZhbHVlKHZhbHVlOiB1bmtub3duKSB7XG4gICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgIGtpbmQ6ICdjb21taXQgYm9vbGVhbiBhdHRyaWJ1dGUnLFxuICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgdmFsdWU6ICEhKHZhbHVlICYmIHZhbHVlICE9PSBub3RoaW5nKSxcbiAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgfSk7XG4gICAgKHdyYXAodGhpcy5lbGVtZW50KSBhcyBFbGVtZW50KS50b2dnbGVBdHRyaWJ1dGUoXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICAhIXZhbHVlICYmIHZhbHVlICE9PSBub3RoaW5nXG4gICAgKTtcbiAgfVxufVxuXG50eXBlIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyA9IEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QgJlxuICBQYXJ0aWFsPEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zPjtcblxuLyoqXG4gKiBBbiBBdHRyaWJ1dGVQYXJ0IHRoYXQgbWFuYWdlcyBhbiBldmVudCBsaXN0ZW5lciB2aWEgYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIuXG4gKlxuICogVGhpcyBwYXJ0IHdvcmtzIGJ5IGFkZGluZyBpdHNlbGYgYXMgdGhlIGV2ZW50IGxpc3RlbmVyIG9uIGFuIGVsZW1lbnQsIHRoZW5cbiAqIGRlbGVnYXRpbmcgdG8gdGhlIHZhbHVlIHBhc3NlZCB0byBpdC4gVGhpcyByZWR1Y2VzIHRoZSBudW1iZXIgb2YgY2FsbHMgdG9cbiAqIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyIGlmIHRoZSBsaXN0ZW5lciBjaGFuZ2VzIGZyZXF1ZW50bHksIHN1Y2ggYXMgd2hlbiBhblxuICogaW5saW5lIGZ1bmN0aW9uIGlzIHVzZWQgYXMgYSBsaXN0ZW5lci5cbiAqXG4gKiBCZWNhdXNlIGV2ZW50IG9wdGlvbnMgYXJlIHBhc3NlZCB3aGVuIGFkZGluZyBsaXN0ZW5lcnMsIHdlIG11c3QgdGFrZSBjYXNlXG4gKiB0byBhZGQgYW5kIHJlbW92ZSB0aGUgcGFydCBhcyBhIGxpc3RlbmVyIHdoZW4gdGhlIGV2ZW50IG9wdGlvbnMgY2hhbmdlLlxuICovXG5leHBvcnQgdHlwZSB7RXZlbnRQYXJ0fTtcbmNsYXNzIEV2ZW50UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xuICBvdmVycmlkZSByZWFkb25seSB0eXBlID0gRVZFTlRfUEFSVDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+LFxuICAgIHBhcmVudDogRGlzY29ubmVjdGFibGUsXG4gICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZFxuICApIHtcbiAgICBzdXBlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzLCBwYXJlbnQsIG9wdGlvbnMpO1xuXG4gICAgaWYgKERFVl9NT0RFICYmIHRoaXMuc3RyaW5ncyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBBIFxcYDwke2VsZW1lbnQubG9jYWxOYW1lfT5cXGAgaGFzIGEgXFxgQCR7bmFtZX09Li4uXFxgIGxpc3RlbmVyIHdpdGggYCArXG4gICAgICAgICAgJ2ludmFsaWQgY29udGVudC4gRXZlbnQgbGlzdGVuZXJzIGluIHRlbXBsYXRlcyBtdXN0IGhhdmUgZXhhY3RseSAnICtcbiAgICAgICAgICAnb25lIGV4cHJlc3Npb24gYW5kIG5vIHN1cnJvdW5kaW5nIHRleHQuJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBFdmVudFBhcnQgZG9lcyBub3QgdXNlIHRoZSBiYXNlIF8kc2V0VmFsdWUvX3Jlc29sdmVWYWx1ZSBpbXBsZW1lbnRhdGlvblxuICAvLyBzaW5jZSB0aGUgZGlydHkgY2hlY2tpbmcgaXMgbW9yZSBjb21wbGV4XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgb3ZlcnJpZGUgXyRzZXRWYWx1ZShcbiAgICBuZXdMaXN0ZW5lcjogdW5rbm93bixcbiAgICBkaXJlY3RpdmVQYXJlbnQ6IERpcmVjdGl2ZVBhcmVudCA9IHRoaXNcbiAgKSB7XG4gICAgbmV3TGlzdGVuZXIgPVxuICAgICAgcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCBuZXdMaXN0ZW5lciwgZGlyZWN0aXZlUGFyZW50LCAwKSA/PyBub3RoaW5nO1xuICAgIGlmIChuZXdMaXN0ZW5lciA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgb2xkTGlzdGVuZXIgPSB0aGlzLl8kY29tbWl0dGVkVmFsdWU7XG5cbiAgICAvLyBJZiB0aGUgbmV3IHZhbHVlIGlzIG5vdGhpbmcgb3IgYW55IG9wdGlvbnMgY2hhbmdlIHdlIGhhdmUgdG8gcmVtb3ZlIHRoZVxuICAgIC8vIHBhcnQgYXMgYSBsaXN0ZW5lci5cbiAgICBjb25zdCBzaG91bGRSZW1vdmVMaXN0ZW5lciA9XG4gICAgICAobmV3TGlzdGVuZXIgPT09IG5vdGhpbmcgJiYgb2xkTGlzdGVuZXIgIT09IG5vdGhpbmcpIHx8XG4gICAgICAobmV3TGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKS5jYXB0dXJlICE9PVxuICAgICAgICAob2xkTGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKS5jYXB0dXJlIHx8XG4gICAgICAobmV3TGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKS5vbmNlICE9PVxuICAgICAgICAob2xkTGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKS5vbmNlIHx8XG4gICAgICAobmV3TGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKS5wYXNzaXZlICE9PVxuICAgICAgICAob2xkTGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKS5wYXNzaXZlO1xuXG4gICAgLy8gSWYgdGhlIG5ldyB2YWx1ZSBpcyBub3Qgbm90aGluZyBhbmQgd2UgcmVtb3ZlZCB0aGUgbGlzdGVuZXIsIHdlIGhhdmVcbiAgICAvLyB0byBhZGQgdGhlIHBhcnQgYXMgYSBsaXN0ZW5lci5cbiAgICBjb25zdCBzaG91bGRBZGRMaXN0ZW5lciA9XG4gICAgICBuZXdMaXN0ZW5lciAhPT0gbm90aGluZyAmJlxuICAgICAgKG9sZExpc3RlbmVyID09PSBub3RoaW5nIHx8IHNob3VsZFJlbW92ZUxpc3RlbmVyKTtcblxuICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICBraW5kOiAnY29tbWl0IGV2ZW50IGxpc3RlbmVyJyxcbiAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIHZhbHVlOiBuZXdMaXN0ZW5lcixcbiAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICByZW1vdmVMaXN0ZW5lcjogc2hvdWxkUmVtb3ZlTGlzdGVuZXIsXG4gICAgICAgIGFkZExpc3RlbmVyOiBzaG91bGRBZGRMaXN0ZW5lcixcbiAgICAgICAgb2xkTGlzdGVuZXIsXG4gICAgICB9KTtcbiAgICBpZiAoc2hvdWxkUmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgIHRoaXMsXG4gICAgICAgIG9sZExpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHNob3VsZEFkZExpc3RlbmVyKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgICB0aGlzLFxuICAgICAgICBuZXdMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnNcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5ld0xpc3RlbmVyO1xuICB9XG5cbiAgaGFuZGxlRXZlbnQoZXZlbnQ6IEV2ZW50KSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZS5jYWxsKHRoaXMub3B0aW9ucz8uaG9zdCA/PyB0aGlzLmVsZW1lbnQsIGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBFdmVudExpc3RlbmVyT2JqZWN0KS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIHtFbGVtZW50UGFydH07XG5jbGFzcyBFbGVtZW50UGFydCBpbXBsZW1lbnRzIERpc2Nvbm5lY3RhYmxlIHtcbiAgcmVhZG9ubHkgdHlwZSA9IEVMRU1FTlRfUEFSVDtcblxuICAvKiogQGludGVybmFsICovXG4gIF9fZGlyZWN0aXZlPzogRGlyZWN0aXZlO1xuXG4gIC8vIFRoaXMgaXMgdG8gZW5zdXJlIHRoYXQgZXZlcnkgUGFydCBoYXMgYSBfJGNvbW1pdHRlZFZhbHVlXG4gIF8kY29tbWl0dGVkVmFsdWU6IHVuZGVmaW5lZDtcblxuICAvKiogQGludGVybmFsICovXG4gIF8kcGFyZW50ITogRGlzY29ubmVjdGFibGU7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4/OiBTZXQ8RGlzY29ubmVjdGFibGU+ID0gdW5kZWZpbmVkO1xuXG4gIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSxcbiAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQuXyRpc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIF8kc2V0VmFsdWUodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAga2luZDogJ2NvbW1pdCB0byBlbGVtZW50IGJpbmRpbmcnLFxuICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICB9KTtcbiAgICByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIEVORCBVU0VSUyBTSE9VTEQgTk9UIFJFTFkgT04gVEhJUyBPQkpFQ1QuXG4gKlxuICogUHJpdmF0ZSBleHBvcnRzIGZvciB1c2UgYnkgb3RoZXIgTGl0IHBhY2thZ2VzLCBub3QgaW50ZW5kZWQgZm9yIHVzZSBieVxuICogZXh0ZXJuYWwgdXNlcnMuXG4gKlxuICogV2UgY3VycmVudGx5IGRvIG5vdCBtYWtlIGEgbWFuZ2xlZCByb2xsdXAgYnVpbGQgb2YgdGhlIGxpdC1zc3IgY29kZS4gSW4gb3JkZXJcbiAqIHRvIGtlZXAgYSBudW1iZXIgb2YgKG90aGVyd2lzZSBwcml2YXRlKSB0b3AtbGV2ZWwgZXhwb3J0cyBtYW5nbGVkIGluIHRoZVxuICogY2xpZW50IHNpZGUgY29kZSwgd2UgZXhwb3J0IGEgXyRMSCBvYmplY3QgY29udGFpbmluZyB0aG9zZSBtZW1iZXJzIChvclxuICogaGVscGVyIG1ldGhvZHMgZm9yIGFjY2Vzc2luZyBwcml2YXRlIGZpZWxkcyBvZiB0aG9zZSBtZW1iZXJzKSwgYW5kIHRoZW5cbiAqIHJlLWV4cG9ydCB0aGVtIGZvciB1c2UgaW4gbGl0LXNzci4gVGhpcyBrZWVwcyBsaXQtc3NyIGFnbm9zdGljIHRvIHdoZXRoZXIgdGhlXG4gKiBjbGllbnQtc2lkZSBjb2RlIGlzIGJlaW5nIHVzZWQgaW4gYGRldmAgbW9kZSBvciBgcHJvZGAgbW9kZS5cbiAqXG4gKiBUaGlzIGhhcyBhIHVuaXF1ZSBuYW1lLCB0byBkaXNhbWJpZ3VhdGUgaXQgZnJvbSBwcml2YXRlIGV4cG9ydHMgaW5cbiAqIGxpdC1lbGVtZW50LCB3aGljaCByZS1leHBvcnRzIGFsbCBvZiBsaXQtaHRtbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3QgXyRMSCA9IHtcbiAgLy8gVXNlZCBpbiBsaXQtc3NyXG4gIF9ib3VuZEF0dHJpYnV0ZVN1ZmZpeDogYm91bmRBdHRyaWJ1dGVTdWZmaXgsXG4gIF9tYXJrZXI6IG1hcmtlcixcbiAgX21hcmtlck1hdGNoOiBtYXJrZXJNYXRjaCxcbiAgX0hUTUxfUkVTVUxUOiBIVE1MX1JFU1VMVCxcbiAgX2dldFRlbXBsYXRlSHRtbDogZ2V0VGVtcGxhdGVIdG1sLFxuICAvLyBVc2VkIGluIHRlc3RzIGFuZCBwcml2YXRlLXNzci1zdXBwb3J0XG4gIF9UZW1wbGF0ZUluc3RhbmNlOiBUZW1wbGF0ZUluc3RhbmNlLFxuICBfaXNJdGVyYWJsZTogaXNJdGVyYWJsZSxcbiAgX3Jlc29sdmVEaXJlY3RpdmU6IHJlc29sdmVEaXJlY3RpdmUsXG4gIF9DaGlsZFBhcnQ6IENoaWxkUGFydCxcbiAgX0F0dHJpYnV0ZVBhcnQ6IEF0dHJpYnV0ZVBhcnQsXG4gIF9Cb29sZWFuQXR0cmlidXRlUGFydDogQm9vbGVhbkF0dHJpYnV0ZVBhcnQsXG4gIF9FdmVudFBhcnQ6IEV2ZW50UGFydCxcbiAgX1Byb3BlcnR5UGFydDogUHJvcGVydHlQYXJ0LFxuICBfRWxlbWVudFBhcnQ6IEVsZW1lbnRQYXJ0LFxufTtcblxuLy8gQXBwbHkgcG9seWZpbGxzIGlmIGF2YWlsYWJsZVxuY29uc3QgcG9seWZpbGxTdXBwb3J0ID0gREVWX01PREVcbiAgPyBnbG9iYWwubGl0SHRtbFBvbHlmaWxsU3VwcG9ydERldk1vZGVcbiAgOiBnbG9iYWwubGl0SHRtbFBvbHlmaWxsU3VwcG9ydDtcbnBvbHlmaWxsU3VwcG9ydD8uKFRlbXBsYXRlLCBDaGlsZFBhcnQpO1xuXG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIGxpdC1odG1sIHVzYWdlLlxuKGdsb2JhbC5saXRIdG1sVmVyc2lvbnMgPz89IFtdKS5wdXNoKCczLjMuMCcpO1xuaWYgKERFVl9NT0RFICYmIGdsb2JhbC5saXRIdG1sVmVyc2lvbnMubGVuZ3RoID4gMSkge1xuICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgaXNzdWVXYXJuaW5nIShcbiAgICAgICdtdWx0aXBsZS12ZXJzaW9ucycsXG4gICAgICBgTXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0IGxvYWRlZC4gYCArXG4gICAgICAgIGBMb2FkaW5nIG11bHRpcGxlIHZlcnNpb25zIGlzIG5vdCByZWNvbW1lbmRlZC5gXG4gICAgKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmVuZGVycyBhIHZhbHVlLCB1c3VhbGx5IGEgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQsIHRvIHRoZSBjb250YWluZXIuXG4gKlxuICogVGhpcyBleGFtcGxlIHJlbmRlcnMgdGhlIHRleHQgXCJIZWxsbywgWm9lIVwiIGluc2lkZSBhIHBhcmFncmFwaCB0YWcsIGFwcGVuZGluZ1xuICogaXQgdG8gdGhlIGNvbnRhaW5lciBgZG9jdW1lbnQuYm9keWAuXG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7aHRtbCwgcmVuZGVyfSBmcm9tICdsaXQnO1xuICpcbiAqIGNvbnN0IG5hbWUgPSBcIlpvZVwiO1xuICogcmVuZGVyKGh0bWxgPHA+SGVsbG8sICR7bmFtZX0hPC9wPmAsIGRvY3VtZW50LmJvZHkpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHZhbHVlIEFueSBbcmVuZGVyYWJsZVxuICogICB2YWx1ZV0oaHR0cHM6Ly9saXQuZGV2L2RvY3MvdGVtcGxhdGVzL2V4cHJlc3Npb25zLyNjaGlsZC1leHByZXNzaW9ucyksXG4gKiAgIHR5cGljYWxseSBhIHtAbGlua2NvZGUgVGVtcGxhdGVSZXN1bHR9IGNyZWF0ZWQgYnkgZXZhbHVhdGluZyBhIHRlbXBsYXRlIHRhZ1xuICogICBsaWtlIHtAbGlua2NvZGUgaHRtbH0gb3Ige0BsaW5rY29kZSBzdmd9LlxuICogQHBhcmFtIGNvbnRhaW5lciBBIERPTSBjb250YWluZXIgdG8gcmVuZGVyIHRvLiBUaGUgZmlyc3QgcmVuZGVyIHdpbGwgYXBwZW5kXG4gKiAgIHRoZSByZW5kZXJlZCB2YWx1ZSB0byB0aGUgY29udGFpbmVyLCBhbmQgc3Vic2VxdWVudCByZW5kZXJzIHdpbGxcbiAqICAgZWZmaWNpZW50bHkgdXBkYXRlIHRoZSByZW5kZXJlZCB2YWx1ZSBpZiB0aGUgc2FtZSByZXN1bHQgdHlwZSB3YXNcbiAqICAgcHJldmlvdXNseSByZW5kZXJlZCB0aGVyZS5cbiAqIEBwYXJhbSBvcHRpb25zIFNlZSB7QGxpbmtjb2RlIFJlbmRlck9wdGlvbnN9IGZvciBvcHRpb25zIGRvY3VtZW50YXRpb24uXG4gKiBAc2VlXG4gKiB7QGxpbmsgaHR0cHM6Ly9saXQuZGV2L2RvY3MvbGlicmFyaWVzL3N0YW5kYWxvbmUtdGVtcGxhdGVzLyNyZW5kZXJpbmctbGl0LWh0bWwtdGVtcGxhdGVzfCBSZW5kZXJpbmcgTGl0IEhUTUwgVGVtcGxhdGVzfVxuICovXG5leHBvcnQgY29uc3QgcmVuZGVyID0gKFxuICB2YWx1ZTogdW5rbm93bixcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQsXG4gIG9wdGlvbnM/OiBSZW5kZXJPcHRpb25zXG4pOiBSb290UGFydCA9PiB7XG4gIGlmIChERVZfTU9ERSAmJiBjb250YWluZXIgPT0gbnVsbCkge1xuICAgIC8vIEdpdmUgYSBjbGVhcmVyIGVycm9yIG1lc3NhZ2UgdGhhblxuICAgIC8vICAgICBVbmNhdWdodCBUeXBlRXJyb3I6IENhbm5vdCByZWFkIHByb3BlcnRpZXMgb2YgbnVsbCAocmVhZGluZ1xuICAgIC8vICAgICAnXyRsaXRQYXJ0JCcpXG4gICAgLy8gd2hpY2ggcmVhZHMgbGlrZSBhbiBpbnRlcm5hbCBMaXQgZXJyb3IuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIGNvbnRhaW5lciB0byByZW5kZXIgaW50byBtYXkgbm90IGJlICR7Y29udGFpbmVyfWApO1xuICB9XG4gIGNvbnN0IHJlbmRlcklkID0gREVWX01PREUgPyBkZWJ1Z0xvZ1JlbmRlcklkKysgOiAwO1xuICBjb25zdCBwYXJ0T3duZXJOb2RlID0gb3B0aW9ucz8ucmVuZGVyQmVmb3JlID8/IGNvbnRhaW5lcjtcbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgbGV0IHBhcnQ6IENoaWxkUGFydCA9IChwYXJ0T3duZXJOb2RlIGFzIGFueSlbJ18kbGl0UGFydCQnXTtcbiAgZGVidWdMb2dFdmVudCAmJlxuICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAga2luZDogJ2JlZ2luIHJlbmRlcicsXG4gICAgICBpZDogcmVuZGVySWQsXG4gICAgICB2YWx1ZSxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIG9wdGlvbnMsXG4gICAgICBwYXJ0LFxuICAgIH0pO1xuICBpZiAocGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgZW5kTm9kZSA9IG9wdGlvbnM/LnJlbmRlckJlZm9yZSA/PyBudWxsO1xuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAocGFydE93bmVyTm9kZSBhcyBhbnkpWydfJGxpdFBhcnQkJ10gPSBwYXJ0ID0gbmV3IENoaWxkUGFydChcbiAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIGVuZE5vZGUpLFxuICAgICAgZW5kTm9kZSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIG9wdGlvbnMgPz8ge31cbiAgICApO1xuICB9XG4gIHBhcnQuXyRzZXRWYWx1ZSh2YWx1ZSk7XG4gIGRlYnVnTG9nRXZlbnQgJiZcbiAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgIGtpbmQ6ICdlbmQgcmVuZGVyJyxcbiAgICAgIGlkOiByZW5kZXJJZCxcbiAgICAgIHZhbHVlLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIHBhcnQsXG4gICAgfSk7XG4gIHJldHVybiBwYXJ0IGFzIFJvb3RQYXJ0O1xufTtcblxuaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICByZW5kZXIuc2V0U2FuaXRpemVyID0gc2V0U2FuaXRpemVyO1xuICByZW5kZXIuY3JlYXRlU2FuaXRpemVyID0gY3JlYXRlU2FuaXRpemVyO1xuICBpZiAoREVWX01PREUpIHtcbiAgICByZW5kZXIuX3Rlc3RPbmx5Q2xlYXJTYW5pdGl6ZXJGYWN0b3J5RG9Ob3RDYWxsT3JFbHNlID1cbiAgICAgIF90ZXN0T25seUNsZWFyU2FuaXRpemVyRmFjdG9yeURvTm90Q2FsbE9yRWxzZTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG4vKipcbiAqIFRoZSBtYWluIExpdEVsZW1lbnQgbW9kdWxlLCB3aGljaCBkZWZpbmVzIHRoZSB7QGxpbmtjb2RlIExpdEVsZW1lbnR9IGJhc2VcbiAqIGNsYXNzIGFuZCByZWxhdGVkIEFQSXMuXG4gKlxuICogTGl0RWxlbWVudCBjb21wb25lbnRzIGNhbiBkZWZpbmUgYSB0ZW1wbGF0ZSBhbmQgYSBzZXQgb2Ygb2JzZXJ2ZWRcbiAqIHByb3BlcnRpZXMuIENoYW5naW5nIGFuIG9ic2VydmVkIHByb3BlcnR5IHRyaWdnZXJzIGEgcmUtcmVuZGVyIG9mIHRoZVxuICogZWxlbWVudC5cbiAqXG4gKiBJbXBvcnQge0BsaW5rY29kZSBMaXRFbGVtZW50fSBhbmQge0BsaW5rY29kZSBodG1sfSBmcm9tIHRoaXMgbW9kdWxlIHRvXG4gKiBjcmVhdGUgYSBjb21wb25lbnQ6XG4gKlxuICogIGBgYGpzXG4gKiBpbXBvcnQge0xpdEVsZW1lbnQsIGh0bWx9IGZyb20gJ2xpdC1lbGVtZW50JztcbiAqXG4gKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAqXG4gKiAgIC8vIERlY2xhcmUgb2JzZXJ2ZWQgcHJvcGVydGllc1xuICogICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgIGFkamVjdGl2ZToge31cbiAqICAgICB9XG4gKiAgIH1cbiAqXG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgIHRoaXMuYWRqZWN0aXZlID0gJ2F3ZXNvbWUnO1xuICogICB9XG4gKlxuICogICAvLyBEZWZpbmUgdGhlIGVsZW1lbnQncyB0ZW1wbGF0ZVxuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgPHA+eW91ciAke2FkamVjdGl2ZX0gdGVtcGxhdGUgaGVyZTwvcD5gO1xuICogICB9XG4gKiB9XG4gKlxuICogY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1lbGVtZW50JywgTXlFbGVtZW50KTtcbiAqIGBgYFxuICpcbiAqIGBMaXRFbGVtZW50YCBleHRlbmRzIHtAbGlua2NvZGUgUmVhY3RpdmVFbGVtZW50fSBhbmQgYWRkcyBsaXQtaHRtbFxuICogdGVtcGxhdGluZy4gVGhlIGBSZWFjdGl2ZUVsZW1lbnRgIGNsYXNzIGlzIHByb3ZpZGVkIGZvciB1c2VycyB0aGF0IHdhbnQgdG9cbiAqIGJ1aWxkIHRoZWlyIG93biBjdXN0b20gZWxlbWVudCBiYXNlIGNsYXNzZXMgdGhhdCBkb24ndCB1c2UgbGl0LWh0bWwuXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKi9cbmltcG9ydCB7UHJvcGVydHlWYWx1ZXMsIFJlYWN0aXZlRWxlbWVudH0gZnJvbSAnQGxpdC9yZWFjdGl2ZS1lbGVtZW50JztcbmltcG9ydCB7cmVuZGVyLCBSZW5kZXJPcHRpb25zLCBub0NoYW5nZSwgUm9vdFBhcnR9IGZyb20gJ2xpdC1odG1sJztcbmV4cG9ydCAqIGZyb20gJ0BsaXQvcmVhY3RpdmUtZWxlbWVudCc7XG5leHBvcnQgKiBmcm9tICdsaXQtaHRtbCc7XG5cbmltcG9ydCB7TGl0VW5zdGFibGV9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCB7UmVhY3RpdmVVbnN0YWJsZX0gZnJvbSAnQGxpdC9yZWFjdGl2ZS1lbGVtZW50JztcblxuLyoqXG4gKiBDb250YWlucyB0eXBlcyB0aGF0IGFyZSBwYXJ0IG9mIHRoZSB1bnN0YWJsZSBkZWJ1ZyBBUEkuXG4gKlxuICogRXZlcnl0aGluZyBpbiB0aGlzIEFQSSBpcyBub3Qgc3RhYmxlIGFuZCBtYXkgY2hhbmdlIG9yIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSxcbiAqIGV2ZW4gb24gcGF0Y2ggcmVsZWFzZXMuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG5leHBvcnQgbmFtZXNwYWNlIFVuc3RhYmxlIHtcbiAgLyoqXG4gICAqIFdoZW4gTGl0IGlzIHJ1bm5pbmcgaW4gZGV2IG1vZGUgYW5kIGB3aW5kb3cuZW1pdExpdERlYnVnTG9nRXZlbnRzYCBpcyB0cnVlLFxuICAgKiB3ZSB3aWxsIGVtaXQgJ2xpdC1kZWJ1ZycgZXZlbnRzIHRvIHdpbmRvdywgd2l0aCBsaXZlIGRldGFpbHMgYWJvdXQgdGhlIHVwZGF0ZSBhbmQgcmVuZGVyXG4gICAqIGxpZmVjeWNsZS4gVGhlc2UgY2FuIGJlIHVzZWZ1bCBmb3Igd3JpdGluZyBkZWJ1ZyB0b29saW5nIGFuZCB2aXN1YWxpemF0aW9ucy5cbiAgICpcbiAgICogUGxlYXNlIGJlIGF3YXJlIHRoYXQgcnVubmluZyB3aXRoIHdpbmRvdy5lbWl0TGl0RGVidWdMb2dFdmVudHMgaGFzIHBlcmZvcm1hbmNlIG92ZXJoZWFkLFxuICAgKiBtYWtpbmcgY2VydGFpbiBvcGVyYXRpb25zIHRoYXQgYXJlIG5vcm1hbGx5IHZlcnkgY2hlYXAgKGxpa2UgYSBuby1vcCByZW5kZXIpIG11Y2ggc2xvd2VyLFxuICAgKiBiZWNhdXNlIHdlIG11c3QgY29weSBkYXRhIGFuZCBkaXNwYXRjaCBldmVudHMuXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxuICBleHBvcnQgbmFtZXNwYWNlIERlYnVnTG9nIHtcbiAgICBleHBvcnQgdHlwZSBFbnRyeSA9XG4gICAgICB8IExpdFVuc3RhYmxlLkRlYnVnTG9nLkVudHJ5XG4gICAgICB8IFJlYWN0aXZlVW5zdGFibGUuRGVidWdMb2cuRW50cnk7XG4gIH1cbn1cbi8qXG4gKiBXaGVuIHVzaW5nIENsb3N1cmUgQ29tcGlsZXIsIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkocHJvcGVydHksIG9iamVjdCkgaXNcbiAqIHJlcGxhY2VkIGF0IGNvbXBpbGUgdGltZSBieSB0aGUgbXVuZ2VkIG5hbWUgZm9yIG9iamVjdFtwcm9wZXJ0eV0uIFdlIGNhbm5vdFxuICogYWxpYXMgdGhpcyBmdW5jdGlvbiwgc28gd2UgaGF2ZSB0byB1c2UgYSBzbWFsbCBzaGltIHRoYXQgaGFzIHRoZSBzYW1lXG4gKiBiZWhhdmlvciB3aGVuIG5vdCBjb21waWxpbmcuXG4gKi9cbi8qQF9fSU5MSU5FX18qL1xuY29uc3QgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSA9IDxQIGV4dGVuZHMgUHJvcGVydHlLZXk+KFxuICBwcm9wOiBQLFxuICBfb2JqOiB1bmtub3duXG4pOiBQID0+IHByb3A7XG5cbmNvbnN0IERFVl9NT0RFID0gdHJ1ZTtcbi8vIEFsbG93cyBtaW5pZmllcnMgdG8gcmVuYW1lIHJlZmVyZW5jZXMgdG8gZ2xvYmFsVGhpc1xuY29uc3QgZ2xvYmFsID0gZ2xvYmFsVGhpcztcblxubGV0IGlzc3VlV2FybmluZzogKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB2b2lkO1xuXG5pZiAoREVWX01PREUpIHtcbiAgLy8gRW5zdXJlIHdhcm5pbmdzIGFyZSBpc3N1ZWQgb25seSAxeCwgZXZlbiBpZiBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXRcbiAgLy8gYXJlIGxvYWRlZC5cbiAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzID8/PSBuZXcgU2V0KCk7XG5cbiAgLyoqXG4gICAqIElzc3VlIGEgd2FybmluZyBpZiB3ZSBoYXZlbid0IGFscmVhZHksIGJhc2VkIGVpdGhlciBvbiBgY29kZWAgb3IgYHdhcm5pbmdgLlxuICAgKiBXYXJuaW5ncyBhcmUgZGlzYWJsZWQgYXV0b21hdGljYWxseSBvbmx5IGJ5IGB3YXJuaW5nYDsgZGlzYWJsaW5nIHZpYSBgY29kZWBcbiAgICogY2FuIGJlIGRvbmUgYnkgdXNlcnMuXG4gICAqL1xuICBpc3N1ZVdhcm5pbmcgPSAoY29kZTogc3RyaW5nLCB3YXJuaW5nOiBzdHJpbmcpID0+IHtcbiAgICB3YXJuaW5nICs9IGAgU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvJHtjb2RlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gO1xuICAgIGlmIChcbiAgICAgICFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmhhcyh3YXJuaW5nKSAmJlxuICAgICAgIWdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyEuaGFzKGNvZGUpXG4gICAgKSB7XG4gICAgICBjb25zb2xlLndhcm4od2FybmluZyk7XG4gICAgICBnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmFkZCh3YXJuaW5nKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHRoYXQgbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMsIGFuZFxuICogcmVuZGVycyBhIGxpdC1odG1sIHRlbXBsYXRlLlxuICpcbiAqIFRvIGRlZmluZSBhIGNvbXBvbmVudCwgc3ViY2xhc3MgYExpdEVsZW1lbnRgIGFuZCBpbXBsZW1lbnQgYVxuICogYHJlbmRlcmAgbWV0aG9kIHRvIHByb3ZpZGUgdGhlIGNvbXBvbmVudCdzIHRlbXBsYXRlLiBEZWZpbmUgcHJvcGVydGllc1xuICogdXNpbmcgdGhlIHtAbGlua2NvZGUgTGl0RWxlbWVudC5wcm9wZXJ0aWVzIHByb3BlcnRpZXN9IHByb3BlcnR5IG9yIHRoZVxuICoge0BsaW5rY29kZSBwcm9wZXJ0eX0gZGVjb3JhdG9yLlxuICovXG5leHBvcnQgY2xhc3MgTGl0RWxlbWVudCBleHRlbmRzIFJlYWN0aXZlRWxlbWVudCB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIHN0YXRpYyBbJ18kbGl0RWxlbWVudCQnXSA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHJlYWRvbmx5IHJlbmRlck9wdGlvbnM6IFJlbmRlck9wdGlvbnMgPSB7aG9zdDogdGhpc307XG5cbiAgcHJpdmF0ZSBfX2NoaWxkUGFydDogUm9vdFBhcnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHByb3RlY3RlZCBvdmVycmlkZSBjcmVhdGVSZW5kZXJSb290KCkge1xuICAgIGNvbnN0IHJlbmRlclJvb3QgPSBzdXBlci5jcmVhdGVSZW5kZXJSb290KCk7XG4gICAgLy8gV2hlbiBhZG9wdGVkU3R5bGVTaGVldHMgYXJlIHNoaW1tZWQsIHRoZXkgYXJlIGluc2VydGVkIGludG8gdGhlXG4gICAgLy8gc2hhZG93Um9vdCBieSBjcmVhdGVSZW5kZXJSb290LiBBZGp1c3QgdGhlIHJlbmRlckJlZm9yZSBub2RlIHNvIHRoYXRcbiAgICAvLyBhbnkgc3R5bGVzIGluIExpdCBjb250ZW50IHJlbmRlciBiZWZvcmUgYWRvcHRlZFN0eWxlU2hlZXRzLiBUaGlzIGlzXG4gICAgLy8gaW1wb3J0YW50IHNvIHRoYXQgYWRvcHRlZFN0eWxlU2hlZXRzIGhhdmUgcHJlY2VkZW5jZSBvdmVyIHN0eWxlcyBpblxuICAgIC8vIHRoZSBzaGFkb3dSb290LlxuICAgIHRoaXMucmVuZGVyT3B0aW9ucy5yZW5kZXJCZWZvcmUgPz89IHJlbmRlclJvb3QhLmZpcnN0Q2hpbGQgYXMgQ2hpbGROb2RlO1xuICAgIHJldHVybiByZW5kZXJSb290O1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGVsZW1lbnQuIFRoaXMgbWV0aG9kIHJlZmxlY3RzIHByb3BlcnR5IHZhbHVlcyB0byBhdHRyaWJ1dGVzXG4gICAqIGFuZCBjYWxscyBgcmVuZGVyYCB0byByZW5kZXIgRE9NIHZpYSBsaXQtaHRtbC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZVxuICAgKiB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXIgYW5vdGhlciB1cGRhdGUuXG4gICAqIEBwYXJhbSBjaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIHVwZGF0ZShjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICAvLyBTZXR0aW5nIHByb3BlcnRpZXMgaW4gYHJlbmRlcmAgc2hvdWxkIG5vdCB0cmlnZ2VyIGFuIHVwZGF0ZS4gU2luY2VcbiAgICAvLyB1cGRhdGVzIGFyZSBhbGxvd2VkIGFmdGVyIHN1cGVyLnVwZGF0ZSwgaXQncyBpbXBvcnRhbnQgdG8gY2FsbCBgcmVuZGVyYFxuICAgIC8vIGJlZm9yZSB0aGF0LlxuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5yZW5kZXIoKTtcbiAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgdGhpcy5yZW5kZXJPcHRpb25zLmlzQ29ubmVjdGVkID0gdGhpcy5pc0Nvbm5lY3RlZDtcbiAgICB9XG4gICAgc3VwZXIudXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICB0aGlzLl9fY2hpbGRQYXJ0ID0gcmVuZGVyKHZhbHVlLCB0aGlzLnJlbmRlclJvb3QsIHRoaXMucmVuZGVyT3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgYWRkZWQgdG8gdGhlIGRvY3VtZW50J3MgRE9NLlxuICAgKlxuICAgKiBJbiBgY29ubmVjdGVkQ2FsbGJhY2soKWAgeW91IHNob3VsZCBzZXR1cCB0YXNrcyB0aGF0IHNob3VsZCBvbmx5IG9jY3VyIHdoZW5cbiAgICogdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHRvIHRoZSBkb2N1bWVudC4gVGhlIG1vc3QgY29tbW9uIG9mIHRoZXNlIGlzXG4gICAqIGFkZGluZyBldmVudCBsaXN0ZW5lcnMgdG8gbm9kZXMgZXh0ZXJuYWwgdG8gdGhlIGVsZW1lbnQsIGxpa2UgYSBrZXlkb3duXG4gICAqIGV2ZW50IGhhbmRsZXIgYWRkZWQgdG8gdGhlIHdpbmRvdy5cbiAgICpcbiAgICogYGBgdHNcbiAgICogY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAqICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICogICBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bik7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIFR5cGljYWxseSwgYW55dGhpbmcgZG9uZSBpbiBgY29ubmVjdGVkQ2FsbGJhY2soKWAgc2hvdWxkIGJlIHVuZG9uZSB3aGVuIHRoZVxuICAgKiBlbGVtZW50IGlzIGRpc2Nvbm5lY3RlZCwgaW4gYGRpc2Nvbm5lY3RlZENhbGxiYWNrKClgLlxuICAgKlxuICAgKiBAY2F0ZWdvcnkgbGlmZWN5Y2xlXG4gICAqL1xuICBvdmVycmlkZSBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuX19jaGlsZFBhcnQ/LnNldENvbm5lY3RlZCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZW1vdmVkIGZyb20gdGhlIGRvY3VtZW50J3MgRE9NLlxuICAgKlxuICAgKiBUaGlzIGNhbGxiYWNrIGlzIHRoZSBtYWluIHNpZ25hbCB0byB0aGUgZWxlbWVudCB0aGF0IGl0IG1heSBubyBsb25nZXIgYmVcbiAgICogdXNlZC4gYGRpc2Nvbm5lY3RlZENhbGxiYWNrKClgIHNob3VsZCBlbnN1cmUgdGhhdCBub3RoaW5nIGlzIGhvbGRpbmcgYVxuICAgKiByZWZlcmVuY2UgdG8gdGhlIGVsZW1lbnQgKHN1Y2ggYXMgZXZlbnQgbGlzdGVuZXJzIGFkZGVkIHRvIG5vZGVzIGV4dGVybmFsXG4gICAqIHRvIHRoZSBlbGVtZW50KSwgc28gdGhhdCBpdCBpcyBmcmVlIHRvIGJlIGdhcmJhZ2UgY29sbGVjdGVkLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICogICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgKiAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bik7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEFuIGVsZW1lbnQgbWF5IGJlIHJlLWNvbm5lY3RlZCBhZnRlciBiZWluZyBkaXNjb25uZWN0ZWQuXG4gICAqXG4gICAqIEBjYXRlZ29yeSBsaWZlY3ljbGVcbiAgICovXG4gIG92ZXJyaWRlIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5fX2NoaWxkUGFydD8uc2V0Q29ubmVjdGVkKGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIG9uIGVhY2ggdXBkYXRlIHRvIHBlcmZvcm0gcmVuZGVyaW5nIHRhc2tzLiBUaGlzIG1ldGhvZCBtYXkgcmV0dXJuXG4gICAqIGFueSB2YWx1ZSByZW5kZXJhYmxlIGJ5IGxpdC1odG1sJ3MgYENoaWxkUGFydGAgLSB0eXBpY2FsbHkgYVxuICAgKiBgVGVtcGxhdGVSZXN1bHRgLiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgKiB0aGUgZWxlbWVudCB0byB1cGRhdGUuXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHByb3RlY3RlZCByZW5kZXIoKTogdW5rbm93biB7XG4gICAgcmV0dXJuIG5vQ2hhbmdlO1xuICB9XG59XG5cbi8qKlxuICogRW5zdXJlIHRoaXMgY2xhc3MgaXMgbWFya2VkIGFzIGBmaW5hbGl6ZWRgIGFzIGFuIG9wdGltaXphdGlvbiBlbnN1cmluZ1xuICogaXQgd2lsbCBub3QgbmVlZGxlc3NseSB0cnkgdG8gYGZpbmFsaXplYC5cbiAqXG4gKiBOb3RlIHRoaXMgcHJvcGVydHkgbmFtZSBpcyBhIHN0cmluZyB0byBwcmV2ZW50IGJyZWFraW5nIENsb3N1cmUgSlMgQ29tcGlsZXJcbiAqIG9wdGltaXphdGlvbnMuIFNlZSBAbGl0L3JlYWN0aXZlLWVsZW1lbnQgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbihMaXRFbGVtZW50IGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW1xuICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCBMaXRFbGVtZW50KVxuXSA9IHRydWU7XG5cbi8vIEluc3RhbGwgaHlkcmF0aW9uIGlmIGF2YWlsYWJsZVxuZ2xvYmFsLmxpdEVsZW1lbnRIeWRyYXRlU3VwcG9ydD8uKHtMaXRFbGVtZW50fSk7XG5cbi8vIEFwcGx5IHBvbHlmaWxscyBpZiBhdmFpbGFibGVcbmNvbnN0IHBvbHlmaWxsU3VwcG9ydCA9IERFVl9NT0RFXG4gID8gZ2xvYmFsLmxpdEVsZW1lbnRQb2x5ZmlsbFN1cHBvcnREZXZNb2RlXG4gIDogZ2xvYmFsLmxpdEVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQ7XG5wb2x5ZmlsbFN1cHBvcnQ/Lih7TGl0RWxlbWVudH0pO1xuXG4vKipcbiAqIEVORCBVU0VSUyBTSE9VTEQgTk9UIFJFTFkgT04gVEhJUyBPQkpFQ1QuXG4gKlxuICogUHJpdmF0ZSBleHBvcnRzIGZvciB1c2UgYnkgb3RoZXIgTGl0IHBhY2thZ2VzLCBub3QgaW50ZW5kZWQgZm9yIHVzZSBieVxuICogZXh0ZXJuYWwgdXNlcnMuXG4gKlxuICogV2UgY3VycmVudGx5IGRvIG5vdCBtYWtlIGEgbWFuZ2xlZCByb2xsdXAgYnVpbGQgb2YgdGhlIGxpdC1zc3IgY29kZS4gSW4gb3JkZXJcbiAqIHRvIGtlZXAgYSBudW1iZXIgb2YgKG90aGVyd2lzZSBwcml2YXRlKSB0b3AtbGV2ZWwgZXhwb3J0cyAgbWFuZ2xlZCBpbiB0aGVcbiAqIGNsaWVudCBzaWRlIGNvZGUsIHdlIGV4cG9ydCBhIF8kTEUgb2JqZWN0IGNvbnRhaW5pbmcgdGhvc2UgbWVtYmVycyAob3JcbiAqIGhlbHBlciBtZXRob2RzIGZvciBhY2Nlc3NpbmcgcHJpdmF0ZSBmaWVsZHMgb2YgdGhvc2UgbWVtYmVycyksIGFuZCB0aGVuXG4gKiByZS1leHBvcnQgdGhlbSBmb3IgdXNlIGluIGxpdC1zc3IuIFRoaXMga2VlcHMgbGl0LXNzciBhZ25vc3RpYyB0byB3aGV0aGVyIHRoZVxuICogY2xpZW50LXNpZGUgY29kZSBpcyBiZWluZyB1c2VkIGluIGBkZXZgIG1vZGUgb3IgYHByb2RgIG1vZGUuXG4gKlxuICogVGhpcyBoYXMgYSB1bmlxdWUgbmFtZSwgdG8gZGlzYW1iaWd1YXRlIGl0IGZyb20gcHJpdmF0ZSBleHBvcnRzIGluXG4gKiBsaXQtaHRtbCwgc2luY2UgdGhpcyBtb2R1bGUgcmUtZXhwb3J0cyBhbGwgb2YgbGl0LWh0bWwuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IF8kTEUgPSB7XG4gIF8kYXR0cmlidXRlVG9Qcm9wZXJ0eTogKFxuICAgIGVsOiBMaXRFbGVtZW50LFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB2YWx1ZTogc3RyaW5nIHwgbnVsbFxuICApID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAoZWwgYXMgYW55KS5fJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICB9LFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgXyRjaGFuZ2VkUHJvcGVydGllczogKGVsOiBMaXRFbGVtZW50KSA9PiAoZWwgYXMgYW55KS5fJGNoYW5nZWRQcm9wZXJ0aWVzLFxufTtcblxuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBMaXRFbGVtZW50IHVzYWdlLlxuKGdsb2JhbC5saXRFbGVtZW50VmVyc2lvbnMgPz89IFtdKS5wdXNoKCc0LjIuMCcpO1xuaWYgKERFVl9NT0RFICYmIGdsb2JhbC5saXRFbGVtZW50VmVyc2lvbnMubGVuZ3RoID4gMSkge1xuICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgaXNzdWVXYXJuaW5nIShcbiAgICAgICdtdWx0aXBsZS12ZXJzaW9ucycsXG4gICAgICBgTXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0IGxvYWRlZC4gTG9hZGluZyBtdWx0aXBsZSB2ZXJzaW9ucyBgICtcbiAgICAgICAgYGlzIG5vdCByZWNvbW1lbmRlZC5gXG4gICAgKTtcbiAgfSk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8qXG4gKiBJTVBPUlRBTlQ6IEZvciBjb21wYXRpYmlsaXR5IHdpdGggdHNpY2tsZSBhbmQgdGhlIENsb3N1cmUgSlMgY29tcGlsZXIsIGFsbFxuICogcHJvcGVydHkgZGVjb3JhdG9ycyAoYnV0IG5vdCBjbGFzcyBkZWNvcmF0b3JzKSBpbiB0aGlzIGZpbGUgdGhhdCBoYXZlXG4gKiBhbiBARXhwb3J0RGVjb3JhdGVkSXRlbXMgYW5ub3RhdGlvbiBtdXN0IGJlIGRlZmluZWQgYXMgYSByZWd1bGFyIGZ1bmN0aW9uLFxuICogbm90IGFuIGFycm93IGZ1bmN0aW9uLlxuICovXG5cbmltcG9ydCB0eXBlIHtDb25zdHJ1Y3Rvcn0gZnJvbSAnLi9iYXNlLmpzJztcblxuLyoqXG4gKiBBbGxvdyBmb3IgY3VzdG9tIGVsZW1lbnQgY2xhc3NlcyB3aXRoIHByaXZhdGUgY29uc3RydWN0b3JzXG4gKi9cbnR5cGUgQ3VzdG9tRWxlbWVudENsYXNzID0gT21pdDx0eXBlb2YgSFRNTEVsZW1lbnQsICduZXcnPjtcblxuZXhwb3J0IHR5cGUgQ3VzdG9tRWxlbWVudERlY29yYXRvciA9IHtcbiAgLy8gbGVnYWN5XG4gIChjbHM6IEN1c3RvbUVsZW1lbnRDbGFzcyk6IHZvaWQ7XG5cbiAgLy8gc3RhbmRhcmRcbiAgKFxuICAgIHRhcmdldDogQ3VzdG9tRWxlbWVudENsYXNzLFxuICAgIGNvbnRleHQ6IENsYXNzRGVjb3JhdG9yQ29udGV4dDxDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD4+XG4gICk6IHZvaWQ7XG59O1xuXG4vKipcbiAqIENsYXNzIGRlY29yYXRvciBmYWN0b3J5IHRoYXQgZGVmaW5lcyB0aGUgZGVjb3JhdGVkIGNsYXNzIGFzIGEgY3VzdG9tIGVsZW1lbnQuXG4gKlxuICogYGBganNcbiAqIEBjdXN0b21FbGVtZW50KCdteS1lbGVtZW50JylcbiAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgYDtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBAY2F0ZWdvcnkgRGVjb3JhdG9yXG4gKiBAcGFyYW0gdGFnTmFtZSBUaGUgdGFnIG5hbWUgb2YgdGhlIGN1c3RvbSBlbGVtZW50IHRvIGRlZmluZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGN1c3RvbUVsZW1lbnQgPVxuICAodGFnTmFtZTogc3RyaW5nKTogQ3VzdG9tRWxlbWVudERlY29yYXRvciA9PlxuICAoXG4gICAgY2xhc3NPclRhcmdldDogQ3VzdG9tRWxlbWVudENsYXNzIHwgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+LFxuICAgIGNvbnRleHQ/OiBDbGFzc0RlY29yYXRvckNvbnRleHQ8Q29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+PlxuICApID0+IHtcbiAgICBpZiAoY29udGV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyKCgpID0+IHtcbiAgICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFxuICAgICAgICAgIHRhZ05hbWUsXG4gICAgICAgICAgY2xhc3NPclRhcmdldCBhcyBDdXN0b21FbGVtZW50Q29uc3RydWN0b3JcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhc3NPclRhcmdldCBhcyBDdXN0b21FbGVtZW50Q29uc3RydWN0b3IpO1xuICAgIH1cbiAgfTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLypcbiAqIElNUE9SVEFOVDogRm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0c2lja2xlIGFuZCB0aGUgQ2xvc3VyZSBKUyBjb21waWxlciwgYWxsXG4gKiBwcm9wZXJ0eSBkZWNvcmF0b3JzIChidXQgbm90IGNsYXNzIGRlY29yYXRvcnMpIGluIHRoaXMgZmlsZSB0aGF0IGhhdmVcbiAqIGFuIEBFeHBvcnREZWNvcmF0ZWRJdGVtcyBhbm5vdGF0aW9uIG11c3QgYmUgZGVmaW5lZCBhcyBhIHJlZ3VsYXIgZnVuY3Rpb24sXG4gKiBub3QgYW4gYXJyb3cgZnVuY3Rpb24uXG4gKi9cblxuaW1wb3J0IHtcbiAgdHlwZSBQcm9wZXJ0eURlY2xhcmF0aW9uLFxuICB0eXBlIFJlYWN0aXZlRWxlbWVudCxcbiAgZGVmYXVsdENvbnZlcnRlcixcbiAgbm90RXF1YWwsXG59IGZyb20gJy4uL3JlYWN0aXZlLWVsZW1lbnQuanMnO1xuaW1wb3J0IHR5cGUge0ludGVyZmFjZX0gZnJvbSAnLi9iYXNlLmpzJztcblxuY29uc3QgREVWX01PREUgPSB0cnVlO1xuXG5sZXQgaXNzdWVXYXJuaW5nOiAoY29kZTogc3RyaW5nLCB3YXJuaW5nOiBzdHJpbmcpID0+IHZvaWQ7XG5cbmlmIChERVZfTU9ERSkge1xuICAvLyBFbnN1cmUgd2FybmluZ3MgYXJlIGlzc3VlZCBvbmx5IDF4LCBldmVuIGlmIG11bHRpcGxlIHZlcnNpb25zIG9mIExpdFxuICAvLyBhcmUgbG9hZGVkLlxuICBnbG9iYWxUaGlzLmxpdElzc3VlZFdhcm5pbmdzID8/PSBuZXcgU2V0KCk7XG5cbiAgLyoqXG4gICAqIElzc3VlIGEgd2FybmluZyBpZiB3ZSBoYXZlbid0IGFscmVhZHksIGJhc2VkIGVpdGhlciBvbiBgY29kZWAgb3IgYHdhcm5pbmdgLlxuICAgKiBXYXJuaW5ncyBhcmUgZGlzYWJsZWQgYXV0b21hdGljYWxseSBvbmx5IGJ5IGB3YXJuaW5nYDsgZGlzYWJsaW5nIHZpYSBgY29kZWBcbiAgICogY2FuIGJlIGRvbmUgYnkgdXNlcnMuXG4gICAqL1xuICBpc3N1ZVdhcm5pbmcgPSAoY29kZTogc3RyaW5nLCB3YXJuaW5nOiBzdHJpbmcpID0+IHtcbiAgICB3YXJuaW5nICs9IGAgU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvJHtjb2RlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gO1xuICAgIGlmIChcbiAgICAgICFnbG9iYWxUaGlzLmxpdElzc3VlZFdhcm5pbmdzIS5oYXMod2FybmluZykgJiZcbiAgICAgICFnbG9iYWxUaGlzLmxpdElzc3VlZFdhcm5pbmdzIS5oYXMoY29kZSlcbiAgICApIHtcbiAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgIGdsb2JhbFRoaXMubGl0SXNzdWVkV2FybmluZ3MhLmFkZCh3YXJuaW5nKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIE92ZXJsb2FkcyBmb3IgcHJvcGVydHkgZGVjb3JhdG9yIHNvIHRoYXQgVHlwZVNjcmlwdCBjYW4gaW5mZXIgdGhlIGNvcnJlY3Rcbi8vIHJldHVybiB0eXBlIHdoZW4gYSBkZWNvcmF0b3IgaXMgdXNlZCBhcyBhbiBhY2Nlc3NvciBkZWNvcmF0b3Igb3IgYSBzZXR0ZXJcbi8vIGRlY29yYXRvci5cbmV4cG9ydCB0eXBlIFByb3BlcnR5RGVjb3JhdG9yID0ge1xuICAvLyBhY2Nlc3NvciBkZWNvcmF0b3Igc2lnbmF0dXJlXG4gIDxDIGV4dGVuZHMgSW50ZXJmYWNlPFJlYWN0aXZlRWxlbWVudD4sIFY+KFxuICAgIHRhcmdldDogQ2xhc3NBY2Nlc3NvckRlY29yYXRvclRhcmdldDxDLCBWPixcbiAgICBjb250ZXh0OiBDbGFzc0FjY2Vzc29yRGVjb3JhdG9yQ29udGV4dDxDLCBWPlxuICApOiBDbGFzc0FjY2Vzc29yRGVjb3JhdG9yUmVzdWx0PEMsIFY+O1xuXG4gIC8vIHNldHRlciBkZWNvcmF0b3Igc2lnbmF0dXJlXG4gIDxDIGV4dGVuZHMgSW50ZXJmYWNlPFJlYWN0aXZlRWxlbWVudD4sIFY+KFxuICAgIHRhcmdldDogKHZhbHVlOiBWKSA9PiB2b2lkLFxuICAgIGNvbnRleHQ6IENsYXNzU2V0dGVyRGVjb3JhdG9yQ29udGV4dDxDLCBWPlxuICApOiAodGhpczogQywgdmFsdWU6IFYpID0+IHZvaWQ7XG5cbiAgLy8gbGVnYWN5IGRlY29yYXRvciBzaWduYXR1cmVcbiAgKFxuICAgIHByb3RvT3JEZXNjcmlwdG9yOiBPYmplY3QsXG4gICAgbmFtZTogUHJvcGVydHlLZXksXG4gICAgZGVzY3JpcHRvcj86IFByb3BlcnR5RGVzY3JpcHRvclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICk6IGFueTtcbn07XG5cbmNvbnN0IGxlZ2FjeVByb3BlcnR5ID0gKFxuICBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uIHwgdW5kZWZpbmVkLFxuICBwcm90bzogT2JqZWN0LFxuICBuYW1lOiBQcm9wZXJ0eUtleVxuKSA9PiB7XG4gIGNvbnN0IGhhc093blByb3BlcnR5ID0gcHJvdG8uaGFzT3duUHJvcGVydHkobmFtZSk7XG4gIChwcm90by5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KS5jcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgLy8gRm9yIGFjY2Vzc29ycyAod2hpY2ggaGF2ZSBhIGRlc2NyaXB0b3Igb24gdGhlIHByb3RvdHlwZSkgd2UgbmVlZCB0b1xuICAvLyByZXR1cm4gYSBkZXNjcmlwdG9yLCBvdGhlcndpc2UgVHlwZVNjcmlwdCBvdmVyd3JpdGVzIHRoZSBkZXNjcmlwdG9yIHdlXG4gIC8vIGRlZmluZSBpbiBjcmVhdGVQcm9wZXJ0eSgpIHdpdGggdGhlIG9yaWdpbmFsIGRlc2NyaXB0b3IuIFdlIGRvbid0IGRvIHRoaXNcbiAgLy8gZm9yIGZpZWxkcywgd2hpY2ggZG9uJ3QgaGF2ZSBhIGRlc2NyaXB0b3IsIGJlY2F1c2UgdGhpcyBjb3VsZCBvdmVyd3JpdGVcbiAgLy8gZGVzY3JpcHRvciBkZWZpbmVkIGJ5IG90aGVyIGRlY29yYXRvcnMuXG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eVxuICAgID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgbmFtZSlcbiAgICA6IHVuZGVmaW5lZDtcbn07XG5cbi8vIFRoaXMgaXMgZHVwbGljYXRlZCBmcm9tIGEgc2ltaWxhciB2YXJpYWJsZSBpbiByZWFjdGl2ZS1lbGVtZW50LnRzLCBidXRcbi8vIGFjdHVhbGx5IG1ha2VzIHNlbnNlIHRvIGhhdmUgdGhpcyBkZWZhdWx0IGRlZmluZWQgd2l0aCB0aGUgZGVjb3JhdG9yLCBzb1xuLy8gdGhhdCBkaWZmZXJlbnQgZGVjb3JhdG9ycyBjb3VsZCBoYXZlIGRpZmZlcmVudCBkZWZhdWx0cy5cbmNvbnN0IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICBhdHRyaWJ1dGU6IHRydWUsXG4gIHR5cGU6IFN0cmluZyxcbiAgY29udmVydGVyOiBkZWZhdWx0Q29udmVydGVyLFxuICByZWZsZWN0OiBmYWxzZSxcbiAgaGFzQ2hhbmdlZDogbm90RXF1YWwsXG59O1xuXG4vLyBUZW1wb3JhcnkgdHlwZSwgdW50aWwgZ29vZ2xlMyBpcyBvbiBUeXBlU2NyaXB0IDUuMlxudHlwZSBTdGFuZGFyZFByb3BlcnR5Q29udGV4dDxDLCBWPiA9IChcbiAgfCBDbGFzc0FjY2Vzc29yRGVjb3JhdG9yQ29udGV4dDxDLCBWPlxuICB8IENsYXNzU2V0dGVyRGVjb3JhdG9yQ29udGV4dDxDLCBWPlxuKSAmIHttZXRhZGF0YTogb2JqZWN0fTtcblxuLyoqXG4gKiBXcmFwcyBhIGNsYXNzIGFjY2Vzc29yIG9yIHNldHRlciBzbyB0aGF0IGByZXF1ZXN0VXBkYXRlKClgIGlzIGNhbGxlZCB3aXRoIHRoZVxuICogcHJvcGVydHkgbmFtZSBhbmQgb2xkIHZhbHVlIHdoZW4gdGhlIGFjY2Vzc29yIGlzIHNldC5cbiAqL1xuZXhwb3J0IGNvbnN0IHN0YW5kYXJkUHJvcGVydHkgPSA8QyBleHRlbmRzIEludGVyZmFjZTxSZWFjdGl2ZUVsZW1lbnQ+LCBWPihcbiAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uLFxuICB0YXJnZXQ6IENsYXNzQWNjZXNzb3JEZWNvcmF0b3JUYXJnZXQ8QywgVj4gfCAoKHZhbHVlOiBWKSA9PiB2b2lkKSxcbiAgY29udGV4dDogU3RhbmRhcmRQcm9wZXJ0eUNvbnRleHQ8QywgVj5cbik6IENsYXNzQWNjZXNzb3JEZWNvcmF0b3JSZXN1bHQ8QywgVj4gfCAoKHRoaXM6IEMsIHZhbHVlOiBWKSA9PiB2b2lkKSA9PiB7XG4gIGNvbnN0IHtraW5kLCBtZXRhZGF0YX0gPSBjb250ZXh0O1xuXG4gIGlmIChERVZfTU9ERSAmJiBtZXRhZGF0YSA9PSBudWxsKSB7XG4gICAgaXNzdWVXYXJuaW5nKFxuICAgICAgJ21pc3NpbmctY2xhc3MtbWV0YWRhdGEnLFxuICAgICAgYFRoZSBjbGFzcyAke3RhcmdldH0gaXMgbWlzc2luZyBkZWNvcmF0b3IgbWV0YWRhdGEuIFRoaXMgYCArXG4gICAgICAgIGBjb3VsZCBtZWFuIHRoYXQgeW91J3JlIHVzaW5nIGEgY29tcGlsZXIgdGhhdCBzdXBwb3J0cyBkZWNvcmF0b3JzIGAgK1xuICAgICAgICBgYnV0IGRvZXNuJ3Qgc3VwcG9ydCBkZWNvcmF0b3IgbWV0YWRhdGEsIHN1Y2ggYXMgVHlwZVNjcmlwdCA1LjEuIGAgK1xuICAgICAgICBgUGxlYXNlIHVwZGF0ZSB5b3VyIGNvbXBpbGVyLmBcbiAgICApO1xuICB9XG5cbiAgLy8gU3RvcmUgdGhlIHByb3BlcnR5IG9wdGlvbnNcbiAgbGV0IHByb3BlcnRpZXMgPSBnbG9iYWxUaGlzLmxpdFByb3BlcnR5TWV0YWRhdGEuZ2V0KG1ldGFkYXRhKTtcbiAgaWYgKHByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgIGdsb2JhbFRoaXMubGl0UHJvcGVydHlNZXRhZGF0YS5zZXQobWV0YWRhdGEsIChwcm9wZXJ0aWVzID0gbmV3IE1hcCgpKSk7XG4gIH1cbiAgaWYgKGtpbmQgPT09ICdzZXR0ZXInKSB7XG4gICAgb3B0aW9ucyA9IE9iamVjdC5jcmVhdGUob3B0aW9ucyk7XG4gICAgb3B0aW9ucy53cmFwcGVkID0gdHJ1ZTtcbiAgfVxuICBwcm9wZXJ0aWVzLnNldChjb250ZXh0Lm5hbWUsIG9wdGlvbnMpO1xuXG4gIGlmIChraW5kID09PSAnYWNjZXNzb3InKSB7XG4gICAgLy8gU3RhbmRhcmQgZGVjb3JhdG9ycyBjYW5ub3QgZHluYW1pY2FsbHkgbW9kaWZ5IHRoZSBjbGFzcywgc28gd2UgY2FuJ3RcbiAgICAvLyByZXBsYWNlIGEgZmllbGQgd2l0aCBhY2Nlc3NvcnMuIFRoZSB1c2VyIG11c3QgdXNlIHRoZSBuZXcgYGFjY2Vzc29yYFxuICAgIC8vIGtleXdvcmQgaW5zdGVhZC5cbiAgICBjb25zdCB7bmFtZX0gPSBjb250ZXh0O1xuICAgIHJldHVybiB7XG4gICAgICBzZXQodGhpczogUmVhY3RpdmVFbGVtZW50LCB2OiBWKSB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gKFxuICAgICAgICAgIHRhcmdldCBhcyBDbGFzc0FjY2Vzc29yRGVjb3JhdG9yVGFyZ2V0PEMsIFY+XG4gICAgICAgICkuZ2V0LmNhbGwodGhpcyBhcyB1bmtub3duIGFzIEMpO1xuICAgICAgICAodGFyZ2V0IGFzIENsYXNzQWNjZXNzb3JEZWNvcmF0b3JUYXJnZXQ8QywgVj4pLnNldC5jYWxsKFxuICAgICAgICAgIHRoaXMgYXMgdW5rbm93biBhcyBDLFxuICAgICAgICAgIHZcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKTtcbiAgICAgIH0sXG4gICAgICBpbml0KHRoaXM6IFJlYWN0aXZlRWxlbWVudCwgdjogVik6IFYge1xuICAgICAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5fJGNoYW5nZVByb3BlcnR5KG5hbWUsIHVuZGVmaW5lZCwgb3B0aW9ucywgdik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHY7XG4gICAgICB9LFxuICAgIH0gYXMgdW5rbm93biBhcyBDbGFzc0FjY2Vzc29yRGVjb3JhdG9yUmVzdWx0PEMsIFY+O1xuICB9IGVsc2UgaWYgKGtpbmQgPT09ICdzZXR0ZXInKSB7XG4gICAgY29uc3Qge25hbWV9ID0gY29udGV4dDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRoaXM6IFJlYWN0aXZlRWxlbWVudCwgdmFsdWU6IFYpIHtcbiAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpc1tuYW1lIGFzIGtleW9mIFJlYWN0aXZlRWxlbWVudF07XG4gICAgICAodGFyZ2V0IGFzICh2YWx1ZTogVikgPT4gdm9pZCkuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICB0aGlzLnJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUsIG9wdGlvbnMpO1xuICAgIH0gYXMgdW5rbm93biBhcyAodGhpczogQywgdmFsdWU6IFYpID0+IHZvaWQ7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBkZWNvcmF0b3IgbG9jYXRpb246ICR7a2luZH1gKTtcbn07XG5cbi8qKlxuICogQSBjbGFzcyBmaWVsZCBvciBhY2Nlc3NvciBkZWNvcmF0b3Igd2hpY2ggY3JlYXRlcyBhIHJlYWN0aXZlIHByb3BlcnR5IHRoYXRcbiAqIHJlZmxlY3RzIGEgY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUgdmFsdWUuIFdoZW4gYSBkZWNvcmF0ZWQgcHJvcGVydHkgaXMgc2V0XG4gKiB0aGUgZWxlbWVudCB3aWxsIHVwZGF0ZSBhbmQgcmVuZGVyLiBBIHtAbGlua2NvZGUgUHJvcGVydHlEZWNsYXJhdGlvbn0gbWF5XG4gKiBvcHRpb25hbGx5IGJlIHN1cHBsaWVkIHRvIGNvbmZpZ3VyZSBwcm9wZXJ0eSBmZWF0dXJlcy5cbiAqXG4gKiBUaGlzIGRlY29yYXRvciBzaG91bGQgb25seSBiZSB1c2VkIGZvciBwdWJsaWMgZmllbGRzLiBBcyBwdWJsaWMgZmllbGRzLFxuICogcHJvcGVydGllcyBzaG91bGQgYmUgY29uc2lkZXJlZCBhcyBwcmltYXJpbHkgc2V0dGFibGUgYnkgZWxlbWVudCB1c2VycyxcbiAqIGVpdGhlciB2aWEgYXR0cmlidXRlIG9yIHRoZSBwcm9wZXJ0eSBpdHNlbGYuXG4gKlxuICogR2VuZXJhbGx5LCBwcm9wZXJ0aWVzIHRoYXQgYXJlIGNoYW5nZWQgYnkgdGhlIGVsZW1lbnQgc2hvdWxkIGJlIHByaXZhdGUgb3JcbiAqIHByb3RlY3RlZCBmaWVsZHMgYW5kIHNob3VsZCB1c2UgdGhlIHtAbGlua2NvZGUgc3RhdGV9IGRlY29yYXRvci5cbiAqXG4gKiBIb3dldmVyLCBzb21ldGltZXMgZWxlbWVudCBjb2RlIGRvZXMgbmVlZCB0byBzZXQgYSBwdWJsaWMgcHJvcGVydHkuIFRoaXNcbiAqIHNob3VsZCB0eXBpY2FsbHkgb25seSBiZSBkb25lIGluIHJlc3BvbnNlIHRvIHVzZXIgaW50ZXJhY3Rpb24sIGFuZCBhbiBldmVudFxuICogc2hvdWxkIGJlIGZpcmVkIGluZm9ybWluZyB0aGUgdXNlcjsgZm9yIGV4YW1wbGUsIGEgY2hlY2tib3ggc2V0cyBpdHNcbiAqIGBjaGVja2VkYCBwcm9wZXJ0eSB3aGVuIGNsaWNrZWQgYW5kIGZpcmVzIGEgYGNoYW5nZWRgIGV2ZW50LiBNdXRhdGluZyBwdWJsaWNcbiAqIHByb3BlcnRpZXMgc2hvdWxkIHR5cGljYWxseSBub3QgYmUgZG9uZSBmb3Igbm9uLXByaW1pdGl2ZSAob2JqZWN0IG9yIGFycmF5KVxuICogcHJvcGVydGllcy4gSW4gb3RoZXIgY2FzZXMgd2hlbiBhbiBlbGVtZW50IG5lZWRzIHRvIG1hbmFnZSBzdGF0ZSwgYSBwcml2YXRlXG4gKiBwcm9wZXJ0eSBkZWNvcmF0ZWQgdmlhIHRoZSB7QGxpbmtjb2RlIHN0YXRlfSBkZWNvcmF0b3Igc2hvdWxkIGJlIHVzZWQuIFdoZW5cbiAqIG5lZWRlZCwgc3RhdGUgcHJvcGVydGllcyBjYW4gYmUgaW5pdGlhbGl6ZWQgdmlhIHB1YmxpYyBwcm9wZXJ0aWVzIHRvXG4gKiBmYWNpbGl0YXRlIGNvbXBsZXggaW50ZXJhY3Rpb25zLlxuICpcbiAqIGBgYHRzXG4gKiBjbGFzcyBNeUVsZW1lbnQge1xuICogICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG4gKiAgIGNsaWNrZWQgPSBmYWxzZTtcbiAqIH1cbiAqIGBgYFxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9wZXJ0eShvcHRpb25zPzogUHJvcGVydHlEZWNsYXJhdGlvbik6IFByb3BlcnR5RGVjb3JhdG9yIHtcbiAgcmV0dXJuIDxDIGV4dGVuZHMgSW50ZXJmYWNlPFJlYWN0aXZlRWxlbWVudD4sIFY+KFxuICAgIHByb3RvT3JUYXJnZXQ6XG4gICAgICB8IG9iamVjdFxuICAgICAgfCBDbGFzc0FjY2Vzc29yRGVjb3JhdG9yVGFyZ2V0PEMsIFY+XG4gICAgICB8ICgodmFsdWU6IFYpID0+IHZvaWQpLFxuICAgIG5hbWVPckNvbnRleHQ6XG4gICAgICB8IFByb3BlcnR5S2V5XG4gICAgICB8IENsYXNzQWNjZXNzb3JEZWNvcmF0b3JDb250ZXh0PEMsIFY+XG4gICAgICB8IENsYXNzU2V0dGVyRGVjb3JhdG9yQ29udGV4dDxDLCBWPlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICk6IGFueSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiBuYW1lT3JDb250ZXh0ID09PSAnb2JqZWN0J1xuICAgICAgICA/IHN0YW5kYXJkUHJvcGVydHk8QywgVj4oXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgcHJvdG9PclRhcmdldCBhc1xuICAgICAgICAgICAgICB8IENsYXNzQWNjZXNzb3JEZWNvcmF0b3JUYXJnZXQ8QywgVj5cbiAgICAgICAgICAgICAgfCAoKHZhbHVlOiBWKSA9PiB2b2lkKSxcbiAgICAgICAgICAgIG5hbWVPckNvbnRleHQgYXMgU3RhbmRhcmRQcm9wZXJ0eUNvbnRleHQ8QywgVj5cbiAgICAgICAgICApXG4gICAgICAgIDogbGVnYWN5UHJvcGVydHkoXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgcHJvdG9PclRhcmdldCBhcyBPYmplY3QsXG4gICAgICAgICAgICBuYW1lT3JDb250ZXh0IGFzIFByb3BlcnR5S2V5XG4gICAgICAgICAgKVxuICAgICkgYXMgUHJvcGVydHlEZWNvcmF0b3I7XG4gIH07XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8qXG4gKiBJTVBPUlRBTlQ6IEZvciBjb21wYXRpYmlsaXR5IHdpdGggdHNpY2tsZSBhbmQgdGhlIENsb3N1cmUgSlMgY29tcGlsZXIsIGFsbFxuICogcHJvcGVydHkgZGVjb3JhdG9ycyAoYnV0IG5vdCBjbGFzcyBkZWNvcmF0b3JzKSBpbiB0aGlzIGZpbGUgdGhhdCBoYXZlXG4gKiBhbiBARXhwb3J0RGVjb3JhdGVkSXRlbXMgYW5ub3RhdGlvbiBtdXN0IGJlIGRlZmluZWQgYXMgYSByZWd1bGFyIGZ1bmN0aW9uLFxuICogbm90IGFuIGFycm93IGZ1bmN0aW9uLlxuICovXG5cbmltcG9ydCB7cHJvcGVydHl9IGZyb20gJy4vcHJvcGVydHkuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRlRGVjbGFyYXRpb248VHlwZSA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIEEgZnVuY3Rpb24gdGhhdCBpbmRpY2F0ZXMgaWYgYSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBjaGFuZ2VkIHdoZW5cbiAgICogaXQgaXMgc2V0LiBUaGUgZnVuY3Rpb24gc2hvdWxkIHRha2UgdGhlIGBuZXdWYWx1ZWAgYW5kIGBvbGRWYWx1ZWAgYW5kXG4gICAqIHJldHVybiBgdHJ1ZWAgaWYgYW4gdXBkYXRlIHNob3VsZCBiZSByZXF1ZXN0ZWQuXG4gICAqL1xuICBoYXNDaGFuZ2VkPyh2YWx1ZTogVHlwZSwgb2xkVmFsdWU6IFR5cGUpOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBTdGF0ZURlY2xhcmF0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIEludGVybmFsUHJvcGVydHlEZWNsYXJhdGlvbjxUeXBlID0gdW5rbm93bj4gPVxuICBTdGF0ZURlY2xhcmF0aW9uPFR5cGU+O1xuXG4vKipcbiAqIERlY2xhcmVzIGEgcHJpdmF0ZSBvciBwcm90ZWN0ZWQgcmVhY3RpdmUgcHJvcGVydHkgdGhhdCBzdGlsbCB0cmlnZ2Vyc1xuICogdXBkYXRlcyB0byB0aGUgZWxlbWVudCB3aGVuIGl0IGNoYW5nZXMuIEl0IGRvZXMgbm90IHJlZmxlY3QgZnJvbSB0aGVcbiAqIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlLlxuICpcbiAqIFByb3BlcnRpZXMgZGVjbGFyZWQgdGhpcyB3YXkgbXVzdCBub3QgYmUgdXNlZCBmcm9tIEhUTUwgb3IgSFRNTCB0ZW1wbGF0aW5nXG4gKiBzeXN0ZW1zLCB0aGV5J3JlIHNvbGVseSBmb3IgcHJvcGVydGllcyBpbnRlcm5hbCB0byB0aGUgZWxlbWVudC4gVGhlc2VcbiAqIHByb3BlcnRpZXMgbWF5IGJlIHJlbmFtZWQgYnkgb3B0aW1pemF0aW9uIHRvb2xzIGxpa2UgY2xvc3VyZSBjb21waWxlci5cbiAqIEBjYXRlZ29yeSBEZWNvcmF0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXRlKG9wdGlvbnM/OiBTdGF0ZURlY2xhcmF0aW9uKSB7XG4gIHJldHVybiBwcm9wZXJ0eSh7XG4gICAgLi4ub3B0aW9ucyxcbiAgICAvLyBBZGQgYm90aCBgc3RhdGVgIGFuZCBgYXR0cmlidXRlYCBiZWNhdXNlIHdlIGZvdW5kIGEgdGhpcmQgcGFydHlcbiAgICAvLyBjb250cm9sbGVyIHRoYXQgaXMga2V5aW5nIG9mZiBvZiBQcm9wZXJ0eU9wdGlvbnMuc3RhdGUgdG8gZGV0ZXJtaW5lXG4gICAgLy8gd2hldGhlciBhIGZpZWxkIGlzIGEgcHJpdmF0ZSBpbnRlcm5hbCBwcm9wZXJ0eSBvciBub3QuXG4gICAgc3RhdGU6IHRydWUsXG4gICAgYXR0cmlidXRlOiBmYWxzZSxcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHR5cGUge1xyXG4gICAgQ29udGVudEJsb2NrLFxyXG4gICAgQ29udGVudEJsb2NrUGFyYW0sXHJcbiAgICBNZXNzYWdlLFxyXG4gICAgTWVzc2FnZUNyZWF0ZVBhcmFtcyxcclxuICAgIE1lc3NhZ2VQYXJhbSxcclxuICAgIFJhd01lc3NhZ2VTdHJlYW1FdmVudCxcclxuICAgIFRleHRCbG9jayxcclxuICAgIFRleHRCbG9ja1BhcmFtLFxyXG4gICAgVG9vbFJlc3VsdEJsb2NrUGFyYW0sXHJcbiAgICBUaGlua2luZ0Jsb2NrLFxyXG4gICAgVG9vbFVzZUJsb2NrIGFzIFRvb2xVc2VCbG9ja1R5cGUsXHJcbn0gZnJvbSBcIkBhbnRocm9waWMtYWkvc2RrL3Jlc291cmNlcy9tZXNzYWdlc1wiO1xyXG5pbXBvcnQgdHlwZSB7IFJhd1BhaXIsIEJlZHJvY2tJbnZvY2F0aW9uTWV0cmljcyB9IGZyb20gXCIuL3R5cGVzXCI7XHJcblxyXG4vLyBDb3JlIGludGVyZmFjZXMgZm9yIHByb2Nlc3NlZCBkYXRhXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJvY2Vzc2VkUGFpciB7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgdGltZXN0YW1wOiBzdHJpbmc7XHJcbiAgICByZXF1ZXN0OiBNZXNzYWdlQ3JlYXRlUGFyYW1zO1xyXG4gICAgcmVzcG9uc2U6IE1lc3NhZ2U7XHJcbiAgICBtb2RlbDogc3RyaW5nO1xyXG4gICAgaXNTdHJlYW1pbmc6IGJvb2xlYW47XHJcbiAgICByYXdTdHJlYW1EYXRhPzogc3RyaW5nOyAvLyBSYXcgU1NFL2JvZHlfcmF3IGRhdGEgZm9yIGRlYnVnZ2luZ1xyXG4gICAgc3RyZWFtRm9ybWF0PzogXCJzdGFuZGFyZFwiIHwgXCJiZWRyb2NrXCIgfCBudWxsOyAvLyBEZXRlY3RlZCBzdHJlYW0gZm9ybWF0XHJcbn1cclxuXHJcbi8vIEV4dGVuZGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHRvb2wgcmVzdWx0IHBhaXJpbmdcclxuZXhwb3J0IGludGVyZmFjZSBFbmhhbmNlZE1lc3NhZ2VQYXJhbSBleHRlbmRzIE1lc3NhZ2VQYXJhbSB7XHJcbiAgICB0b29sUmVzdWx0cz86IFJlY29yZDxzdHJpbmcsIFRvb2xSZXN1bHRCbG9ja1BhcmFtPjtcclxuICAgIGhpZGU/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNpbXBsZUNvbnZlcnNhdGlvbiB7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgbW9kZWxzOiBTZXQ8c3RyaW5nPjtcclxuICAgIHN5c3RlbT86IHN0cmluZyB8IFRleHRCbG9ja1BhcmFtW107XHJcbiAgICBtZXNzYWdlczogRW5oYW5jZWRNZXNzYWdlUGFyYW1bXTtcclxuICAgIHJlc3BvbnNlOiBNZXNzYWdlO1xyXG4gICAgYWxsUGFpcnM6IFByb2Nlc3NlZFBhaXJbXTtcclxuICAgIGZpbmFsUGFpcjogUHJvY2Vzc2VkUGFpcjtcclxuICAgIGNvbXBhY3RlZD86IGJvb2xlYW47XHJcbiAgICBtZXRhZGF0YToge1xyXG4gICAgICAgIHN0YXJ0VGltZTogc3RyaW5nO1xyXG4gICAgICAgIGVuZFRpbWU6IHN0cmluZztcclxuICAgICAgICB0b3RhbFBhaXJzOiBudW1iZXI7XHJcbiAgICAgICAgaW5wdXRUb2tlbnM6IG51bWJlcjtcclxuICAgICAgICBvdXRwdXRUb2tlbnM6IG51bWJlcjtcclxuICAgICAgICB0b3RhbFRva2VuczogbnVtYmVyO1xyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNoYXJlZCBjb252ZXJzYXRpb24gcHJvY2Vzc2luZyBmdW5jdGlvbmFsaXR5IGZvciBib3RoIGZyb250ZW5kIGFuZCBiYWNrZW5kXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2hhcmVkQ29udmVyc2F0aW9uUHJvY2Vzc29yIHtcclxuICAgIC8qKlxyXG4gICAgICogUHJvY2VzcyByYXcgSlNPTkwgcGFpcnMgaW50byBQcm9jZXNzZWRQYWlyc1xyXG4gICAgICovXHJcbiAgICBwcm9jZXNzUmF3UGFpcnMocmF3UGFpcnM6IFJhd1BhaXJbXSk6IFByb2Nlc3NlZFBhaXJbXSB7XHJcbiAgICAgICAgaWYgKCFyYXdQYWlycyB8fCByYXdQYWlycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkUGFpcnM6IFByb2Nlc3NlZFBhaXJbXSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhd1BhaXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhaXIgPSByYXdQYWlyc1tpXTtcclxuICAgICAgICAgICAgaWYgKCFwYWlyPy5yZXF1ZXN0IHx8ICFwYWlyPy5yZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXRlY3Qgc3RyZWFtaW5nXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1N0cmVhbWluZyA9ICEhcGFpci5yZXNwb25zZS5ib2R5X3JhdztcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZTogTWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIGxldCBzdHJlYW1Gb3JtYXQ6IFwic3RhbmRhcmRcIiB8IFwiYmVkcm9ja1wiIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhaXIucmVzcG9uc2UuYm9keV9yYXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSBzdHJlYW1pbmcgcmVzcG9uc2UgYW5kIGRldGVjdCBmb3JtYXRcclxuICAgICAgICAgICAgICAgICAgICBzdHJlYW1Gb3JtYXQgPSB0aGlzLmlzQmVkcm9ja1Jlc3BvbnNlKHBhaXIucmVzcG9uc2UuYm9keV9yYXcpID8gXCJiZWRyb2NrXCIgOiBcInN0YW5kYXJkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB0aGlzLnBhcnNlU3RyZWFtaW5nUmVzcG9uc2UocGFpci5yZXNwb25zZS5ib2R5X3Jhdyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhaXIucmVzcG9uc2UuYm9keSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcGFpci5yZXNwb25zZS5ib2R5IGFzIE1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgbW9kZWwgZnJvbSByZXF1ZXN0IGhlYWRlcnMgb3IgVVJMXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuZXh0cmFjdE1vZGVsKHBhaXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZFBhaXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBgJHtwYWlyLnJlcXVlc3QudGltZXN0YW1wIHx8IERhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKHBhaXIucmVxdWVzdC50aW1lc3RhbXAgfHwgRGF0ZS5ub3coKSkgKiAxMDAwKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHBhaXIucmVxdWVzdC5ib2R5IGFzIE1lc3NhZ2VDcmVhdGVQYXJhbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNTdHJlYW1pbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgcmF3U3RyZWFtRGF0YTogcGFpci5yZXNwb25zZS5ib2R5X3JhdyxcclxuICAgICAgICAgICAgICAgICAgICBzdHJlYW1Gb3JtYXQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIHByb2Nlc3MgcmF3IHBhaXIgYXQgaW5kZXggJHtpfTpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAvLyBDb250aW51ZSBwcm9jZXNzaW5nIG90aGVyIHBhaXJzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRQYWlycztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGVjdCBpZiB0aGUgcmVzcG9uc2UgaXMgZnJvbSBCZWRyb2NrIGJ5IGNoZWNraW5nIGZvciBiaW5hcnkgZXZlbnQgc3RyZWFtIGZvcm1hdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzQmVkcm9ja1Jlc3BvbnNlKGJvZHlSYXc6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8vIENoZWNrIGZvciBBV1MgRXZlbnRTdHJlYW0gZm9ybWF0IHdpdGggYmluYXJ5IGhlYWRlcnMgYW5kIGJhc2U2NCBlbmNvZGVkIGV2ZW50c1xyXG4gICAgICAgIHJldHVybiBib2R5UmF3LnN0YXJ0c1dpdGgoXCJcXHUwMDAwXFx1MDAwMFwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlIEJlZHJvY2sgYmluYXJ5IGV2ZW50IHN0cmVhbSBhbmQgZXh0cmFjdCB0aGUgc3RhbmRhcmQgbWVzc2FnZSBldmVudHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBwYXJzZUJlZHJvY2tTdHJlYW1pbmdSZXNwb25zZShib2R5UmF3OiBzdHJpbmcpOiBNZXNzYWdlIHtcclxuICAgICAgICBpZiAoIWJvZHlSYXcgfHwgYm9keVJhdy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW1wdHkgYm9keVJhdyBwcm92aWRlZCB0byBwYXJzZUJlZHJvY2tTdHJlYW1pbmdSZXNwb25zZVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGV2ZW50czogUmF3TWVzc2FnZVN0cmVhbUV2ZW50W10gPSBbXTtcclxuICAgICAgICBsZXQgYmVkcm9ja01ldHJpY3M6IEJlZHJvY2tJbnZvY2F0aW9uTWV0cmljcyB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBFeHRyYWN0IEpTT04gcGF5bG9hZHMgZnJvbSBBV1MgRXZlbnRTdHJlYW0gZm9ybWF0XHJcbiAgICAgICAgICAgIC8vIFRoZSBmb3JtYXQgY29udGFpbnMgYmluYXJ5IGhlYWRlcnMgZm9sbG93ZWQgYnkgSlNPTiBwYXlsb2Fkc1xyXG4gICAgICAgICAgICBjb25zdCBqc29uQ2h1bmtzID0gdGhpcy5leHRyYWN0SnNvbkNodW5rc0Zyb21FdmVudFN0cmVhbShib2R5UmF3KTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QganNvbkNodW5rIG9mIGpzb25DaHVua3MpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRQYXlsb2FkID0gSlNPTi5wYXJzZShqc29uQ2h1bmspO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGFuIGV2ZW50IHdpdGggYmFzZTY0LWVuY29kZWQgYnl0ZXNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRQYXlsb2FkLmJ5dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NERhdGEgPSBldmVudFBheWxvYWQuYnl0ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZWRKc29uID0gdGhpcy5kZWNvZGVCYXNlNjRUb1V0ZjgoYmFzZTY0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gSlNPTi5wYXJzZShkZWNvZGVkSnNvbikgYXMgUmF3TWVzc2FnZVN0cmVhbUV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucHVzaChldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoY2h1bmtFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBwYXJzZSBKU09OIGNodW5rOlwiLCBqc29uQ2h1bmssIGNodW5rRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggb3RoZXIgY2h1bmtzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgQmVkcm9jayBtZXRyaWNzIGZyb20gdGhlIGxhc3QgZXZlbnQgaWYgcHJlc2VudFxyXG4gICAgICAgICAgICBiZWRyb2NrTWV0cmljcyA9IHRoaXMuZXh0cmFjdEJlZHJvY2tNZXRyaWNzKGJvZHlSYXcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgQmVkcm9jayBzdHJlYW1pbmcgcmVzcG9uc2U6XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCZWRyb2NrIHN0cmVhbWluZyByZXNwb25zZSBwYXJzaW5nIGZhaWxlZDogJHtlcnJvcn1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmJ1aWxkTWVzc2FnZUZyb21FdmVudHMoZXZlbnRzLCBiZWRyb2NrTWV0cmljcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWNvZGUgYmFzZTY0IHN0cmluZyB0byBVVEYtOCwgY29tcGF0aWJsZSB3aXRoIGJvdGggYnJvd3NlciBhbmQgTm9kZS5qcyBlbnZpcm9ubWVudHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBkZWNvZGVCYXNlNjRUb1V0ZjgoYmFzZTY0RGF0YTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBpbiBhIGJyb3dzZXIgZW52aXJvbm1lbnRcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgYXRvYiAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAvLyBCcm93c2VyIGVudmlyb25tZW50IC0gdXNlIGF0b2IoKVxyXG4gICAgICAgICAgICByZXR1cm4gYXRvYihiYXNlNjREYXRhKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBCdWZmZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgLy8gTm9kZS5qcyBlbnZpcm9ubWVudCAtIHVzZSBCdWZmZXJcclxuICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGJhc2U2NERhdGEsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmLThcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgaW1wbGVtZW50YXRpb24gZm9yIGVudmlyb25tZW50cyB3aXRob3V0IGVpdGhlclxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCYXNlNjQgZGVjb2Rpbmcgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4dHJhY3QgSlNPTiBjaHVua3MgZnJvbSBBV1MgRXZlbnRTdHJlYW0gYmluYXJ5IGZvcm1hdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGV4dHJhY3RKc29uQ2h1bmtzRnJvbUV2ZW50U3RyZWFtKGJvZHlSYXc6IHN0cmluZyk6IHN0cmluZ1tdIHtcclxuICAgICAgICBpZiAoIWJvZHlSYXcgfHwgYm9keVJhdy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QganNvbkNodW5rczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBjb25zdCBwYXR0ZXJuID0gJ2V2ZW50e1wiYnl0ZXNcIjonO1xyXG5cclxuICAgICAgICBsZXQgc2VhcmNoSW5kZXggPSAwO1xyXG5cclxuICAgICAgICB3aGlsZSAoc2VhcmNoSW5kZXggPCBib2R5UmF3Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBuZXh0IG9jY3VycmVuY2Ugb2YgdGhlIHBhdHRlcm5cclxuICAgICAgICAgICAgY29uc3QgcGF0dGVybkluZGV4ID0gYm9keVJhdy5pbmRleE9mKHBhdHRlcm4sIHNlYXJjaEluZGV4KTtcclxuICAgICAgICAgICAgaWYgKHBhdHRlcm5JbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBObyBtb3JlIHBhdHRlcm5zIGZvdW5kXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFN0YXJ0IGV4dHJhY3RpbmcgSlNPTiBmcm9tIHRoZSAneycgYWZ0ZXIgJ2V2ZW50J1xyXG4gICAgICAgICAgICBjb25zdCBqc29uU3RhcnRJbmRleCA9IHBhdHRlcm5JbmRleCArIDU7IC8vIFNraXAgJ2V2ZW50JyBwcmVmaXhcclxuICAgICAgICAgICAgbGV0IGJyYWNlQ291bnQgPSAwO1xyXG4gICAgICAgICAgICBsZXQganNvbkVuZEluZGV4ID0gLTE7XHJcblxyXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBtYXRjaGluZyBjbG9zaW5nIGJyYWNlXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBqc29uU3RhcnRJbmRleDsgaSA8IGJvZHlSYXcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBib2R5UmF3W2ldO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSBcIntcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyYWNlQ291bnQrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gXCJ9XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmFjZUNvdW50LS07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJyYWNlQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAganNvbkVuZEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBFeHRyYWN0IHRoZSBKU09OIGNodW5rIGlmIHdlIGZvdW5kIGEgY29tcGxldGUgb2JqZWN0XHJcbiAgICAgICAgICAgIGlmIChqc29uRW5kSW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqc29uQ2h1bmsgPSBib2R5UmF3LnN1YnN0cmluZyhqc29uU3RhcnRJbmRleCwganNvbkVuZEluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICBqc29uQ2h1bmtzLnB1c2goanNvbkNodW5rKTtcclxuICAgICAgICAgICAgICAgIHNlYXJjaEluZGV4ID0ganNvbkVuZEluZGV4ICsgMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIG1hdGNoaW5nIGJyYWNlIGZvdW5kLCBtb3ZlIHBhc3QgdGhpcyBwYXR0ZXJuXHJcbiAgICAgICAgICAgICAgICBzZWFyY2hJbmRleCA9IHBhdHRlcm5JbmRleCArIHBhdHRlcm4ubGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ganNvbkNodW5rcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4dHJhY3QgQmVkcm9jayBpbnZvY2F0aW9uIG1ldHJpY3MgZnJvbSB0aGUgcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBleHRyYWN0QmVkcm9ja01ldHJpY3MoYm9keVJhdzogc3RyaW5nKTogQmVkcm9ja0ludm9jYXRpb25NZXRyaWNzIHwgbnVsbCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gTG9vayBmb3IgdGhlIGFtYXpvbi1iZWRyb2NrLWludm9jYXRpb25NZXRyaWNzIGluIHRoZSBsYXN0IGRlY29kZWQgZXZlbnRcclxuICAgICAgICAgICAgY29uc3QgbWV0cmljc01hdGNoID0gYm9keVJhdy5tYXRjaCgvXCJhbWF6b24tYmVkcm9jay1pbnZvY2F0aW9uTWV0cmljc1wiOlxccyooXFx7W159XStcXH0pLyk7XHJcbiAgICAgICAgICAgIGlmIChtZXRyaWNzTWF0Y2ggJiYgbWV0cmljc01hdGNoWzFdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShtZXRyaWNzTWF0Y2hbMV0pIGFzIEJlZHJvY2tJbnZvY2F0aW9uTWV0cmljcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgLy8gU2tpcCBpbnZhbGlkIG1ldHJpY3NcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZSBzdHJlYW1pbmcgcmVzcG9uc2UgZnJvbSByYXcgU1NFIGRhdGFcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBwYXJzZVN0cmVhbWluZ1Jlc3BvbnNlKGJvZHlSYXc6IHN0cmluZyk6IE1lc3NhZ2Uge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQmVkcm9ja1Jlc3BvbnNlKGJvZHlSYXcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlQmVkcm9ja1N0cmVhbWluZ1Jlc3BvbnNlKGJvZHlSYXcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlU3RhbmRhcmRTdHJlYW1pbmdSZXNwb25zZShib2R5UmF3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZSBzdGFuZGFyZCBBbnRocm9waWMgQVBJIHN0cmVhbWluZyByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHBhcnNlU3RhbmRhcmRTdHJlYW1pbmdSZXNwb25zZShib2R5UmF3OiBzdHJpbmcpOiBNZXNzYWdlIHtcclxuICAgICAgICBpZiAoIWJvZHlSYXcgfHwgYm9keVJhdy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW1wdHkgYm9keVJhdyBwcm92aWRlZCB0byBwYXJzZVN0YW5kYXJkU3RyZWFtaW5nUmVzcG9uc2VcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBsaW5lcyA9IGJvZHlSYXcuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgY29uc3QgZXZlbnRzOiBSYXdNZXNzYWdlU3RyZWFtRXZlbnRbXSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcclxuICAgICAgICAgICAgaWYgKCFsaW5lLnN0YXJ0c1dpdGgoXCJkYXRhOiBcIikpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGxpbmUuc3Vic3RyaW5nKDYpLnRyaW0oKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IFwiW0RPTkVdXCIpIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gSlNPTi5wYXJzZShkYXRhKSBhcyBSYXdNZXNzYWdlU3RyZWFtRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucHVzaChldmVudCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBwYXJzZSBTU0UgZXZlbnQ6XCIsIGRhdGEsIGUpO1xyXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBpbnZhbGlkIEpTT05cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRNZXNzYWdlRnJvbUV2ZW50cyhldmVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQnVpbGQgYSBNZXNzYWdlIG9iamVjdCBmcm9tIGEgbGlzdCBvZiBzdHJlYW1pbmcgZXZlbnRzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYnVpbGRNZXNzYWdlRnJvbUV2ZW50cyhcclxuICAgICAgICBldmVudHM6IFJhd01lc3NhZ2VTdHJlYW1FdmVudFtdLFxyXG4gICAgICAgIGJlZHJvY2tNZXRyaWNzPzogQmVkcm9ja0ludm9jYXRpb25NZXRyaWNzIHwgbnVsbCxcclxuICAgICk6IE1lc3NhZ2Uge1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgd2l0aCBkZWZhdWx0c1xyXG4gICAgICAgIGxldCBtZXNzYWdlOiBQYXJ0aWFsPE1lc3NhZ2U+ID0ge1xyXG4gICAgICAgICAgICBpZDogXCJcIixcclxuICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXHJcbiAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IFtdLFxyXG4gICAgICAgICAgICBtb2RlbDogXCJcIixcclxuICAgICAgICAgICAgc3RvcF9yZWFzb246IG51bGwsXHJcbiAgICAgICAgICAgIHN0b3Bfc2VxdWVuY2U6IG51bGwsXHJcbiAgICAgICAgICAgIHVzYWdlOiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dF90b2tlbnM6IDAsXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRfdG9rZW5zOiAwLFxyXG4gICAgICAgICAgICAgICAgY2FjaGVfY3JlYXRpb25faW5wdXRfdG9rZW5zOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgY2FjaGVfcmVhZF9pbnB1dF90b2tlbnM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJfdG9vbF91c2U6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzZXJ2aWNlX3RpZXI6IG51bGwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gVHJhY2sgY29udGVudCBibG9ja3MgYmVpbmcgYnVpbHRcclxuICAgICAgICBjb25zdCBjb250ZW50QmxvY2tzOiBDb250ZW50QmxvY2tbXSA9IFtdO1xyXG4gICAgICAgIGxldCBjdXJyZW50QmxvY2tJbmRleCA9IC0xO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50cykge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlX3N0YXJ0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBtZXNzYWdlIHdpdGggYmFzZSBzdHJ1Y3R1cmVcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0geyAuLi5tZXNzYWdlLCAuLi5ldmVudC5tZXNzYWdlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbnRlbnRfYmxvY2tfc3RhcnRcIjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBhIG5ldyBjb250ZW50IGJsb2NrXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEJsb2NrSW5kZXggPSBldmVudC5pbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50QmxvY2tzW2N1cnJlbnRCbG9ja0luZGV4XSA9IHsgLi4uZXZlbnQuY29udGVudF9ibG9jayB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjb250ZW50X2Jsb2NrX2RlbHRhXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjdXJyZW50IGNvbnRlbnQgYmxvY2tcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEJsb2NrSW5kZXggPj0gMCAmJiBjb250ZW50QmxvY2tzW2N1cnJlbnRCbG9ja0luZGV4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9jayA9IGNvbnRlbnRCbG9ja3NbY3VycmVudEJsb2NrSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IGV2ZW50LmRlbHRhO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkZWx0YS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidGV4dF9kZWx0YVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9jay50eXBlID09PSBcInRleHRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYmxvY2sgYXMgVGV4dEJsb2NrKS50ZXh0ID0gKChibG9jayBhcyBUZXh0QmxvY2spLnRleHQgfHwgXCJcIikgKyBkZWx0YS50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5wdXRfanNvbl9kZWx0YVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9jay50eXBlID09PSBcInRvb2xfdXNlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWNjdW11bGF0ZSBKU09OIHN0cmluZyBmb3IgdG9vbF91c2UgYmxvY2tzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xCbG9jayA9IGJsb2NrIGFzIFRvb2xVc2VCbG9ja1R5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9vbEJsb2NrLmlucHV0ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sQmxvY2suaW5wdXQgPSB0b29sQmxvY2suaW5wdXQgKyBkZWx0YS5wYXJ0aWFsX2pzb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbml0aWFsaXplIGFzIHN0cmluZyBpZiBub3QgYWxyZWFkeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRvb2xCbG9jay5pbnB1dCBhcyBhbnkpID0gZGVsdGEucGFydGlhbF9qc29uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aGlua2luZ19kZWx0YVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9jay50eXBlID09PSBcInRoaW5raW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGJsb2NrIGFzIFRoaW5raW5nQmxvY2spLnRoaW5raW5nID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoYmxvY2sgYXMgVGhpbmtpbmdCbG9jaykudGhpbmtpbmcgfHwgXCJcIikgKyBkZWx0YS50aGlua2luZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNpZ25hdHVyZV9kZWx0YVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9jay50eXBlID09PSBcInRoaW5raW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGJsb2NrIGFzIFRoaW5raW5nQmxvY2spLnNpZ25hdHVyZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGJsb2NrIGFzIFRoaW5raW5nQmxvY2spLnNpZ25hdHVyZSB8fCBcIlwiKSArIGRlbHRhLnNpZ25hdHVyZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNpdGF0aW9uc19kZWx0YVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBjaXRhdGlvbnMgZGVsdGEgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbnRlbnRfYmxvY2tfc3RvcFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbmFsaXplIGNvbnRlbnQgYmxvY2tcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEJsb2NrSW5kZXggPj0gMCAmJiBjb250ZW50QmxvY2tzW2N1cnJlbnRCbG9ja0luZGV4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9jayA9IGNvbnRlbnRCbG9ja3NbY3VycmVudEJsb2NrSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSBKU09OIGlucHV0IGlmIGl0J3MgYSB0b29sX3VzZSBibG9ja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2sudHlwZSA9PT0gXCJ0b29sX3VzZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sQmxvY2sgPSBibG9jayBhcyBUb29sVXNlQmxvY2tUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b29sQmxvY2suaW5wdXQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sQmxvY2suaW5wdXQgPSBKU09OLnBhcnNlKHRvb2xCbG9jay5pbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIGFzIHN0cmluZyBpZiBKU09OIHBhcnNpbmcgZmFpbHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHBhcnNlIHRvb2wgaW5wdXQgSlNPTjpcIiwgdG9vbEJsb2NrLmlucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VfZGVsdGFcIjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgbWVzc2FnZS1sZXZlbCBmaWVsZHNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGVsdGEuc3RvcF9yZWFzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdG9wX3JlYXNvbiA9IGV2ZW50LmRlbHRhLnN0b3BfcmVhc29uO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGVsdGEuc3RvcF9zZXF1ZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0b3Bfc2VxdWVuY2UgPSBldmVudC5kZWx0YS5zdG9wX3NlcXVlbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudXNhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgZXhpc3RpbmcgaW5wdXRfdG9rZW5zIGlmIG5vdCBwcm92aWRlZCBpbiB0aGlzIGRlbHRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElucHV0IHRva2VucyBhcmUgdHlwaWNhbGx5IG9ubHkgc2VudCBvbmNlIGFuZCBzaG91bGRuJ3QgY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbnB1dFRva2VucyA9IG1lc3NhZ2UudXNhZ2U/LmlucHV0X3Rva2VucyA/PyAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51c2FnZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0X3Rva2VuczogZXZlbnQudXNhZ2UuaW5wdXRfdG9rZW5zID8/IGN1cnJlbnRJbnB1dFRva2VucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dF90b2tlbnM6IGV2ZW50LnVzYWdlLm91dHB1dF90b2tlbnMgPz8gbWVzc2FnZS51c2FnZT8ub3V0cHV0X3Rva2VucyA/PyAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVfY3JlYXRpb25faW5wdXRfdG9rZW5zOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnVzYWdlLmNhY2hlX2NyZWF0aW9uX2lucHV0X3Rva2VucyA/PyBtZXNzYWdlLnVzYWdlPy5jYWNoZV9jcmVhdGlvbl9pbnB1dF90b2tlbnMgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlX3JlYWRfaW5wdXRfdG9rZW5zOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnVzYWdlLmNhY2hlX3JlYWRfaW5wdXRfdG9rZW5zID8/IG1lc3NhZ2UudXNhZ2U/LmNhY2hlX3JlYWRfaW5wdXRfdG9rZW5zID8/IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJfdG9vbF91c2U6IGV2ZW50LnVzYWdlLnNlcnZlcl90b29sX3VzZSA/PyBtZXNzYWdlLnVzYWdlPy5zZXJ2ZXJfdG9vbF91c2UgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VfdGllcjogbnVsbCwgLy8gTWVzc2FnZURlbHRhVXNhZ2UgZG9lc24ndCBoYXZlIHNlcnZpY2VfdGllclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZV9zdG9wXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluYWxpemUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIGZpbmFsIGNvbnRlbnQgYmxvY2tzXHJcbiAgICAgICAgbWVzc2FnZS5jb250ZW50ID0gY29udGVudEJsb2Nrcy5maWx0ZXIoKGJsb2NrKSA9PiBibG9jayAhPSBudWxsKTtcclxuXHJcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBiZWRyb2NrIG1ldHJpY3MsIG1lcmdlIHRoZW0gaW50byB1c2FnZVxyXG4gICAgICAgIGlmIChiZWRyb2NrTWV0cmljcyAmJiBtZXNzYWdlLnVzYWdlKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UudXNhZ2UuaW5wdXRfdG9rZW5zID0gYmVkcm9ja01ldHJpY3MuaW5wdXRUb2tlbkNvdW50O1xyXG4gICAgICAgICAgICBtZXNzYWdlLnVzYWdlLm91dHB1dF90b2tlbnMgPSBiZWRyb2NrTWV0cmljcy5vdXRwdXRUb2tlbkNvdW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UgYXMgTWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4dHJhY3QgbW9kZWwgbmFtZSBmcm9tIHRoZSByYXcgcGFpclxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGV4dHJhY3RNb2RlbChwYWlyOiBSYXdQYWlyKTogc3RyaW5nIHtcclxuICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBmcm9tIEJlZHJvY2sgVVJMXHJcbiAgICAgICAgaWYgKHBhaXIucmVxdWVzdD8udXJsICYmIHBhaXIucmVxdWVzdC51cmwuaW5jbHVkZXMoXCJiZWRyb2NrLXJ1bnRpbWVcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgdXJsTWF0Y2ggPSBwYWlyLnJlcXVlc3QudXJsLm1hdGNoKC9cXC9tb2RlbFxcLyhbXlxcL10rKS8pO1xyXG4gICAgICAgICAgICBpZiAodXJsTWF0Y2ggJiYgdXJsTWF0Y2hbMV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZU1vZGVsTmFtZSh1cmxNYXRjaFsxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRyeSB0byBnZXQgbW9kZWwgZnJvbSByZXF1ZXN0IGJvZHlcclxuICAgICAgICBpZiAocGFpci5yZXF1ZXN0Py5ib2R5ICYmIHR5cGVvZiBwYWlyLnJlcXVlc3QuYm9keSA9PT0gXCJvYmplY3RcIiAmJiBcIm1vZGVsXCIgaW4gcGFpci5yZXF1ZXN0LmJvZHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplTW9kZWxOYW1lKChwYWlyLnJlcXVlc3QuYm9keSBhcyBhbnkpLm1vZGVsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRyeSB0byBnZXQgZnJvbSByZXNwb25zZVxyXG4gICAgICAgIGlmIChwYWlyLnJlc3BvbnNlPy5ib2R5ICYmIHR5cGVvZiBwYWlyLnJlc3BvbnNlLmJvZHkgPT09IFwib2JqZWN0XCIgJiYgXCJtb2RlbFwiIGluIHBhaXIucmVzcG9uc2UuYm9keSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemVNb2RlbE5hbWUoKHBhaXIucmVzcG9uc2UuYm9keSBhcyBhbnkpLm1vZGVsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERlZmF1bHRcclxuICAgICAgICByZXR1cm4gXCJ1bmtub3duXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBOb3JtYWxpemUgbW9kZWwgbmFtZXMgZnJvbSBkaWZmZXJlbnQgZm9ybWF0cyB0byBhIGNvbnNpc3RlbnQgZGlzcGxheSBmb3JtYXRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBub3JtYWxpemVNb2RlbE5hbWUobW9kZWxOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghbW9kZWxOYW1lKSByZXR1cm4gXCJ1bmtub3duXCI7XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBCZWRyb2NrIG1vZGVsIG5hbWVzXHJcbiAgICAgICAgaWYgKG1vZGVsTmFtZS5zdGFydHNXaXRoKFwidXMuYW50aHJvcGljLlwiKSkge1xyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IFwidXMuYW50aHJvcGljLmNsYXVkZS0zLTUtc29ubmV0LTIwMjQxMDIyLXYxOjBcIiB0byBcImNsYXVkZS0zLTUtc29ubmV0LTIwMjQxMDIyXCJcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBtb2RlbE5hbWUubWF0Y2goL3VzXFwuYW50aHJvcGljXFwuKFteOl0rKS8pO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaFsxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIGFzLWlzIGZvciBvdGhlciBmb3JtYXRzXHJcbiAgICAgICAgcmV0dXJuIG1vZGVsTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdyb3VwIHByb2Nlc3NlZCBwYWlycyBpbnRvIGNvbnZlcnNhdGlvbnNcclxuICAgICAqL1xyXG4gICAgbWVyZ2VDb252ZXJzYXRpb25zKFxyXG4gICAgICAgIHBhaXJzOiBQcm9jZXNzZWRQYWlyW10sXHJcbiAgICAgICAgb3B0aW9uczogeyBpbmNsdWRlU2hvcnRDb252ZXJzYXRpb25zPzogYm9vbGVhbiB9ID0ge30sXHJcbiAgICApOiBTaW1wbGVDb252ZXJzYXRpb25bXSB7XHJcbiAgICAgICAgaWYgKCFwYWlycyB8fCBwYWlycy5sZW5ndGggPT09IDApIHJldHVybiBbXTtcclxuXHJcbiAgICAgICAgLy8gR3JvdXAgcGFpcnMgYnkgc3lzdGVtIGluc3RydWN0aW9ucyArIG1vZGVsXHJcbiAgICAgICAgY29uc3QgcGFpcnNCeVN5c3RlbSA9IG5ldyBNYXA8c3RyaW5nLCBQcm9jZXNzZWRQYWlyW10+KCk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xyXG4gICAgICAgICAgICBjb25zdCBzeXN0ZW0gPSBwYWlyLnJlcXVlc3Quc3lzdGVtO1xyXG4gICAgICAgICAgICBjb25zdCBtb2RlbCA9IHBhaXIubW9kZWw7XHJcbiAgICAgICAgICAgIGNvbnN0IHN5c3RlbUtleSA9IEpTT04uc3RyaW5naWZ5KHsgc3lzdGVtLCBtb2RlbCB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghcGFpcnNCeVN5c3RlbS5oYXMoc3lzdGVtS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgcGFpcnNCeVN5c3RlbS5zZXQoc3lzdGVtS2V5LCBbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFpcnNCeVN5c3RlbS5nZXQoc3lzdGVtS2V5KSEucHVzaChwYWlyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGFsbENvbnZlcnNhdGlvbnM6IFNpbXBsZUNvbnZlcnNhdGlvbltdID0gW107XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgWywgc3lzdGVtUGFpcnNdIG9mIHBhaXJzQnlTeXN0ZW0pIHtcclxuICAgICAgICAgICAgY29uc3Qgc29ydGVkUGFpcnMgPSBbLi4uc3lzdGVtUGFpcnNdLnNvcnQoXHJcbiAgICAgICAgICAgICAgICAoYSwgYikgPT4gbmV3IERhdGUoYS50aW1lc3RhbXApLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIudGltZXN0YW1wKS5nZXRUaW1lKCksXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAvLyBHcm91cCBwYWlycyBieSBjb252ZXJzYXRpb24gdGhyZWFkXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvblRocmVhZHMgPSBuZXcgTWFwPHN0cmluZywgUHJvY2Vzc2VkUGFpcltdPigpO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHNvcnRlZFBhaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlcyA9IHBhaXIucmVxdWVzdC5tZXNzYWdlcyB8fCBbXTtcclxuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlcy5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0VXNlck1lc3NhZ2UgPSBtZXNzYWdlc1swXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRGaXJzdE1lc3NhZ2UgPSB0aGlzLm5vcm1hbGl6ZU1lc3NhZ2VGb3JHcm91cGluZyhmaXJzdFVzZXJNZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbktleSA9IEpTT04uc3RyaW5naWZ5KHsgZmlyc3RNZXNzYWdlOiBub3JtYWxpemVkRmlyc3RNZXNzYWdlIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5SGFzaCA9IHRoaXMuaGFzaFN0cmluZyhjb252ZXJzYXRpb25LZXkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghY29udmVyc2F0aW9uVGhyZWFkcy5oYXMoa2V5SGFzaCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25UaHJlYWRzLnNldChrZXlIYXNoLCBbXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25UaHJlYWRzLmdldChrZXlIYXNoKSEucHVzaChwYWlyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRm9yIGVhY2ggY29udmVyc2F0aW9uIHRocmVhZCwga2VlcCB0aGUgZmluYWwgcGFpclxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtjb252ZXJzYXRpb25LZXksIHRocmVhZFBhaXJzXSBvZiBjb252ZXJzYXRpb25UaHJlYWRzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRUaHJlYWRQYWlycyA9IFsuLi50aHJlYWRQYWlyc10uc29ydChcclxuICAgICAgICAgICAgICAgICAgICAoYSwgYikgPT4gbmV3IERhdGUoYS50aW1lc3RhbXApLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIudGltZXN0YW1wKS5nZXRUaW1lKCksXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUGFpciA9IHNvcnRlZFRocmVhZFBhaXJzLnJlZHVjZSgobG9uZ2VzdCwgY3VycmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRNZXNzYWdlcyA9IGN1cnJlbnQucmVxdWVzdC5tZXNzYWdlcyB8fCBbXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb25nZXN0TWVzc2FnZXMgPSBsb25nZXN0LnJlcXVlc3QubWVzc2FnZXMgfHwgW107XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRNZXNzYWdlcy5sZW5ndGggPiBsb25nZXN0TWVzc2FnZXMubGVuZ3RoID8gY3VycmVudCA6IGxvbmdlc3Q7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlbHNVc2VkID0gbmV3IFNldChzb3J0ZWRUaHJlYWRQYWlycy5tYXAoKHBhaXIpID0+IHBhaXIubW9kZWwpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVuaGFuY2VkTWVzc2FnZXMgPSB0aGlzLnByb2Nlc3NUb29sUmVzdWx0cyhmaW5hbFBhaXIucmVxdWVzdC5tZXNzYWdlcyB8fCBbXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgY29udmVyc2F0aW9uOiBTaW1wbGVDb252ZXJzYXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuaGFzaFN0cmluZyhjb252ZXJzYXRpb25LZXkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsczogbW9kZWxzVXNlZCxcclxuICAgICAgICAgICAgICAgICAgICBzeXN0ZW06IGZpbmFsUGFpci5yZXF1ZXN0LnN5c3RlbSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlczogZW5oYW5jZWRNZXNzYWdlcyxcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogZmluYWxQYWlyLnJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsbFBhaXJzOiBzb3J0ZWRUaHJlYWRQYWlycyxcclxuICAgICAgICAgICAgICAgICAgICBmaW5hbFBhaXI6IGZpbmFsUGFpcixcclxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWU6IHNvcnRlZFRocmVhZFBhaXJzWzBdLnRpbWVzdGFtcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZTogZmluYWxQYWlyLnRpbWVzdGFtcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxQYWlyczogc29ydGVkVGhyZWFkUGFpcnMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuczogZmluYWxQYWlyLnJlc3BvbnNlLnVzYWdlPy5pbnB1dF90b2tlbnMgfHwgMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VG9rZW5zOiBmaW5hbFBhaXIucmVzcG9uc2UudXNhZ2U/Lm91dHB1dF90b2tlbnMgfHwgMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUb2tlbnM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmluYWxQYWlyLnJlc3BvbnNlLnVzYWdlPy5pbnB1dF90b2tlbnMgfHwgMCkgKyAoZmluYWxQYWlyLnJlc3BvbnNlLnVzYWdlPy5vdXRwdXRfdG9rZW5zIHx8IDApLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGFsbENvbnZlcnNhdGlvbnMucHVzaChjb252ZXJzYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBcHBseSBjb21wYWN0IGNvbnZlcnNhdGlvbiBkZXRlY3Rpb25cclxuICAgICAgICBjb25zdCBtZXJnZWRDb252ZXJzYXRpb25zID0gdGhpcy5kZXRlY3RBbmRNZXJnZUNvbXBhY3RDb252ZXJzYXRpb25zKGFsbENvbnZlcnNhdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyBGaWx0ZXIgb3V0IHNob3J0IGNvbnZlcnNhdGlvbnMgdW5sZXNzIGV4cGxpY2l0bHkgaW5jbHVkZWRcclxuICAgICAgICBjb25zdCBmaWx0ZXJlZENvbnZlcnNhdGlvbnMgPSBvcHRpb25zLmluY2x1ZGVTaG9ydENvbnZlcnNhdGlvbnNcclxuICAgICAgICAgICAgPyBtZXJnZWRDb252ZXJzYXRpb25zXHJcbiAgICAgICAgICAgIDogbWVyZ2VkQ29udmVyc2F0aW9ucy5maWx0ZXIoKGNvbnYpID0+IGNvbnYubWVzc2FnZXMubGVuZ3RoID4gMik7XHJcblxyXG4gICAgICAgIC8vIFNvcnQgYnkgc3RhcnQgdGltZVxyXG4gICAgICAgIHJldHVybiBmaWx0ZXJlZENvbnZlcnNhdGlvbnMuc29ydChcclxuICAgICAgICAgICAgKGEsIGIpID0+IG5ldyBEYXRlKGEubWV0YWRhdGEuc3RhcnRUaW1lKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLm1ldGFkYXRhLnN0YXJ0VGltZSkuZ2V0VGltZSgpLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9jZXNzIG1lc3NhZ2VzIHRvIHBhaXIgdG9vbF91c2Ugd2l0aCB0b29sX3Jlc3VsdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHByb2Nlc3NUb29sUmVzdWx0cyhtZXNzYWdlczogTWVzc2FnZVBhcmFtW10pOiBFbmhhbmNlZE1lc3NhZ2VQYXJhbVtdIHtcclxuICAgICAgICBjb25zdCBlbmhhbmNlZE1lc3NhZ2VzOiBFbmhhbmNlZE1lc3NhZ2VQYXJhbVtdID0gW107XHJcbiAgICAgICAgY29uc3QgcGVuZGluZ1Rvb2xVc2VzOiBSZWNvcmQ8c3RyaW5nLCB7IG1lc3NhZ2VJbmRleDogbnVtYmVyOyB0b29sSW5kZXg6IG51bWJlciB9PiA9IHt9O1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBtZXNzYWdlc1tpXTtcclxuICAgICAgICAgICAgY29uc3QgZW5oYW5jZWRNZXNzYWdlOiBFbmhhbmNlZE1lc3NhZ2VQYXJhbSA9IHsgLi4ubWVzc2FnZSwgdG9vbFJlc3VsdHM6IHt9LCBoaWRlOiBmYWxzZSB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWVzc2FnZS5jb250ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGhhc09ubHlUb29sUmVzdWx0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGFzVGV4dENvbnRlbnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1lc3NhZ2UuY29udGVudC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gbWVzc2FnZS5jb250ZW50W2pdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2sudHlwZSA9PT0gXCJ0b29sX3VzZVwiICYmIFwiaWRcIiBpbiBibG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sVXNlID0gYmxvY2sgYXMgVG9vbFVzZUJsb2NrVHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1Rvb2xVc2VzW3Rvb2xVc2UuaWRdID0geyBtZXNzYWdlSW5kZXg6IGksIHRvb2xJbmRleDogaiB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNPbmx5VG9vbFJlc3VsdHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwidG9vbF9yZXN1bHRcIiAmJiBcInRvb2xfdXNlX2lkXCIgaW4gYmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbFJlc3VsdCA9IGJsb2NrIGFzIFRvb2xSZXN1bHRCbG9ja1BhcmFtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sVXNlSWQgPSB0b29sUmVzdWx0LnRvb2xfdXNlX2lkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdUb29sVXNlc1t0b29sVXNlSWRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1lc3NhZ2VJbmRleCB9ID0gcGVuZGluZ1Rvb2xVc2VzW3Rvb2xVc2VJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVuaGFuY2VkTWVzc2FnZXNbbWVzc2FnZUluZGV4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuaGFuY2VkTWVzc2FnZXNbbWVzc2FnZUluZGV4XSA9IHsgLi4ubWVzc2FnZXNbbWVzc2FnZUluZGV4XSwgdG9vbFJlc3VsdHM6IHt9LCBoaWRlOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5oYW5jZWRNZXNzYWdlc1ttZXNzYWdlSW5kZXhdLnRvb2xSZXN1bHRzIVt0b29sVXNlSWRdID0gdG9vbFJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwZW5kaW5nVG9vbFVzZXNbdG9vbFVzZUlkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzVGV4dENvbnRlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNPbmx5VG9vbFJlc3VsdHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNPbmx5VG9vbFJlc3VsdHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGhhc09ubHlUb29sUmVzdWx0cyAmJiAhaGFzVGV4dENvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmhhbmNlZE1lc3NhZ2UuaGlkZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVuaGFuY2VkTWVzc2FnZXNbaV0gPSBlbmhhbmNlZE1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZW5oYW5jZWRNZXNzYWdlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGVjdCBhbmQgbWVyZ2UgY29tcGFjdCBjb252ZXJzYXRpb25zXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZGV0ZWN0QW5kTWVyZ2VDb21wYWN0Q29udmVyc2F0aW9ucyhjb252ZXJzYXRpb25zOiBTaW1wbGVDb252ZXJzYXRpb25bXSk6IFNpbXBsZUNvbnZlcnNhdGlvbltdIHtcclxuICAgICAgICBpZiAoY29udmVyc2F0aW9ucy5sZW5ndGggPD0gMSkgcmV0dXJuIGNvbnZlcnNhdGlvbnM7XHJcblxyXG4gICAgICAgIGNvbnN0IHNvcnRlZENvbnZlcnNhdGlvbnMgPSBbLi4uY29udmVyc2F0aW9uc10uc29ydChcclxuICAgICAgICAgICAgKGEsIGIpID0+IG5ldyBEYXRlKGEubWV0YWRhdGEuc3RhcnRUaW1lKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLm1ldGFkYXRhLnN0YXJ0VGltZSkuZ2V0VGltZSgpLFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVzZWRDb252ZXJzYXRpb25zID0gbmV3IFNldDxudW1iZXI+KCk7XHJcbiAgICAgICAgY29uc3QgbWVyZ2VkQ29udmVyc2F0aW9uczogU2ltcGxlQ29udmVyc2F0aW9uW10gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWRDb252ZXJzYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb252ID0gc29ydGVkQ29udmVyc2F0aW9uc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh1c2VkQ29udmVyc2F0aW9ucy5oYXMoaSkpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGNvbXBhY3QgY29udmVyc2F0aW9uICgxIHBhaXIgd2l0aCBtYW55IG1lc3NhZ2VzKVxyXG4gICAgICAgICAgICBpZiAoY3VycmVudENvbnYuYWxsUGFpcnMubGVuZ3RoID09PSAxICYmIGN1cnJlbnRDb252Lm1lc3NhZ2VzLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBvcmlnaW5hbENvbnY6IFNpbXBsZUNvbnZlcnNhdGlvbiB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgbGV0IG9yaWdpbmFsSW5kZXggPSAtMTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNvcnRlZENvbnZlcnNhdGlvbnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gaSB8fCB1c2VkQ29udmVyc2F0aW9ucy5oYXMoaikpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvdGhlckNvbnYgPSBzb3J0ZWRDb252ZXJzYXRpb25zW2pdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBvdGhlciBjb252ZXJzYXRpb24gaGFzIGV4YWN0bHkgMiBmZXdlciBtZXNzYWdlc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdGhlckNvbnYubWVzc2FnZXMubGVuZ3RoID09PSBjdXJyZW50Q29udi5tZXNzYWdlcy5sZW5ndGggLSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIG1lc3NhZ2VzIG1hdGNoIChzaW1wbGlmaWVkIGNoZWNrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZXNNYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAxOyBrIDwgb3RoZXJDb252Lm1lc3NhZ2VzLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubWVzc2FnZXNSb3VnaGx5RXF1YWwob3RoZXJDb252Lm1lc3NhZ2VzW2tdLCBjdXJyZW50Q29udi5tZXNzYWdlc1trXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc01hdGNoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlc01hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbENvbnYgPSBvdGhlckNvbnY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4ID0gajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbENvbnYpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXJnZWRDb252ID0gdGhpcy5tZXJnZUNvbXBhY3RDb252ZXJzYXRpb24ob3JpZ2luYWxDb252LCBjdXJyZW50Q29udik7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkQ29udmVyc2F0aW9ucy5wdXNoKG1lcmdlZENvbnYpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZWRDb252ZXJzYXRpb25zLmFkZChpKTtcclxuICAgICAgICAgICAgICAgICAgICB1c2VkQ29udmVyc2F0aW9ucy5hZGQob3JpZ2luYWxJbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb252LmNvbXBhY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkQ29udmVyc2F0aW9ucy5wdXNoKGN1cnJlbnRDb252KTtcclxuICAgICAgICAgICAgICAgICAgICB1c2VkQ29udmVyc2F0aW9ucy5hZGQoaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtZXJnZWRDb252ZXJzYXRpb25zLnB1c2goY3VycmVudENvbnYpO1xyXG4gICAgICAgICAgICAgICAgdXNlZENvbnZlcnNhdGlvbnMuYWRkKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgcmVtYWluaW5nIGNvbnZlcnNhdGlvbnNcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZENvbnZlcnNhdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCF1c2VkQ29udmVyc2F0aW9ucy5oYXMoaSkpIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlZENvbnZlcnNhdGlvbnMucHVzaChzb3J0ZWRDb252ZXJzYXRpb25zW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG1lcmdlZENvbnZlcnNhdGlvbnMuc29ydChcclxuICAgICAgICAgICAgKGEsIGIpID0+IG5ldyBEYXRlKGEubWV0YWRhdGEuc3RhcnRUaW1lKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLm1ldGFkYXRhLnN0YXJ0VGltZSkuZ2V0VGltZSgpLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXJnZSBhIGNvbXBhY3QgY29udmVyc2F0aW9uIHdpdGggaXRzIG9yaWdpbmFsIGNvdW50ZXJwYXJ0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWVyZ2VDb21wYWN0Q29udmVyc2F0aW9uKFxyXG4gICAgICAgIG9yaWdpbmFsQ29udjogU2ltcGxlQ29udmVyc2F0aW9uLFxyXG4gICAgICAgIGNvbXBhY3RDb252OiBTaW1wbGVDb252ZXJzYXRpb24sXHJcbiAgICApOiBTaW1wbGVDb252ZXJzYXRpb24ge1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTWVzc2FnZXMgPSBvcmlnaW5hbENvbnYubWVzc2FnZXMgfHwgW107XHJcbiAgICAgICAgY29uc3QgY29tcGFjdE1lc3NhZ2VzID0gY29tcGFjdENvbnYubWVzc2FnZXMgfHwgW107XHJcblxyXG4gICAgICAgIGNvbnN0IG1lcmdlZE1lc3NhZ2VzID0gWy4uLmNvbXBhY3RNZXNzYWdlc107XHJcbiAgICAgICAgaWYgKG9yaWdpbmFsTWVzc2FnZXMubGVuZ3RoID4gMCAmJiBtZXJnZWRNZXNzYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG1lcmdlZE1lc3NhZ2VzWzBdID0gb3JpZ2luYWxNZXNzYWdlc1swXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGFsbFBhaXJzID0gWy4uLm9yaWdpbmFsQ29udi5hbGxQYWlycywgLi4uY29tcGFjdENvbnYuYWxsUGFpcnNdLnNvcnQoXHJcbiAgICAgICAgICAgIChhLCBiKSA9PiBuZXcgRGF0ZShhLnRpbWVzdGFtcCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYi50aW1lc3RhbXApLmdldFRpbWUoKSxcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBhbGxNb2RlbHMgPSBuZXcgU2V0KFsuLi5vcmlnaW5hbENvbnYubW9kZWxzLCAuLi5jb21wYWN0Q29udi5tb2RlbHNdKTtcclxuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBhbGxQYWlyc1swXS50aW1lc3RhbXA7XHJcbiAgICAgICAgY29uc3QgZW5kVGltZSA9IGFsbFBhaXJzW2FsbFBhaXJzLmxlbmd0aCAtIDFdLnRpbWVzdGFtcDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaWQ6IGNvbXBhY3RDb252LmlkLFxyXG4gICAgICAgICAgICBtb2RlbHM6IGFsbE1vZGVscyxcclxuICAgICAgICAgICAgc3lzdGVtOiBvcmlnaW5hbENvbnYuc3lzdGVtLFxyXG4gICAgICAgICAgICBtZXNzYWdlczogbWVyZ2VkTWVzc2FnZXMsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlOiBjb21wYWN0Q29udi5yZXNwb25zZSxcclxuICAgICAgICAgICAgYWxsUGFpcnM6IGFsbFBhaXJzLFxyXG4gICAgICAgICAgICBmaW5hbFBhaXI6IGNvbXBhY3RDb252LmZpbmFsUGFpcixcclxuICAgICAgICAgICAgY29tcGFjdGVkOiB0cnVlLFxyXG4gICAgICAgICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsXHJcbiAgICAgICAgICAgICAgICBlbmRUaW1lOiBlbmRUaW1lLFxyXG4gICAgICAgICAgICAgICAgdG90YWxQYWlyczogYWxsUGFpcnMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbnM6IChvcmlnaW5hbENvbnYubWV0YWRhdGEuaW5wdXRUb2tlbnMgfHwgMCkgKyAoY29tcGFjdENvbnYubWV0YWRhdGEuaW5wdXRUb2tlbnMgfHwgMCksXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbnM6IChvcmlnaW5hbENvbnYubWV0YWRhdGEub3V0cHV0VG9rZW5zIHx8IDApICsgKGNvbXBhY3RDb252Lm1ldGFkYXRhLm91dHB1dFRva2VucyB8fCAwKSxcclxuICAgICAgICAgICAgICAgIHRvdGFsVG9rZW5zOiAob3JpZ2luYWxDb252Lm1ldGFkYXRhLnRvdGFsVG9rZW5zIHx8IDApICsgKGNvbXBhY3RDb252Lm1ldGFkYXRhLnRvdGFsVG9rZW5zIHx8IDApLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wYXJlIHR3byBtZXNzYWdlcyB0byBzZWUgaWYgdGhleSdyZSByb3VnaGx5IGVxdWFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWVzc2FnZXNSb3VnaGx5RXF1YWwobXNnMTogTWVzc2FnZVBhcmFtLCBtc2cyOiBNZXNzYWdlUGFyYW0pOiBib29sZWFuIHtcclxuICAgICAgICBpZiAobXNnMS5yb2xlICE9PSBtc2cyLnJvbGUpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgY29udGVudDEgPSBtc2cxLmNvbnRlbnQ7XHJcbiAgICAgICAgY29uc3QgY29udGVudDIgPSBtc2cyLmNvbnRlbnQ7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY29udGVudDEgIT09IHR5cGVvZiBjb250ZW50MikgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbnRlbnQxKSAhPT0gQXJyYXkuaXNBcnJheShjb250ZW50MikpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBOb3JtYWxpemUgbWVzc2FnZSBmb3IgZ3JvdXBpbmcgKHJlbW92ZXMgZHluYW1pYyBjb250ZW50KVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG5vcm1hbGl6ZU1lc3NhZ2VGb3JHcm91cGluZyhtZXNzYWdlOiBNZXNzYWdlUGFyYW0pOiBNZXNzYWdlUGFyYW0ge1xyXG4gICAgICAgIGlmICghbWVzc2FnZSB8fCAhbWVzc2FnZS5jb250ZW50KSByZXR1cm4gbWVzc2FnZTtcclxuXHJcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRDb250ZW50OiBzdHJpbmcgfCBDb250ZW50QmxvY2tQYXJhbVtdO1xyXG5cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlLmNvbnRlbnQpKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRDb250ZW50ID0gbWVzc2FnZS5jb250ZW50Lm1hcCgoYmxvY2spID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay50eXBlID09PSBcInRleHRcIiAmJiBcInRleHRcIiBpbiBibG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gYmxvY2sudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9HZW5lcmF0ZWQgXFxkezR9LVxcZHsyfS1cXGR7Mn0gXFxkezJ9OlxcZHsyfTpcXGR7Mn0vZywgXCJHZW5lcmF0ZWQgW1RJTUVTVEFNUF1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvVGhlIHVzZXIgb3BlbmVkIHRoZSBmaWxlIFteXFxzXSsgaW4gdGhlIElERVxcLi9nLCBcIlRoZSB1c2VyIG9wZW5lZCBmaWxlIGluIElERS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvPHN5c3RlbS1yZW1pbmRlcj4uKj88XFwvc3lzdGVtLXJlbWluZGVyPi9ncywgXCJbU1lTVEVNLVJFTUlOREVSXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcInRleHRcIiwgdGV4dDogdGV4dCB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJsb2NrO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBub3JtYWxpemVkQ29udGVudCA9IG1lc3NhZ2UuY29udGVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcclxuICAgICAgICAgICAgY29udGVudDogbm9ybWFsaXplZENvbnRlbnQsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIGhhc2ggc3RyaW5nIGZvciBjb252ZXJzYXRpb24gZ3JvdXBpbmdcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBoYXNoU3RyaW5nKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgaGFzaCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY2hhciA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hhcjtcclxuICAgICAgICAgICAgaGFzaCA9IGhhc2ggJiBoYXNoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5hYnMoaGFzaCkudG9TdHJpbmcoKTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCB9IGZyb20gXCJsaXRcIjtcclxuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnMuanNcIjtcclxuaW1wb3J0IHsgQ2xhdWRlRGF0YSB9IGZyb20gXCIuLi8uLi9zcmMvdHlwZXNcIjtcclxuaW1wb3J0IHtcclxuXHRTaGFyZWRDb252ZXJzYXRpb25Qcm9jZXNzb3IsXHJcblx0U2ltcGxlQ29udmVyc2F0aW9uLFxyXG5cdFByb2Nlc3NlZFBhaXIsXHJcbn0gZnJvbSBcIi4uLy4uL3NyYy9zaGFyZWQtY29udmVyc2F0aW9uLXByb2Nlc3NvclwiO1xyXG5cclxuQGN1c3RvbUVsZW1lbnQoXCJjbGF1ZGUtYXBwXCIpXHJcbmV4cG9ydCBjbGFzcyBDbGF1ZGVBcHAgZXh0ZW5kcyBMaXRFbGVtZW50IHtcclxuXHRAc3RhdGUoKSBwcml2YXRlIGRhdGE6IENsYXVkZURhdGEgPSB7IHJhd1BhaXJzOiBbXSB9O1xyXG5cdEBzdGF0ZSgpIHByaXZhdGUgY29udmVyc2F0aW9uczogU2ltcGxlQ29udmVyc2F0aW9uW10gPSBbXTtcclxuXHRAc3RhdGUoKSBwcml2YXRlIHByb2Nlc3NlZFBhaXJzOiBQcm9jZXNzZWRQYWlyW10gPSBbXTtcclxuXHRAc3RhdGUoKSBwcml2YXRlIGN1cnJlbnRWaWV3OiBcImNvbnZlcnNhdGlvbnNcIiB8IFwicmF3XCIgfCBcImpzb25cIiA9IFwiY29udmVyc2F0aW9uc1wiO1xyXG5cdEBzdGF0ZSgpIHByaXZhdGUgc2VsZWN0ZWRNb2RlbHM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xyXG5cclxuXHQvLyBEaXNhYmxlIHNoYWRvdyBET00gdG8gdXNlIGdsb2JhbCBUYWlsd2luZCBzdHlsZXNcclxuXHRjcmVhdGVSZW5kZXJSb290KCkge1xyXG5cdFx0Y29uc29sZS5sb2coXCJjcmVhdGVSZW5kZXJSb290XCIpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuXHRcdHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcblx0XHR0aGlzLmRhdGEgPSB3aW5kb3cuY2xhdWRlRGF0YSB8fCB7IHJhd1BhaXJzOiBbXSB9O1xyXG5cdFx0dGhpcy5wcm9jZXNzRGF0YSgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwcm9jZXNzRGF0YSgpIHtcclxuXHRcdGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcblxyXG5cdFx0Ly8gVXNlIHNoYXJlZCBwcm9jZXNzb3IgZm9yIGJvdGggcHJvY2Vzc2VkIHBhaXJzIGFuZCBjb252ZXJzYXRpb25zXHJcblx0XHRjb25zdCBwcm9jZXNzb3IgPSBuZXcgU2hhcmVkQ29udmVyc2F0aW9uUHJvY2Vzc29yKCk7XHJcblxyXG5cdFx0Ly8gUHJvY2VzcyByYXcgcGFpcnMgdXNpbmcgc2hhcmVkIHByb2Nlc3NvclxyXG5cdFx0dGhpcy5wcm9jZXNzZWRQYWlycyA9IHByb2Nlc3Nvci5wcm9jZXNzUmF3UGFpcnModGhpcy5kYXRhLnJhd1BhaXJzKTtcclxuXHRcdC8vIENoZWNrIGZvciBpbmNsdWRlIGFsbCByZXF1ZXN0cyBmbGFnIGZyb20gZW52aXJvbm1lbnQgb3IgZGF0YVxyXG5cdFx0Y29uc3QgaW5jbHVkZUFsbFJlcXVlc3RzID0gdGhpcy5kYXRhLm1ldGFkYXRhPy5pbmNsdWRlQWxsUmVxdWVzdHMgfHwgZmFsc2U7XHJcblx0XHR0aGlzLmNvbnZlcnNhdGlvbnMgPSBwcm9jZXNzb3IubWVyZ2VDb252ZXJzYXRpb25zKHRoaXMucHJvY2Vzc2VkUGFpcnMsIHtcclxuXHRcdFx0aW5jbHVkZVNob3J0Q29udmVyc2F0aW9uczogaW5jbHVkZUFsbFJlcXVlc3RzLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gSW5pdGlhbGl6ZSB3aXRoIGFsbCBtb2RlbHMgYXZhaWxhYmxlLCBidXQgaGFpa3UgbW9kZWxzIGRpc2FibGVkIGJ5IGRlZmF1bHQgaW4gVUlcclxuXHRcdGNvbnN0IGNvbnZlcnNhdGlvbk1vZGVscyA9IG5ldyBTZXQodGhpcy5jb252ZXJzYXRpb25zLmZsYXRNYXAoKGMpID0+IEFycmF5LmZyb20oYy5tb2RlbHMpKSk7XHJcblx0XHRjb25zdCBwcm9jZXNzZWRQYWlyTW9kZWxzID0gbmV3IFNldCh0aGlzLnByb2Nlc3NlZFBhaXJzLm1hcCgocCkgPT4gcC5tb2RlbCkpO1xyXG5cdFx0Y29uc3QgcmF3UGFpck1vZGVscyA9IG5ldyBTZXQodGhpcy5kYXRhLnJhd1BhaXJzLm1hcCgocGFpcikgPT4gcGFpci5yZXF1ZXN0LmJvZHk/Lm1vZGVsIHx8IFwidW5rbm93blwiKSk7XHJcblx0XHRjb25zdCBhbGxNb2RlbHMgPSBuZXcgU2V0KFsuLi5jb252ZXJzYXRpb25Nb2RlbHMsIC4uLnByb2Nlc3NlZFBhaXJNb2RlbHMsIC4uLnJhd1BhaXJNb2RlbHNdKTtcclxuXHJcblx0XHQvLyBTZWxlY3QgYWxsIG1vZGVscyBieSBkZWZhdWx0IChpbmNsdWRpbmcgaGFpa3UpXHJcblx0XHR0aGlzLnNlbGVjdGVkTW9kZWxzID0gYWxsTW9kZWxzO1xyXG5cdFx0Y29uc29sZS5sb2coYFByb2Nlc3NlZCBkYXRhIGluICR7cGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydH1tc2ApO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzd2l0Y2hWaWV3KHZpZXc6IFwiY29udmVyc2F0aW9uc1wiIHwgXCJyYXdcIiB8IFwianNvblwiKSB7XHJcblx0XHR0aGlzLmN1cnJlbnRWaWV3ID0gdmlldztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdG9nZ2xlTW9kZWwobW9kZWw6IHN0cmluZykge1xyXG5cdFx0Y29uc3QgbmV3U2VsZWN0ZWRNb2RlbHMgPSBuZXcgU2V0KHRoaXMuc2VsZWN0ZWRNb2RlbHMpO1xyXG5cdFx0aWYgKG5ld1NlbGVjdGVkTW9kZWxzLmhhcyhtb2RlbCkpIHtcclxuXHRcdFx0bmV3U2VsZWN0ZWRNb2RlbHMuZGVsZXRlKG1vZGVsKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5ld1NlbGVjdGVkTW9kZWxzLmFkZChtb2RlbCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLnNlbGVjdGVkTW9kZWxzID0gbmV3U2VsZWN0ZWRNb2RlbHM7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldCBmaWx0ZXJlZENvbnZlcnNhdGlvbnMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb252ZXJzYXRpb25zLmZpbHRlcigoYykgPT4ge1xyXG5cdFx0XHQvLyBTaG93IGNvbnZlcnNhdGlvbiBpZiBBTlkgb2YgaXRzIG1vZGVscyBhcmUgc2VsZWN0ZWRcclxuXHRcdFx0cmV0dXJuIEFycmF5LmZyb20oYy5tb2RlbHMpLnNvbWUoKG1vZGVsKSA9PiB0aGlzLnNlbGVjdGVkTW9kZWxzLmhhcyhtb2RlbCkpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldCBmaWx0ZXJlZFByb2Nlc3NlZFBhaXJzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucHJvY2Vzc2VkUGFpcnMuZmlsdGVyKChwYWlyKSA9PiB0aGlzLnNlbGVjdGVkTW9kZWxzLmhhcyhwYWlyLm1vZGVsKSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldCBmaWx0ZXJlZFJhd1BhaXJzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yYXdQYWlycy5maWx0ZXIoKHBhaXIpID0+IHtcclxuXHRcdFx0Y29uc3QgbW9kZWwgPSBwYWlyLnJlcXVlc3QuYm9keT8ubW9kZWwgfHwgXCJ1bmtub3duXCI7XHJcblx0XHRcdHJldHVybiB0aGlzLnNlbGVjdGVkTW9kZWxzLmhhcyhtb2RlbCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0IGFsbFJhd1BhaXJzKCkge1xyXG5cdFx0Ly8gRGVidWcgdmlldyBzaG93cyBBTEwgcmF3IHBhaXJzIHdpdGhvdXQgYW55IGZpbHRlcmluZ1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yYXdQYWlycy5maWx0ZXIoKHBhaXIpID0+IHBhaXIucmVzcG9uc2UgIT09IG51bGwpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXQgbW9kZWxDb3VudHMoKSB7XHJcblx0XHRjb25zdCBjb3VudHMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xyXG5cdFx0dGhpcy5jb252ZXJzYXRpb25zLmZvckVhY2goKGMpID0+IHtcclxuXHRcdFx0Ly8gQ291bnQgZWFjaCBtb2RlbCB1c2VkIGluIGNvbnZlcnNhdGlvbnNcclxuXHRcdFx0QXJyYXkuZnJvbShjLm1vZGVscykuZm9yRWFjaCgobW9kZWwpID0+IHtcclxuXHRcdFx0XHRjb3VudHMuc2V0KG1vZGVsLCAoY291bnRzLmdldChtb2RlbCkgfHwgMCkgKyAxKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBjb3VudHM7XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHRjb25zdCBtb2RlbENvdW50cyA9IHRoaXMubW9kZWxDb3VudHM7XHJcblx0XHRjb25zdCBmaWx0ZXJlZENvbnZlcnNhdGlvbnMgPSB0aGlzLmZpbHRlcmVkQ29udmVyc2F0aW9ucztcclxuXHJcblx0XHRyZXR1cm4gaHRtbGBcclxuXHRcdFx0PGRpdiBjbGFzcz1cIm1pbi1oLXNjcmVlbiBiZy12cy1iZyB0ZXh0LXZzLXRleHQgZm9udC1tb25vXCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cIm1heC13LVs2MGVtXSBteC1hdXRvIHAtNFwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1iLThcIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1iLTQgdGV4dC1jZW50ZXJcIj5cclxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRleHQtdnMtZnVuY3Rpb25cIj5+IGNsYXVkZS10cmFmZmljPC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGV4dC12cy1tdXRlZCBtbC04XCI+JHt0aGlzLmRhdGEudGltZXN0YW1wIHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKX08L3NwYW4+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1iLTggdGV4dC1jZW50ZXJcIj5cclxuXHRcdFx0XHRcdFx0XHQ8c3BhblxyXG5cdFx0XHRcdFx0XHRcdFx0QGNsaWNrPSR7KCkgPT4gdGhpcy5zd2l0Y2hWaWV3KFwiY29udmVyc2F0aW9uc1wiKX1cclxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzPVwiY3Vyc29yLXBvaW50ZXIgbXItMTIgJHt0aGlzLmN1cnJlbnRWaWV3ID09PSBcImNvbnZlcnNhdGlvbnNcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ/IFwidGV4dC12cy1uYXYtYWN0aXZlXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0OiBcInRleHQtdnMtdGV4dCBob3Zlcjp0ZXh0LXZzLWFjY2VudFwifVwiXHJcblx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0Y29udmVyc2F0aW9ucyAoJHtmaWx0ZXJlZENvbnZlcnNhdGlvbnMubGVuZ3RofSlcclxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0PHNwYW5cclxuXHRcdFx0XHRcdFx0XHRcdEBjbGljaz0keygpID0+IHRoaXMuc3dpdGNoVmlldyhcInJhd1wiKX1cclxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzPVwiY3Vyc29yLXBvaW50ZXIgbXItMTIgJHt0aGlzLmN1cnJlbnRWaWV3ID09PSBcInJhd1wiXHJcblx0XHRcdFx0XHRcdFx0XHRcdD8gXCJ0ZXh0LXZzLW5hdi1hY3RpdmVcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ6IFwidGV4dC12cy10ZXh0IGhvdmVyOnRleHQtdnMtYWNjZW50XCJ9XCJcclxuXHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRyYXcgY2FsbHMgKCR7dGhpcy5hbGxSYXdQYWlycy5sZW5ndGh9KVxyXG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHQ8c3BhblxyXG5cdFx0XHRcdFx0XHRcdFx0QGNsaWNrPSR7KCkgPT4gdGhpcy5zd2l0Y2hWaWV3KFwianNvblwiKX1cclxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzPVwiY3Vyc29yLXBvaW50ZXIgbXItMTIgJHt0aGlzLmN1cnJlbnRWaWV3ID09PSBcImpzb25cIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ/IFwidGV4dC12cy1uYXYtYWN0aXZlXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0OiBcInRleHQtdnMtdGV4dCBob3Zlcjp0ZXh0LXZzLWFjY2VudFwifVwiXHJcblx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0anNvbiBkZWJ1ZyAoJHt0aGlzLmZpbHRlcmVkUHJvY2Vzc2VkUGFpcnMubGVuZ3RofSlcclxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHRcdFx0JHttb2RlbENvdW50cy5zaXplID4gMSAmJiB0aGlzLmN1cnJlbnRWaWV3ICE9PSBcInJhd1wiXHJcblx0XHRcdFx0XHRcdFx0PyBodG1sYFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWItNCB0ZXh0LWNlbnRlclwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCR7QXJyYXkuZnJvbShtb2RlbENvdW50cy5lbnRyaWVzKCkpLm1hcCgoW21vZGVsLCBfY291bnRdKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaHRtbGBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNwYW5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRAY2xpY2s9JHsoKSA9PiB0aGlzLnRvZ2dsZU1vZGVsKG1vZGVsKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzcz1cImN1cnNvci1wb2ludGVyIGhvdmVyOnRleHQtdnMtYWNjZW50IG1yLThcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JHt0aGlzLnNlbGVjdGVkTW9kZWxzLmhhcyhtb2RlbCkgPyBcIlt4XVwiIDogXCJbIF1cIn0gJHttb2RlbH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRgXHJcblx0XHRcdFx0XHRcdFx0OiBcIlwifVxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblxyXG5cdFx0XHRcdFx0PGRpdj5cclxuXHRcdFx0XHRcdFx0JHt0aGlzLmN1cnJlbnRWaWV3ID09PSBcImNvbnZlcnNhdGlvbnNcIlxyXG5cdFx0XHRcdFx0XHRcdD8gaHRtbGBcclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBpZD1cImNvbnZlcnNhdGlvbnMtdmlld1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCR7ZmlsdGVyZWRDb252ZXJzYXRpb25zLmxlbmd0aCA9PT0gMFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PyBodG1sYDxkaXY+Tm8gY29udmVyc2F0aW9ucyBmb3VuZCBmb3Igc2VsZWN0ZWQgbW9kZWxzLjwvZGl2PmBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDogaHRtbGA8c2ltcGxlLWNvbnZlcnNhdGlvbi12aWV3XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0LmNvbnZlcnNhdGlvbnM9JHtmaWx0ZXJlZENvbnZlcnNhdGlvbnN9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdD48L3NpbXBsZS1jb252ZXJzYXRpb24tdmlldz5gfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdGBcclxuXHRcdFx0XHRcdFx0XHQ6IFwiXCJ9XHJcblx0XHRcdFx0XHRcdCR7dGhpcy5jdXJyZW50VmlldyA9PT0gXCJyYXdcIlxyXG5cdFx0XHRcdFx0XHRcdD8gaHRtbGBcclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBpZD1cInJhdy12aWV3XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JHt0aGlzLmFsbFJhd1BhaXJzLmxlbmd0aCA9PT0gMFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PyBodG1sYDxkaXY+Tm8gcmF3IHBhaXJzIGZvdW5kLjwvZGl2PmBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDogaHRtbGA8cmF3LXBhaXJzLXZpZXcgLnJhd1BhaXJzPSR7dGhpcy5hbGxSYXdQYWlyc30+PC9yYXctcGFpcnMtdmlldz5gfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdGBcclxuXHRcdFx0XHRcdFx0XHQ6IFwiXCJ9XHJcblx0XHRcdFx0XHRcdCR7dGhpcy5jdXJyZW50VmlldyA9PT0gXCJqc29uXCJcclxuXHRcdFx0XHRcdFx0XHQ/IGh0bWxgXHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgaWQ9XCJqc29uLXZpZXdcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQke3RoaXMuZmlsdGVyZWRQcm9jZXNzZWRQYWlycy5sZW5ndGggPT09IDBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdD8gaHRtbGA8ZGl2Pk5vIHByb2Nlc3NlZCBwYWlycyBmb3VuZCBmb3Igc2VsZWN0ZWQgbW9kZWxzLjwvZGl2PmBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDogaHRtbGA8anNvbi12aWV3IC5wcm9jZXNzZWRQYWlycz0ke3RoaXMuZmlsdGVyZWRQcm9jZXNzZWRQYWlyc30+PC9qc29uLXZpZXc+YH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRgXHJcblx0XHRcdFx0XHRcdFx0OiBcIlwifVxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0YDtcclxuXHR9XHJcbn1cclxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG5pbXBvcnQge0Rpc2Nvbm5lY3RhYmxlLCBQYXJ0fSBmcm9tICcuL2xpdC1odG1sLmpzJztcblxuZXhwb3J0IHtcbiAgQXR0cmlidXRlUGFydCxcbiAgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsXG4gIENoaWxkUGFydCxcbiAgRWxlbWVudFBhcnQsXG4gIEV2ZW50UGFydCxcbiAgUGFydCxcbiAgUHJvcGVydHlQYXJ0LFxufSBmcm9tICcuL2xpdC1odG1sLmpzJztcblxuZXhwb3J0IGludGVyZmFjZSBEaXJlY3RpdmVDbGFzcyB7XG4gIG5ldyAocGFydDogUGFydEluZm8pOiBEaXJlY3RpdmU7XG59XG5cbi8qKlxuICogVGhpcyB1dGlsaXR5IHR5cGUgZXh0cmFjdHMgdGhlIHNpZ25hdHVyZSBvZiBhIGRpcmVjdGl2ZSBjbGFzcydzIHJlbmRlcigpXG4gKiBtZXRob2Qgc28gd2UgY2FuIHVzZSBpdCBmb3IgdGhlIHR5cGUgb2YgdGhlIGdlbmVyYXRlZCBkaXJlY3RpdmUgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCB0eXBlIERpcmVjdGl2ZVBhcmFtZXRlcnM8QyBleHRlbmRzIERpcmVjdGl2ZT4gPSBQYXJhbWV0ZXJzPENbJ3JlbmRlciddPjtcblxuLyoqXG4gKiBBIGdlbmVyYXRlZCBkaXJlY3RpdmUgZnVuY3Rpb24gZG9lc24ndCBldmFsdWF0ZSB0aGUgZGlyZWN0aXZlLCBidXQganVzdFxuICogcmV0dXJucyBhIERpcmVjdGl2ZVJlc3VsdCBvYmplY3QgdGhhdCBjYXB0dXJlcyB0aGUgYXJndW1lbnRzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZVJlc3VsdDxDIGV4dGVuZHMgRGlyZWN0aXZlQ2xhc3MgPSBEaXJlY3RpdmVDbGFzcz4ge1xuICAvKipcbiAgICogVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBbJ18kbGl0RGlyZWN0aXZlJCddOiBDO1xuICAvKiogQGludGVybmFsICovXG4gIHZhbHVlczogRGlyZWN0aXZlUGFyYW1ldGVyczxJbnN0YW5jZVR5cGU8Qz4+O1xufVxuXG5leHBvcnQgY29uc3QgUGFydFR5cGUgPSB7XG4gIEFUVFJJQlVURTogMSxcbiAgQ0hJTEQ6IDIsXG4gIFBST1BFUlRZOiAzLFxuICBCT09MRUFOX0FUVFJJQlVURTogNCxcbiAgRVZFTlQ6IDUsXG4gIEVMRU1FTlQ6IDYsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBQYXJ0VHlwZSA9ICh0eXBlb2YgUGFydFR5cGUpW2tleW9mIHR5cGVvZiBQYXJ0VHlwZV07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hpbGRQYXJ0SW5mbyB7XG4gIHJlYWRvbmx5IHR5cGU6IHR5cGVvZiBQYXJ0VHlwZS5DSElMRDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdHRyaWJ1dGVQYXJ0SW5mbyB7XG4gIHJlYWRvbmx5IHR5cGU6XG4gICAgfCB0eXBlb2YgUGFydFR5cGUuQVRUUklCVVRFXG4gICAgfCB0eXBlb2YgUGFydFR5cGUuUFJPUEVSVFlcbiAgICB8IHR5cGVvZiBQYXJ0VHlwZS5CT09MRUFOX0FUVFJJQlVURVxuICAgIHwgdHlwZW9mIFBhcnRUeXBlLkVWRU5UO1xuICByZWFkb25seSBzdHJpbmdzPzogUmVhZG9ubHlBcnJheTxzdHJpbmc+O1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHRhZ05hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbGVtZW50UGFydEluZm8ge1xuICByZWFkb25seSB0eXBlOiB0eXBlb2YgUGFydFR5cGUuRUxFTUVOVDtcbn1cblxuLyoqXG4gKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgcGFydCBhIGRpcmVjdGl2ZSBpcyBib3VuZCB0by5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY2hlY2tpbmcgdGhhdCBhIGRpcmVjdGl2ZSBpcyBhdHRhY2hlZCB0byBhIHZhbGlkIHBhcnQsXG4gKiBzdWNoIGFzIHdpdGggZGlyZWN0aXZlIHRoYXQgY2FuIG9ubHkgYmUgdXNlZCBvbiBhdHRyaWJ1dGUgYmluZGluZ3MuXG4gKi9cbmV4cG9ydCB0eXBlIFBhcnRJbmZvID0gQ2hpbGRQYXJ0SW5mbyB8IEF0dHJpYnV0ZVBhcnRJbmZvIHwgRWxlbWVudFBhcnRJbmZvO1xuXG4vKipcbiAqIENyZWF0ZXMgYSB1c2VyLWZhY2luZyBkaXJlY3RpdmUgZnVuY3Rpb24gZnJvbSBhIERpcmVjdGl2ZSBjbGFzcy4gVGhpc1xuICogZnVuY3Rpb24gaGFzIHRoZSBzYW1lIHBhcmFtZXRlcnMgYXMgdGhlIGRpcmVjdGl2ZSdzIHJlbmRlcigpIG1ldGhvZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGRpcmVjdGl2ZSA9XG4gIDxDIGV4dGVuZHMgRGlyZWN0aXZlQ2xhc3M+KGM6IEMpID0+XG4gICguLi52YWx1ZXM6IERpcmVjdGl2ZVBhcmFtZXRlcnM8SW5zdGFuY2VUeXBlPEM+Pik6IERpcmVjdGl2ZVJlc3VsdDxDPiA9PiAoe1xuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgWydfJGxpdERpcmVjdGl2ZSQnXTogYyxcbiAgICB2YWx1ZXMsXG4gIH0pO1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGNyZWF0aW5nIGN1c3RvbSBkaXJlY3RpdmVzLiBVc2VycyBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MsXG4gKiBpbXBsZW1lbnQgYHJlbmRlcmAgYW5kL29yIGB1cGRhdGVgLCBhbmQgdGhlbiBwYXNzIHRoZWlyIHN1YmNsYXNzIHRvXG4gKiBgZGlyZWN0aXZlYC5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERpcmVjdGl2ZSBpbXBsZW1lbnRzIERpc2Nvbm5lY3RhYmxlIHtcbiAgLy9AaW50ZXJuYWxcbiAgX19wYXJ0ITogUGFydDtcbiAgLy9AaW50ZXJuYWxcbiAgX19hdHRyaWJ1dGVJbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAvL0BpbnRlcm5hbFxuICBfX2RpcmVjdGl2ZT86IERpcmVjdGl2ZTtcblxuICAvL0BpbnRlcm5hbFxuICBfJHBhcmVudCE6IERpc2Nvbm5lY3RhYmxlO1xuXG4gIC8vIFRoZXNlIHdpbGwgb25seSBleGlzdCBvbiB0aGUgQXN5bmNEaXJlY3RpdmUgc3ViY2xhc3NcbiAgLy9AaW50ZXJuYWxcbiAgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuPzogU2V0PERpc2Nvbm5lY3RhYmxlPjtcbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgLy9AaW50ZXJuYWxcbiAgWydfJG5vdGlmeURpcmVjdGl2ZUNvbm5lY3Rpb25DaGFuZ2VkJ10/KGlzQ29ubmVjdGVkOiBib29sZWFuKTogdm9pZDtcblxuICBjb25zdHJ1Y3RvcihfcGFydEluZm86IFBhcnRJbmZvKSB7fVxuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQuXyRpc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRpbml0aWFsaXplKFxuICAgIHBhcnQ6IFBhcnQsXG4gICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSxcbiAgICBhdHRyaWJ1dGVJbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHRoaXMuX19wYXJ0ID0gcGFydDtcbiAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMuX19hdHRyaWJ1dGVJbmRleCA9IGF0dHJpYnV0ZUluZGV4O1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRyZXNvbHZlKHBhcnQ6IFBhcnQsIHByb3BzOiBBcnJheTx1bmtub3duPik6IHVua25vd24ge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZShwYXJ0LCBwcm9wcyk7XG4gIH1cblxuICBhYnN0cmFjdCByZW5kZXIoLi4ucHJvcHM6IEFycmF5PHVua25vd24+KTogdW5rbm93bjtcblxuICB1cGRhdGUoX3BhcnQ6IFBhcnQsIHByb3BzOiBBcnJheTx1bmtub3duPik6IHVua25vd24ge1xuICAgIHJldHVybiB0aGlzLnJlbmRlciguLi5wcm9wcyk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuaW1wb3J0IHtub3RoaW5nLCBUZW1wbGF0ZVJlc3VsdCwgbm9DaGFuZ2V9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcbmltcG9ydCB7ZGlyZWN0aXZlLCBEaXJlY3RpdmUsIFBhcnRJbmZvLCBQYXJ0VHlwZX0gZnJvbSAnLi4vZGlyZWN0aXZlLmpzJztcblxuY29uc3QgSFRNTF9SRVNVTFQgPSAxO1xuXG5leHBvcnQgY2xhc3MgVW5zYWZlSFRNTERpcmVjdGl2ZSBleHRlbmRzIERpcmVjdGl2ZSB7XG4gIHN0YXRpYyBkaXJlY3RpdmVOYW1lID0gJ3Vuc2FmZUhUTUwnO1xuICBzdGF0aWMgcmVzdWx0VHlwZSA9IEhUTUxfUkVTVUxUO1xuXG4gIHByaXZhdGUgX3ZhbHVlOiB1bmtub3duID0gbm90aGluZztcbiAgcHJpdmF0ZSBfdGVtcGxhdGVSZXN1bHQ/OiBUZW1wbGF0ZVJlc3VsdDtcblxuICBjb25zdHJ1Y3RvcihwYXJ0SW5mbzogUGFydEluZm8pIHtcbiAgICBzdXBlcihwYXJ0SW5mbyk7XG4gICAgaWYgKHBhcnRJbmZvLnR5cGUgIT09IFBhcnRUeXBlLkNISUxEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGAke1xuICAgICAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVbnNhZmVIVE1MRGlyZWN0aXZlKS5kaXJlY3RpdmVOYW1lXG4gICAgICAgIH0oKSBjYW4gb25seSBiZSB1c2VkIGluIGNoaWxkIGJpbmRpbmdzYFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIodmFsdWU6IHN0cmluZyB8IHR5cGVvZiBub3RoaW5nIHwgdHlwZW9mIG5vQ2hhbmdlIHwgdW5kZWZpbmVkIHwgbnVsbCkge1xuICAgIGlmICh2YWx1ZSA9PT0gbm90aGluZyB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICB0aGlzLl90ZW1wbGF0ZVJlc3VsdCA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiAodGhpcy5fdmFsdWUgPSB2YWx1ZSk7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgJHtcbiAgICAgICAgICAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgVW5zYWZlSFRNTERpcmVjdGl2ZSkuZGlyZWN0aXZlTmFtZVxuICAgICAgICB9KCkgY2FsbGVkIHdpdGggYSBub24tc3RyaW5nIHZhbHVlYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSB0aGlzLl92YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RlbXBsYXRlUmVzdWx0O1xuICAgIH1cbiAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIGNvbnN0IHN0cmluZ3MgPSBbdmFsdWVdIGFzIHVua25vd24gYXMgVGVtcGxhdGVTdHJpbmdzQXJyYXk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAoc3RyaW5ncyBhcyBhbnkpLnJhdyA9IHN0cmluZ3M7XG4gICAgLy8gV0FSTklORzogaW1wZXJzb25hdGluZyBhIFRlbXBsYXRlUmVzdWx0IGxpa2UgdGhpcyBpcyBleHRyZW1lbHlcbiAgICAvLyBkYW5nZXJvdXMuIFRoaXJkLXBhcnR5IGRpcmVjdGl2ZXMgc2hvdWxkIG5vdCBkbyB0aGlzLlxuICAgIHJldHVybiAodGhpcy5fdGVtcGxhdGVSZXN1bHQgPSB7XG4gICAgICAvLyBDYXN0IHRvIGEga25vd24gc2V0IG9mIGludGVnZXJzIHRoYXQgc2F0aXNmeSBSZXN1bHRUeXBlIHNvIHRoYXQgd2VcbiAgICAgIC8vIGRvbid0IGhhdmUgdG8gZXhwb3J0IFJlc3VsdFR5cGUgYW5kIHBvc3NpYmx5IGVuY291cmFnZSB0aGlzIHBhdHRlcm4uXG4gICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgWydfJGxpdFR5cGUkJ106ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVbnNhZmVIVE1MRGlyZWN0aXZlKVxuICAgICAgICAucmVzdWx0VHlwZSBhcyAxIHwgMixcbiAgICAgIHN0cmluZ3MsXG4gICAgICB2YWx1ZXM6IFtdLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogUmVuZGVycyB0aGUgcmVzdWx0IGFzIEhUTUwsIHJhdGhlciB0aGFuIHRleHQuXG4gKlxuICogVGhlIHZhbHVlcyBgdW5kZWZpbmVkYCwgYG51bGxgLCBhbmQgYG5vdGhpbmdgLCB3aWxsIGFsbCByZXN1bHQgaW4gbm8gY29udGVudFxuICogKGVtcHR5IHN0cmluZykgYmVpbmcgcmVuZGVyZWQuXG4gKlxuICogTm90ZSwgdGhpcyBpcyB1bnNhZmUgdG8gdXNlIHdpdGggYW55IHVzZXItcHJvdmlkZWQgaW5wdXQgdGhhdCBoYXNuJ3QgYmVlblxuICogc2FuaXRpemVkIG9yIGVzY2FwZWQsIGFzIGl0IG1heSBsZWFkIHRvIGNyb3NzLXNpdGUtc2NyaXB0aW5nXG4gKiB2dWxuZXJhYmlsaXRpZXMuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVIVE1MID0gZGlyZWN0aXZlKFVuc2FmZUhUTUxEaXJlY3RpdmUpO1xuIiwgImV4cG9ydCBkZWZhdWx0IGNsYXNzIERpZmYge1xuICAgIGRpZmYob2xkU3RyLCBuZXdTdHIsIFxuICAgIC8vIFR5cGUgYmVsb3cgaXMgbm90IGFjY3VyYXRlL2NvbXBsZXRlIC0gc2VlIGFib3ZlIGZvciBmdWxsIHBvc3NpYmlsaXRpZXMgLSBidXQgaXQgY29tcGlsZXNcbiAgICBvcHRpb25zID0ge30pIHtcbiAgICAgICAgbGV0IGNhbGxiYWNrO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgnY2FsbGJhY2snIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICAvLyBBbGxvdyBzdWJjbGFzc2VzIHRvIG1hc3NhZ2UgdGhlIGlucHV0IHByaW9yIHRvIHJ1bm5pbmdcbiAgICAgICAgY29uc3Qgb2xkU3RyaW5nID0gdGhpcy5jYXN0SW5wdXQob2xkU3RyLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgbmV3U3RyaW5nID0gdGhpcy5jYXN0SW5wdXQobmV3U3RyLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3Qgb2xkVG9rZW5zID0gdGhpcy5yZW1vdmVFbXB0eSh0aGlzLnRva2VuaXplKG9sZFN0cmluZywgb3B0aW9ucykpO1xuICAgICAgICBjb25zdCBuZXdUb2tlbnMgPSB0aGlzLnJlbW92ZUVtcHR5KHRoaXMudG9rZW5pemUobmV3U3RyaW5nLCBvcHRpb25zKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRpZmZXaXRoT3B0aW9uc09iaihvbGRUb2tlbnMsIG5ld1Rva2Vucywgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBkaWZmV2l0aE9wdGlvbnNPYmoob2xkVG9rZW5zLCBuZXdUb2tlbnMsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZG9uZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnBvc3RQcm9jZXNzKHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBjYWxsYmFjayh2YWx1ZSk7IH0sIDApO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5ld0xlbiA9IG5ld1Rva2Vucy5sZW5ndGgsIG9sZExlbiA9IG9sZFRva2Vucy5sZW5ndGg7XG4gICAgICAgIGxldCBlZGl0TGVuZ3RoID0gMTtcbiAgICAgICAgbGV0IG1heEVkaXRMZW5ndGggPSBuZXdMZW4gKyBvbGRMZW47XG4gICAgICAgIGlmIChvcHRpb25zLm1heEVkaXRMZW5ndGggIT0gbnVsbCkge1xuICAgICAgICAgICAgbWF4RWRpdExlbmd0aCA9IE1hdGgubWluKG1heEVkaXRMZW5ndGgsIG9wdGlvbnMubWF4RWRpdExlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF4RXhlY3V0aW9uVGltZSA9IChfYSA9IG9wdGlvbnMudGltZW91dCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogSW5maW5pdHk7XG4gICAgICAgIGNvbnN0IGFib3J0QWZ0ZXJUaW1lc3RhbXAgPSBEYXRlLm5vdygpICsgbWF4RXhlY3V0aW9uVGltZTtcbiAgICAgICAgY29uc3QgYmVzdFBhdGggPSBbeyBvbGRQb3M6IC0xLCBsYXN0Q29tcG9uZW50OiB1bmRlZmluZWQgfV07XG4gICAgICAgIC8vIFNlZWQgZWRpdExlbmd0aCA9IDAsIGkuZS4gdGhlIGNvbnRlbnQgc3RhcnRzIHdpdGggdGhlIHNhbWUgdmFsdWVzXG4gICAgICAgIGxldCBuZXdQb3MgPSB0aGlzLmV4dHJhY3RDb21tb24oYmVzdFBhdGhbMF0sIG5ld1Rva2Vucywgb2xkVG9rZW5zLCAwLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKGJlc3RQYXRoWzBdLm9sZFBvcyArIDEgPj0gb2xkTGVuICYmIG5ld1BvcyArIDEgPj0gbmV3TGVuKSB7XG4gICAgICAgICAgICAvLyBJZGVudGl0eSBwZXIgdGhlIGVxdWFsaXR5IGFuZCB0b2tlbml6ZXJcbiAgICAgICAgICAgIHJldHVybiBkb25lKHRoaXMuYnVpbGRWYWx1ZXMoYmVzdFBhdGhbMF0ubGFzdENvbXBvbmVudCwgbmV3VG9rZW5zLCBvbGRUb2tlbnMpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmNlIHdlIGhpdCB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgZWRpdCBncmFwaCBvbiBzb21lIGRpYWdvbmFsIGssIHdlIGNhblxuICAgICAgICAvLyBkZWZpbml0ZWx5IHJlYWNoIHRoZSBlbmQgb2YgdGhlIGVkaXQgZ3JhcGggaW4gbm8gbW9yZSB0aGFuIGsgZWRpdHMsIHNvXG4gICAgICAgIC8vIHRoZXJlJ3Mgbm8gcG9pbnQgaW4gY29uc2lkZXJpbmcgYW55IG1vdmVzIHRvIGRpYWdvbmFsIGsrMSBhbnkgbW9yZSAoZnJvbVxuICAgICAgICAvLyB3aGljaCB3ZSdyZSBndWFyYW50ZWVkIHRvIG5lZWQgYXQgbGVhc3QgaysxIG1vcmUgZWRpdHMpLlxuICAgICAgICAvLyBTaW1pbGFybHksIG9uY2Ugd2UndmUgcmVhY2hlZCB0aGUgYm90dG9tIG9mIHRoZSBlZGl0IGdyYXBoLCB0aGVyZSdzIG5vXG4gICAgICAgIC8vIHBvaW50IGNvbnNpZGVyaW5nIG1vdmVzIHRvIGxvd2VyIGRpYWdvbmFscy5cbiAgICAgICAgLy8gV2UgcmVjb3JkIHRoaXMgZmFjdCBieSBzZXR0aW5nIG1pbkRpYWdvbmFsVG9Db25zaWRlciBhbmRcbiAgICAgICAgLy8gbWF4RGlhZ29uYWxUb0NvbnNpZGVyIHRvIHNvbWUgZmluaXRlIHZhbHVlIG9uY2Ugd2UndmUgaGl0IHRoZSBlZGdlIG9mXG4gICAgICAgIC8vIHRoZSBlZGl0IGdyYXBoLlxuICAgICAgICAvLyBUaGlzIG9wdGltaXphdGlvbiBpcyBub3QgZmFpdGhmdWwgdG8gdGhlIG9yaWdpbmFsIGFsZ29yaXRobSBwcmVzZW50ZWQgaW5cbiAgICAgICAgLy8gTXllcnMncyBwYXBlciwgd2hpY2ggaW5zdGVhZCBwb2ludGxlc3NseSBleHRlbmRzIEQtcGF0aHMgb2ZmIHRoZSBlbmQgb2ZcbiAgICAgICAgLy8gdGhlIGVkaXQgZ3JhcGggLSBzZWUgcGFnZSA3IG9mIE15ZXJzJ3MgcGFwZXIgd2hpY2ggbm90ZXMgdGhpcyBwb2ludFxuICAgICAgICAvLyBleHBsaWNpdGx5IGFuZCBpbGx1c3RyYXRlcyBpdCB3aXRoIGEgZGlhZ3JhbS4gVGhpcyBoYXMgbWFqb3IgcGVyZm9ybWFuY2VcbiAgICAgICAgLy8gaW1wbGljYXRpb25zIGZvciBzb21lIGNvbW1vbiBzY2VuYXJpb3MuIEZvciBpbnN0YW5jZSwgdG8gY29tcHV0ZSBhIGRpZmZcbiAgICAgICAgLy8gd2hlcmUgdGhlIG5ldyB0ZXh0IHNpbXBseSBhcHBlbmRzIGQgY2hhcmFjdGVycyBvbiB0aGUgZW5kIG9mIHRoZVxuICAgICAgICAvLyBvcmlnaW5hbCB0ZXh0IG9mIGxlbmd0aCBuLCB0aGUgdHJ1ZSBNeWVycyBhbGdvcml0aG0gd2lsbCB0YWtlIE8obitkXjIpXG4gICAgICAgIC8vIHRpbWUgd2hpbGUgdGhpcyBvcHRpbWl6YXRpb24gbmVlZHMgb25seSBPKG4rZCkgdGltZS5cbiAgICAgICAgbGV0IG1pbkRpYWdvbmFsVG9Db25zaWRlciA9IC1JbmZpbml0eSwgbWF4RGlhZ29uYWxUb0NvbnNpZGVyID0gSW5maW5pdHk7XG4gICAgICAgIC8vIE1haW4gd29ya2VyIG1ldGhvZC4gY2hlY2tzIGFsbCBwZXJtdXRhdGlvbnMgb2YgYSBnaXZlbiBlZGl0IGxlbmd0aCBmb3IgYWNjZXB0YW5jZS5cbiAgICAgICAgY29uc3QgZXhlY0VkaXRMZW5ndGggPSAoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBkaWFnb25hbFBhdGggPSBNYXRoLm1heChtaW5EaWFnb25hbFRvQ29uc2lkZXIsIC1lZGl0TGVuZ3RoKTsgZGlhZ29uYWxQYXRoIDw9IE1hdGgubWluKG1heERpYWdvbmFsVG9Db25zaWRlciwgZWRpdExlbmd0aCk7IGRpYWdvbmFsUGF0aCArPSAyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJhc2VQYXRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZVBhdGggPSBiZXN0UGF0aFtkaWFnb25hbFBhdGggLSAxXSwgYWRkUGF0aCA9IGJlc3RQYXRoW2RpYWdvbmFsUGF0aCArIDFdO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIG9uZSBlbHNlIGlzIGdvaW5nIHRvIGF0dGVtcHQgdG8gdXNlIHRoaXMgdmFsdWUsIGNsZWFyIGl0XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBwZXJmIG9wdGltaXNhdGlvbi4gVGhpcyB0eXBlLXZpb2xhdGluZyB2YWx1ZSB3aWxsIG5ldmVyIGJlIHJlYWQuXG4gICAgICAgICAgICAgICAgICAgIGJlc3RQYXRoW2RpYWdvbmFsUGF0aCAtIDFdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgY2FuQWRkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGFkZFBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hhdCBuZXdQb3Mgd2lsbCBiZSBhZnRlciB3ZSBkbyBhbiBpbnNlcnRpb246XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZFBhdGhOZXdQb3MgPSBhZGRQYXRoLm9sZFBvcyAtIGRpYWdvbmFsUGF0aDtcbiAgICAgICAgICAgICAgICAgICAgY2FuQWRkID0gYWRkUGF0aCAmJiAwIDw9IGFkZFBhdGhOZXdQb3MgJiYgYWRkUGF0aE5ld1BvcyA8IG5ld0xlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2FuUmVtb3ZlID0gcmVtb3ZlUGF0aCAmJiByZW1vdmVQYXRoLm9sZFBvcyArIDEgPCBvbGRMZW47XG4gICAgICAgICAgICAgICAgaWYgKCFjYW5BZGQgJiYgIWNhblJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIHBhdGggaXMgYSB0ZXJtaW5hbCB0aGVuIHBydW5lXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBwZXJmIG9wdGltaXNhdGlvbi4gVGhpcyB0eXBlLXZpb2xhdGluZyB2YWx1ZSB3aWxsIG5ldmVyIGJlIHJlYWQuXG4gICAgICAgICAgICAgICAgICAgIGJlc3RQYXRoW2RpYWdvbmFsUGF0aF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QgdGhlIGRpYWdvbmFsIHRoYXQgd2Ugd2FudCB0byBicmFuY2ggZnJvbS4gV2Ugc2VsZWN0IHRoZSBwcmlvclxuICAgICAgICAgICAgICAgIC8vIHBhdGggd2hvc2UgcG9zaXRpb24gaW4gdGhlIG9sZCBzdHJpbmcgaXMgdGhlIGZhcnRoZXN0IGZyb20gdGhlIG9yaWdpblxuICAgICAgICAgICAgICAgIC8vIGFuZCBkb2VzIG5vdCBwYXNzIHRoZSBib3VuZHMgb2YgdGhlIGRpZmYgZ3JhcGhcbiAgICAgICAgICAgICAgICBpZiAoIWNhblJlbW92ZSB8fCAoY2FuQWRkICYmIHJlbW92ZVBhdGgub2xkUG9zIDwgYWRkUGF0aC5vbGRQb3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VQYXRoID0gdGhpcy5hZGRUb1BhdGgoYWRkUGF0aCwgdHJ1ZSwgZmFsc2UsIDAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVBhdGggPSB0aGlzLmFkZFRvUGF0aChyZW1vdmVQYXRoLCBmYWxzZSwgdHJ1ZSwgMSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld1BvcyA9IHRoaXMuZXh0cmFjdENvbW1vbihiYXNlUGF0aCwgbmV3VG9rZW5zLCBvbGRUb2tlbnMsIGRpYWdvbmFsUGF0aCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2VQYXRoLm9sZFBvcyArIDEgPj0gb2xkTGVuICYmIG5ld1BvcyArIDEgPj0gbmV3TGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgaGl0IHRoZSBlbmQgb2YgYm90aCBzdHJpbmdzLCB0aGVuIHdlIGFyZSBkb25lXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb25lKHRoaXMuYnVpbGRWYWx1ZXMoYmFzZVBhdGgubGFzdENvbXBvbmVudCwgbmV3VG9rZW5zLCBvbGRUb2tlbnMpKSB8fCB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmVzdFBhdGhbZGlhZ29uYWxQYXRoXSA9IGJhc2VQYXRoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZVBhdGgub2xkUG9zICsgMSA+PSBvbGRMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heERpYWdvbmFsVG9Db25zaWRlciA9IE1hdGgubWluKG1heERpYWdvbmFsVG9Db25zaWRlciwgZGlhZ29uYWxQYXRoIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1BvcyArIDEgPj0gbmV3TGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5EaWFnb25hbFRvQ29uc2lkZXIgPSBNYXRoLm1heChtaW5EaWFnb25hbFRvQ29uc2lkZXIsIGRpYWdvbmFsUGF0aCArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWRpdExlbmd0aCsrO1xuICAgICAgICB9O1xuICAgICAgICAvLyBQZXJmb3JtcyB0aGUgbGVuZ3RoIG9mIGVkaXQgaXRlcmF0aW9uLiBJcyBhIGJpdCBmdWdseSBhcyB0aGlzIGhhcyB0byBzdXBwb3J0IHRoZVxuICAgICAgICAvLyBzeW5jIGFuZCBhc3luYyBtb2RlIHdoaWNoIGlzIG5ldmVyIGZ1bi4gTG9vcHMgb3ZlciBleGVjRWRpdExlbmd0aCB1bnRpbCBhIHZhbHVlXG4gICAgICAgIC8vIGlzIHByb2R1Y2VkLCBvciB1bnRpbCB0aGUgZWRpdCBsZW5ndGggZXhjZWVkcyBvcHRpb25zLm1heEVkaXRMZW5ndGggKGlmIGdpdmVuKSxcbiAgICAgICAgLy8gaW4gd2hpY2ggY2FzZSBpdCB3aWxsIHJldHVybiB1bmRlZmluZWQuXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgKGZ1bmN0aW9uIGV4ZWMoKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlZGl0TGVuZ3RoID4gbWF4RWRpdExlbmd0aCB8fCBEYXRlLm5vdygpID4gYWJvcnRBZnRlclRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFleGVjRWRpdExlbmd0aCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAoZWRpdExlbmd0aCA8PSBtYXhFZGl0TGVuZ3RoICYmIERhdGUubm93KCkgPD0gYWJvcnRBZnRlclRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldCA9IGV4ZWNFZGl0TGVuZ3RoKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRUb1BhdGgocGF0aCwgYWRkZWQsIHJlbW92ZWQsIG9sZFBvc0luYywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBsYXN0ID0gcGF0aC5sYXN0Q29tcG9uZW50O1xuICAgICAgICBpZiAobGFzdCAmJiAhb3B0aW9ucy5vbmVDaGFuZ2VQZXJUb2tlbiAmJiBsYXN0LmFkZGVkID09PSBhZGRlZCAmJiBsYXN0LnJlbW92ZWQgPT09IHJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgb2xkUG9zOiBwYXRoLm9sZFBvcyArIG9sZFBvc0luYyxcbiAgICAgICAgICAgICAgICBsYXN0Q29tcG9uZW50OiB7IGNvdW50OiBsYXN0LmNvdW50ICsgMSwgYWRkZWQ6IGFkZGVkLCByZW1vdmVkOiByZW1vdmVkLCBwcmV2aW91c0NvbXBvbmVudDogbGFzdC5wcmV2aW91c0NvbXBvbmVudCB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBvbGRQb3M6IHBhdGgub2xkUG9zICsgb2xkUG9zSW5jLFxuICAgICAgICAgICAgICAgIGxhc3RDb21wb25lbnQ6IHsgY291bnQ6IDEsIGFkZGVkOiBhZGRlZCwgcmVtb3ZlZDogcmVtb3ZlZCwgcHJldmlvdXNDb21wb25lbnQ6IGxhc3QgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBleHRyYWN0Q29tbW9uKGJhc2VQYXRoLCBuZXdUb2tlbnMsIG9sZFRva2VucywgZGlhZ29uYWxQYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG5ld0xlbiA9IG5ld1Rva2Vucy5sZW5ndGgsIG9sZExlbiA9IG9sZFRva2Vucy5sZW5ndGg7XG4gICAgICAgIGxldCBvbGRQb3MgPSBiYXNlUGF0aC5vbGRQb3MsIG5ld1BvcyA9IG9sZFBvcyAtIGRpYWdvbmFsUGF0aCwgY29tbW9uQ291bnQgPSAwO1xuICAgICAgICB3aGlsZSAobmV3UG9zICsgMSA8IG5ld0xlbiAmJiBvbGRQb3MgKyAxIDwgb2xkTGVuICYmIHRoaXMuZXF1YWxzKG9sZFRva2Vuc1tvbGRQb3MgKyAxXSwgbmV3VG9rZW5zW25ld1BvcyArIDFdLCBvcHRpb25zKSkge1xuICAgICAgICAgICAgbmV3UG9zKys7XG4gICAgICAgICAgICBvbGRQb3MrKztcbiAgICAgICAgICAgIGNvbW1vbkNvdW50Kys7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5vbmVDaGFuZ2VQZXJUb2tlbikge1xuICAgICAgICAgICAgICAgIGJhc2VQYXRoLmxhc3RDb21wb25lbnQgPSB7IGNvdW50OiAxLCBwcmV2aW91c0NvbXBvbmVudDogYmFzZVBhdGgubGFzdENvbXBvbmVudCwgYWRkZWQ6IGZhbHNlLCByZW1vdmVkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb21tb25Db3VudCAmJiAhb3B0aW9ucy5vbmVDaGFuZ2VQZXJUb2tlbikge1xuICAgICAgICAgICAgYmFzZVBhdGgubGFzdENvbXBvbmVudCA9IHsgY291bnQ6IGNvbW1vbkNvdW50LCBwcmV2aW91c0NvbXBvbmVudDogYmFzZVBhdGgubGFzdENvbXBvbmVudCwgYWRkZWQ6IGZhbHNlLCByZW1vdmVkOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGJhc2VQYXRoLm9sZFBvcyA9IG9sZFBvcztcbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9XG4gICAgZXF1YWxzKGxlZnQsIHJpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmNvbXBhcmF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmNvbXBhcmF0b3IobGVmdCwgcmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxlZnQgPT09IHJpZ2h0XG4gICAgICAgICAgICAgICAgfHwgKCEhb3B0aW9ucy5pZ25vcmVDYXNlICYmIGxlZnQudG9Mb3dlckNhc2UoKSA9PT0gcmlnaHQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlRW1wdHkoYXJyYXkpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJheVtpXSkge1xuICAgICAgICAgICAgICAgIHJldC5wdXNoKGFycmF5W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgY2FzdElucHV0KHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIHRva2VuaXplKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHZhbHVlKTtcbiAgICB9XG4gICAgam9pbihjaGFycykge1xuICAgICAgICAvLyBBc3N1bWVzIFZhbHVlVCBpcyBzdHJpbmcsIHdoaWNoIGlzIHRoZSBjYXNlIGZvciBtb3N0IHN1YmNsYXNzZXMuXG4gICAgICAgIC8vIFdoZW4gaXQncyBmYWxzZSwgZS5nLiBpbiBkaWZmQXJyYXlzLCB0aGlzIG1ldGhvZCBuZWVkcyB0byBiZSBvdmVycmlkZGVuIChlLmcuIHdpdGggYSBuby1vcClcbiAgICAgICAgLy8gWWVzLCB0aGUgY2FzdHMgYXJlIHZlcmJvc2UgYW5kIHVnbHksIGJlY2F1c2UgdGhpcyBwYXR0ZXJuIC0gb2YgaGF2aW5nIHRoZSBiYXNlIGNsYXNzIFNPUlQgT0ZcbiAgICAgICAgLy8gYXNzdW1lIHRva2VucyBhbmQgdmFsdWVzIGFyZSBzdHJpbmdzLCBidXQgbm90IGNvbXBsZXRlbHkgLSBpcyB3ZWlyZCBhbmQgamFua3kuXG4gICAgICAgIHJldHVybiBjaGFycy5qb2luKCcnKTtcbiAgICB9XG4gICAgcG9zdFByb2Nlc3MoY2hhbmdlT2JqZWN0cywgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZU9iamVjdHM7XG4gICAgfVxuICAgIGdldCB1c2VMb25nZXN0VG9rZW4oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYnVpbGRWYWx1ZXMobGFzdENvbXBvbmVudCwgbmV3VG9rZW5zLCBvbGRUb2tlbnMpIHtcbiAgICAgICAgLy8gRmlyc3Qgd2UgY29udmVydCBvdXIgbGlua2VkIGxpc3Qgb2YgY29tcG9uZW50cyBpbiByZXZlcnNlIG9yZGVyIHRvIGFuXG4gICAgICAgIC8vIGFycmF5IGluIHRoZSByaWdodCBvcmRlcjpcbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IFtdO1xuICAgICAgICBsZXQgbmV4dENvbXBvbmVudDtcbiAgICAgICAgd2hpbGUgKGxhc3RDb21wb25lbnQpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucHVzaChsYXN0Q29tcG9uZW50KTtcbiAgICAgICAgICAgIG5leHRDb21wb25lbnQgPSBsYXN0Q29tcG9uZW50LnByZXZpb3VzQ29tcG9uZW50O1xuICAgICAgICAgICAgZGVsZXRlIGxhc3RDb21wb25lbnQucHJldmlvdXNDb21wb25lbnQ7XG4gICAgICAgICAgICBsYXN0Q29tcG9uZW50ID0gbmV4dENvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnRzLnJldmVyc2UoKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50TGVuID0gY29tcG9uZW50cy5sZW5ndGg7XG4gICAgICAgIGxldCBjb21wb25lbnRQb3MgPSAwLCBuZXdQb3MgPSAwLCBvbGRQb3MgPSAwO1xuICAgICAgICBmb3IgKDsgY29tcG9uZW50UG9zIDwgY29tcG9uZW50TGVuOyBjb21wb25lbnRQb3MrKykge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gY29tcG9uZW50c1tjb21wb25lbnRQb3NdO1xuICAgICAgICAgICAgaWYgKCFjb21wb25lbnQucmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50LmFkZGVkICYmIHRoaXMudXNlTG9uZ2VzdFRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IG5ld1Rva2Vucy5zbGljZShuZXdQb3MsIG5ld1BvcyArIGNvbXBvbmVudC5jb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBvbGRUb2tlbnNbb2xkUG9zICsgaV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2xkVmFsdWUubGVuZ3RoID4gdmFsdWUubGVuZ3RoID8gb2xkVmFsdWUgOiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC52YWx1ZSA9IHRoaXMuam9pbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQudmFsdWUgPSB0aGlzLmpvaW4obmV3VG9rZW5zLnNsaWNlKG5ld1BvcywgbmV3UG9zICsgY29tcG9uZW50LmNvdW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld1BvcyArPSBjb21wb25lbnQuY291bnQ7XG4gICAgICAgICAgICAgICAgLy8gQ29tbW9uIGNhc2VcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudC5hZGRlZCkge1xuICAgICAgICAgICAgICAgICAgICBvbGRQb3MgKz0gY29tcG9uZW50LmNvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC52YWx1ZSA9IHRoaXMuam9pbihvbGRUb2tlbnMuc2xpY2Uob2xkUG9zLCBvbGRQb3MgKyBjb21wb25lbnQuY291bnQpKTtcbiAgICAgICAgICAgICAgICBvbGRQb3MgKz0gY29tcG9uZW50LmNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wb25lbnRzO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgRGlmZiBmcm9tICcuL2Jhc2UuanMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVPcHRpb25zIH0gZnJvbSAnLi4vdXRpbC9wYXJhbXMuanMnO1xuY2xhc3MgTGluZURpZmYgZXh0ZW5kcyBEaWZmIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy50b2tlbml6ZSA9IHRva2VuaXplO1xuICAgIH1cbiAgICBlcXVhbHMobGVmdCwgcmlnaHQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gSWYgd2UncmUgaWdub3Jpbmcgd2hpdGVzcGFjZSwgd2UgbmVlZCB0byBub3JtYWxpc2UgbGluZXMgYnkgc3RyaXBwaW5nXG4gICAgICAgIC8vIHdoaXRlc3BhY2UgYmVmb3JlIGNoZWNraW5nIGVxdWFsaXR5LiAoVGhpcyBoYXMgYW4gYW5ub3lpbmcgaW50ZXJhY3Rpb25cbiAgICAgICAgLy8gd2l0aCBuZXdsaW5lSXNUb2tlbiB0aGF0IHJlcXVpcmVzIHNwZWNpYWwgaGFuZGxpbmc6IGlmIG5ld2xpbmVzIGdldCB0aGVpclxuICAgICAgICAvLyBvd24gdG9rZW4sIHRoZW4gd2UgRE9OJ1Qgd2FudCB0byB0cmltIHRoZSAqbmV3bGluZSogdG9rZW5zIGRvd24gdG8gZW1wdHlcbiAgICAgICAgLy8gc3RyaW5ncywgc2luY2UgdGhpcyB3b3VsZCBjYXVzZSB1cyB0byB0cmVhdCB3aGl0ZXNwYWNlLW9ubHkgbGluZSBjb250ZW50XG4gICAgICAgIC8vIGFzIGVxdWFsIHRvIGEgc2VwYXJhdG9yIGJldHdlZW4gbGluZXMsIHdoaWNoIHdvdWxkIGJlIHdlaXJkIGFuZFxuICAgICAgICAvLyBpbmNvbnNpc3RlbnQgd2l0aCB0aGUgZG9jdW1lbnRlZCBiZWhhdmlvciBvZiB0aGUgb3B0aW9ucy4pXG4gICAgICAgIGlmIChvcHRpb25zLmlnbm9yZVdoaXRlc3BhY2UpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5uZXdsaW5lSXNUb2tlbiB8fCAhbGVmdC5pbmNsdWRlcygnXFxuJykpIHtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gbGVmdC50cmltKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMubmV3bGluZUlzVG9rZW4gfHwgIXJpZ2h0LmluY2x1ZGVzKCdcXG4nKSkge1xuICAgICAgICAgICAgICAgIHJpZ2h0ID0gcmlnaHQudHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaWdub3JlTmV3bGluZUF0RW9mICYmICFvcHRpb25zLm5ld2xpbmVJc1Rva2VuKSB7XG4gICAgICAgICAgICBpZiAobGVmdC5lbmRzV2l0aCgnXFxuJykpIHtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gbGVmdC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmlnaHQuZW5kc1dpdGgoJ1xcbicpKSB7XG4gICAgICAgICAgICAgICAgcmlnaHQgPSByaWdodC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLmVxdWFscyhsZWZ0LCByaWdodCwgb3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGxpbmVEaWZmID0gbmV3IExpbmVEaWZmKCk7XG5leHBvcnQgZnVuY3Rpb24gZGlmZkxpbmVzKG9sZFN0ciwgbmV3U3RyLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxpbmVEaWZmLmRpZmYob2xkU3RyLCBuZXdTdHIsIG9wdGlvbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZUcmltbWVkTGluZXMob2xkU3RyLCBuZXdTdHIsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gZ2VuZXJhdGVPcHRpb25zKG9wdGlvbnMsIHsgaWdub3JlV2hpdGVzcGFjZTogdHJ1ZSB9KTtcbiAgICByZXR1cm4gbGluZURpZmYuZGlmZihvbGRTdHIsIG5ld1N0ciwgb3B0aW9ucyk7XG59XG4vLyBFeHBvcnRlZCBzdGFuZGFsb25lIHNvIGl0IGNhbiBiZSB1c2VkIGZyb20ganNvbkRpZmYgdG9vLlxuZXhwb3J0IGZ1bmN0aW9uIHRva2VuaXplKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuc3RyaXBUcmFpbGluZ0NyKSB7XG4gICAgICAgIC8vIHJlbW92ZSBvbmUgXFxyIGJlZm9yZSBcXG4gdG8gbWF0Y2ggR05VIGRpZmYncyAtLXN0cmlwLXRyYWlsaW5nLWNyIGJlaGF2aW9yXG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxyXFxuL2csICdcXG4nKTtcbiAgICB9XG4gICAgY29uc3QgcmV0TGluZXMgPSBbXSwgbGluZXNBbmROZXdsaW5lcyA9IHZhbHVlLnNwbGl0KC8oXFxufFxcclxcbikvKTtcbiAgICAvLyBJZ25vcmUgdGhlIGZpbmFsIGVtcHR5IHRva2VuIHRoYXQgb2NjdXJzIGlmIHRoZSBzdHJpbmcgZW5kcyB3aXRoIGEgbmV3IGxpbmVcbiAgICBpZiAoIWxpbmVzQW5kTmV3bGluZXNbbGluZXNBbmROZXdsaW5lcy5sZW5ndGggLSAxXSkge1xuICAgICAgICBsaW5lc0FuZE5ld2xpbmVzLnBvcCgpO1xuICAgIH1cbiAgICAvLyBNZXJnZSB0aGUgY29udGVudCBhbmQgbGluZSBzZXBhcmF0b3JzIGludG8gc2luZ2xlIHRva2Vuc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXNBbmROZXdsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBsaW5lID0gbGluZXNBbmROZXdsaW5lc1tpXTtcbiAgICAgICAgaWYgKGkgJSAyICYmICFvcHRpb25zLm5ld2xpbmVJc1Rva2VuKSB7XG4gICAgICAgICAgICByZXRMaW5lc1tyZXRMaW5lcy5sZW5ndGggLSAxXSArPSBsaW5lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0TGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0TGluZXM7XG59XG4iLCAiLyoqXG4gKiBHZXRzIHRoZSBvcmlnaW5hbCBtYXJrZWQgZGVmYXVsdCBvcHRpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gX2dldERlZmF1bHRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgYnJlYWtzOiBmYWxzZSxcbiAgICAgICAgZXh0ZW5zaW9uczogbnVsbCxcbiAgICAgICAgZ2ZtOiB0cnVlLFxuICAgICAgICBob29rczogbnVsbCxcbiAgICAgICAgcGVkYW50aWM6IGZhbHNlLFxuICAgICAgICByZW5kZXJlcjogbnVsbCxcbiAgICAgICAgc2lsZW50OiBmYWxzZSxcbiAgICAgICAgdG9rZW5pemVyOiBudWxsLFxuICAgICAgICB3YWxrVG9rZW5zOiBudWxsXG4gICAgfTtcbn1cbmV4cG9ydCBsZXQgX2RlZmF1bHRzID0gX2dldERlZmF1bHRzKCk7XG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlRGVmYXVsdHMobmV3RGVmYXVsdHMpIHtcbiAgICBfZGVmYXVsdHMgPSBuZXdEZWZhdWx0cztcbn1cbiIsICIvKipcbiAqIEhlbHBlcnNcbiAqL1xuY29uc3QgZXNjYXBlVGVzdCA9IC9bJjw+XCInXS87XG5jb25zdCBlc2NhcGVSZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVUZXN0LnNvdXJjZSwgJ2cnKTtcbmNvbnN0IGVzY2FwZVRlc3ROb0VuY29kZSA9IC9bPD5cIiddfCYoPyEoI1xcZHsxLDd9fCNbWHhdW2EtZkEtRjAtOV17MSw2fXxcXHcrKTspLztcbmNvbnN0IGVzY2FwZVJlcGxhY2VOb0VuY29kZSA9IG5ldyBSZWdFeHAoZXNjYXBlVGVzdE5vRW5jb2RlLnNvdXJjZSwgJ2cnKTtcbmNvbnN0IGVzY2FwZVJlcGxhY2VtZW50cyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5Oydcbn07XG5jb25zdCBnZXRFc2NhcGVSZXBsYWNlbWVudCA9IChjaCkgPT4gZXNjYXBlUmVwbGFjZW1lbnRzW2NoXTtcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGUoaHRtbCwgZW5jb2RlKSB7XG4gICAgaWYgKGVuY29kZSkge1xuICAgICAgICBpZiAoZXNjYXBlVGVzdC50ZXN0KGh0bWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKGVzY2FwZVJlcGxhY2UsIGdldEVzY2FwZVJlcGxhY2VtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGVzY2FwZVRlc3ROb0VuY29kZS50ZXN0KGh0bWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKGVzY2FwZVJlcGxhY2VOb0VuY29kZSwgZ2V0RXNjYXBlUmVwbGFjZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBodG1sO1xufVxuY29uc3QgdW5lc2NhcGVUZXN0ID0gLyYoIyg/OlxcZCspfCg/OiN4WzAtOUEtRmEtZl0rKXwoPzpcXHcrKSk7Py9pZztcbmV4cG9ydCBmdW5jdGlvbiB1bmVzY2FwZShodG1sKSB7XG4gICAgLy8gZXhwbGljaXRseSBtYXRjaCBkZWNpbWFsLCBoZXgsIGFuZCBuYW1lZCBIVE1MIGVudGl0aWVzXG4gICAgcmV0dXJuIGh0bWwucmVwbGFjZSh1bmVzY2FwZVRlc3QsIChfLCBuKSA9PiB7XG4gICAgICAgIG4gPSBuLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChuID09PSAnY29sb24nKVxuICAgICAgICAgICAgcmV0dXJuICc6JztcbiAgICAgICAgaWYgKG4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgICAgICAgIHJldHVybiBuLmNoYXJBdCgxKSA9PT0gJ3gnXG4gICAgICAgICAgICAgICAgPyBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG4uc3Vic3RyaW5nKDIpLCAxNikpXG4gICAgICAgICAgICAgICAgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKCtuLnN1YnN0cmluZygxKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH0pO1xufVxuY29uc3QgY2FyZXQgPSAvKF58W15cXFtdKVxcXi9nO1xuZXhwb3J0IGZ1bmN0aW9uIGVkaXQocmVnZXgsIG9wdCkge1xuICAgIGxldCBzb3VyY2UgPSB0eXBlb2YgcmVnZXggPT09ICdzdHJpbmcnID8gcmVnZXggOiByZWdleC5zb3VyY2U7XG4gICAgb3B0ID0gb3B0IHx8ICcnO1xuICAgIGNvbnN0IG9iaiA9IHtcbiAgICAgICAgcmVwbGFjZTogKG5hbWUsIHZhbCkgPT4ge1xuICAgICAgICAgICAgbGV0IHZhbFNvdXJjZSA9IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gdmFsIDogdmFsLnNvdXJjZTtcbiAgICAgICAgICAgIHZhbFNvdXJjZSA9IHZhbFNvdXJjZS5yZXBsYWNlKGNhcmV0LCAnJDEnKTtcbiAgICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKG5hbWUsIHZhbFNvdXJjZSk7XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9LFxuICAgICAgICBnZXRSZWdleDogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoc291cmNlLCBvcHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gb2JqO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuVXJsKGhyZWYpIHtcbiAgICB0cnkge1xuICAgICAgICBocmVmID0gZW5jb2RlVVJJKGhyZWYpLnJlcGxhY2UoLyUyNS9nLCAnJScpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGhyZWY7XG59XG5leHBvcnQgY29uc3Qgbm9vcFRlc3QgPSB7IGV4ZWM6ICgpID0+IG51bGwgfTtcbmV4cG9ydCBmdW5jdGlvbiBzcGxpdENlbGxzKHRhYmxlUm93LCBjb3VudCkge1xuICAgIC8vIGVuc3VyZSB0aGF0IGV2ZXJ5IGNlbGwtZGVsaW1pdGluZyBwaXBlIGhhcyBhIHNwYWNlXG4gICAgLy8gYmVmb3JlIGl0IHRvIGRpc3Rpbmd1aXNoIGl0IGZyb20gYW4gZXNjYXBlZCBwaXBlXG4gICAgY29uc3Qgcm93ID0gdGFibGVSb3cucmVwbGFjZSgvXFx8L2csIChtYXRjaCwgb2Zmc2V0LCBzdHIpID0+IHtcbiAgICAgICAgbGV0IGVzY2FwZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGN1cnIgPSBvZmZzZXQ7XG4gICAgICAgIHdoaWxlICgtLWN1cnIgPj0gMCAmJiBzdHJbY3Vycl0gPT09ICdcXFxcJylcbiAgICAgICAgICAgIGVzY2FwZWQgPSAhZXNjYXBlZDtcbiAgICAgICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgICAgICAgIC8vIG9kZCBudW1iZXIgb2Ygc2xhc2hlcyBtZWFucyB8IGlzIGVzY2FwZWRcbiAgICAgICAgICAgIC8vIHNvIHdlIGxlYXZlIGl0IGFsb25lXG4gICAgICAgICAgICByZXR1cm4gJ3wnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gYWRkIHNwYWNlIGJlZm9yZSB1bmVzY2FwZWQgfFxuICAgICAgICAgICAgcmV0dXJuICcgfCc7XG4gICAgICAgIH1cbiAgICB9KSwgY2VsbHMgPSByb3cuc3BsaXQoLyBcXHwvKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgLy8gRmlyc3QvbGFzdCBjZWxsIGluIGEgcm93IGNhbm5vdCBiZSBlbXB0eSBpZiBpdCBoYXMgbm8gbGVhZGluZy90cmFpbGluZyBwaXBlXG4gICAgaWYgKCFjZWxsc1swXS50cmltKCkpIHtcbiAgICAgICAgY2VsbHMuc2hpZnQoKTtcbiAgICB9XG4gICAgaWYgKGNlbGxzLmxlbmd0aCA+IDAgJiYgIWNlbGxzW2NlbGxzLmxlbmd0aCAtIDFdLnRyaW0oKSkge1xuICAgICAgICBjZWxscy5wb3AoKTtcbiAgICB9XG4gICAgaWYgKGNvdW50KSB7XG4gICAgICAgIGlmIChjZWxscy5sZW5ndGggPiBjb3VudCkge1xuICAgICAgICAgICAgY2VsbHMuc3BsaWNlKGNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdoaWxlIChjZWxscy5sZW5ndGggPCBjb3VudClcbiAgICAgICAgICAgICAgICBjZWxscy5wdXNoKCcnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKDsgaSA8IGNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGxlYWRpbmcgb3IgdHJhaWxpbmcgd2hpdGVzcGFjZSBpcyBpZ25vcmVkIHBlciB0aGUgZ2ZtIHNwZWNcbiAgICAgICAgY2VsbHNbaV0gPSBjZWxsc1tpXS50cmltKCkucmVwbGFjZSgvXFxcXFxcfC9nLCAnfCcpO1xuICAgIH1cbiAgICByZXR1cm4gY2VsbHM7XG59XG4vKipcbiAqIFJlbW92ZSB0cmFpbGluZyAnYydzLiBFcXVpdmFsZW50IHRvIHN0ci5yZXBsYWNlKC9jKiQvLCAnJykuXG4gKiAvYyokLyBpcyB2dWxuZXJhYmxlIHRvIFJFRE9TLlxuICpcbiAqIEBwYXJhbSBzdHJcbiAqIEBwYXJhbSBjXG4gKiBAcGFyYW0gaW52ZXJ0IFJlbW92ZSBzdWZmaXggb2Ygbm9uLWMgY2hhcnMgaW5zdGVhZC4gRGVmYXVsdCBmYWxzZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydHJpbShzdHIsIGMsIGludmVydCkge1xuICAgIGNvbnN0IGwgPSBzdHIubGVuZ3RoO1xuICAgIGlmIChsID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgLy8gTGVuZ3RoIG9mIHN1ZmZpeCBtYXRjaGluZyB0aGUgaW52ZXJ0IGNvbmRpdGlvbi5cbiAgICBsZXQgc3VmZkxlbiA9IDA7XG4gICAgLy8gU3RlcCBsZWZ0IHVudGlsIHdlIGZhaWwgdG8gbWF0Y2ggdGhlIGludmVydCBjb25kaXRpb24uXG4gICAgd2hpbGUgKHN1ZmZMZW4gPCBsKSB7XG4gICAgICAgIGNvbnN0IGN1cnJDaGFyID0gc3RyLmNoYXJBdChsIC0gc3VmZkxlbiAtIDEpO1xuICAgICAgICBpZiAoY3VyckNoYXIgPT09IGMgJiYgIWludmVydCkge1xuICAgICAgICAgICAgc3VmZkxlbisrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnJDaGFyICE9PSBjICYmIGludmVydCkge1xuICAgICAgICAgICAgc3VmZkxlbisrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0ci5zbGljZSgwLCBsIC0gc3VmZkxlbik7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZENsb3NpbmdCcmFja2V0KHN0ciwgYikge1xuICAgIGlmIChzdHIuaW5kZXhPZihiWzFdKSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBsZXQgbGV2ZWwgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzdHJbaV0gPT09ICdcXFxcJykge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0cltpXSA9PT0gYlswXSkge1xuICAgICAgICAgICAgbGV2ZWwrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHJbaV0gPT09IGJbMV0pIHtcbiAgICAgICAgICAgIGxldmVsLS07XG4gICAgICAgICAgICBpZiAobGV2ZWwgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuIiwgImltcG9ydCB7IF9kZWZhdWx0cyB9IGZyb20gJy4vZGVmYXVsdHMudHMnO1xuaW1wb3J0IHsgcnRyaW0sIHNwbGl0Q2VsbHMsIGVzY2FwZSwgZmluZENsb3NpbmdCcmFja2V0IH0gZnJvbSAnLi9oZWxwZXJzLnRzJztcbmZ1bmN0aW9uIG91dHB1dExpbmsoY2FwLCBsaW5rLCByYXcsIGxleGVyKSB7XG4gICAgY29uc3QgaHJlZiA9IGxpbmsuaHJlZjtcbiAgICBjb25zdCB0aXRsZSA9IGxpbmsudGl0bGUgPyBlc2NhcGUobGluay50aXRsZSkgOiBudWxsO1xuICAgIGNvbnN0IHRleHQgPSBjYXBbMV0ucmVwbGFjZSgvXFxcXChbXFxbXFxdXSkvZywgJyQxJyk7XG4gICAgaWYgKGNhcFswXS5jaGFyQXQoMCkgIT09ICchJykge1xuICAgICAgICBsZXhlci5zdGF0ZS5pbkxpbmsgPSB0cnVlO1xuICAgICAgICBjb25zdCB0b2tlbiA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdsaW5rJyxcbiAgICAgICAgICAgIHJhdyxcbiAgICAgICAgICAgIGhyZWYsXG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICB0b2tlbnM6IGxleGVyLmlubGluZVRva2Vucyh0ZXh0KVxuICAgICAgICB9O1xuICAgICAgICBsZXhlci5zdGF0ZS5pbkxpbmsgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICByYXcsXG4gICAgICAgIGhyZWYsXG4gICAgICAgIHRpdGxlLFxuICAgICAgICB0ZXh0OiBlc2NhcGUodGV4dClcbiAgICB9O1xufVxuZnVuY3Rpb24gaW5kZW50Q29kZUNvbXBlbnNhdGlvbihyYXcsIHRleHQpIHtcbiAgICBjb25zdCBtYXRjaEluZGVudFRvQ29kZSA9IHJhdy5tYXRjaCgvXihcXHMrKSg/OmBgYCkvKTtcbiAgICBpZiAobWF0Y2hJbmRlbnRUb0NvZGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGNvbnN0IGluZGVudFRvQ29kZSA9IG1hdGNoSW5kZW50VG9Db2RlWzFdO1xuICAgIHJldHVybiB0ZXh0XG4gICAgICAgIC5zcGxpdCgnXFxuJylcbiAgICAgICAgLm1hcChub2RlID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2hJbmRlbnRJbk5vZGUgPSBub2RlLm1hdGNoKC9eXFxzKy8pO1xuICAgICAgICBpZiAobWF0Y2hJbmRlbnRJbk5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtpbmRlbnRJbk5vZGVdID0gbWF0Y2hJbmRlbnRJbk5vZGU7XG4gICAgICAgIGlmIChpbmRlbnRJbk5vZGUubGVuZ3RoID49IGluZGVudFRvQ29kZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLnNsaWNlKGluZGVudFRvQ29kZS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH0pXG4gICAgICAgIC5qb2luKCdcXG4nKTtcbn1cbi8qKlxuICogVG9rZW5pemVyXG4gKi9cbmV4cG9ydCBjbGFzcyBfVG9rZW5pemVyIHtcbiAgICBvcHRpb25zO1xuICAgIHJ1bGVzOyAvLyBzZXQgYnkgdGhlIGxleGVyXG4gICAgbGV4ZXI7IC8vIHNldCBieSB0aGUgbGV4ZXJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgX2RlZmF1bHRzO1xuICAgIH1cbiAgICBzcGFjZShzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5uZXdsaW5lLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCAmJiBjYXBbMF0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3BhY2UnLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvZGUoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suY29kZS5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBjYXBbMF0ucmVwbGFjZSgvXiB7MSw0fS9nbSwgJycpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29kZScsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgY29kZUJsb2NrU3R5bGU6ICdpbmRlbnRlZCcsXG4gICAgICAgICAgICAgICAgdGV4dDogIXRoaXMub3B0aW9ucy5wZWRhbnRpY1xuICAgICAgICAgICAgICAgICAgICA/IHJ0cmltKHRleHQsICdcXG4nKVxuICAgICAgICAgICAgICAgICAgICA6IHRleHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmVuY2VzKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmZlbmNlcy5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIGNvbnN0IHJhdyA9IGNhcFswXTtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBpbmRlbnRDb2RlQ29tcGVuc2F0aW9uKHJhdywgY2FwWzNdIHx8ICcnKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICAgICAgICAgIHJhdyxcbiAgICAgICAgICAgICAgICBsYW5nOiBjYXBbMl0gPyBjYXBbMl0udHJpbSgpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuYW55UHVuY3R1YXRpb24sICckMScpIDogY2FwWzJdLFxuICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGVhZGluZyhzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5oZWFkaW5nLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgbGV0IHRleHQgPSBjYXBbMl0udHJpbSgpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRyYWlsaW5nICNzXG4gICAgICAgICAgICBpZiAoLyMkLy50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJpbW1lZCA9IHJ0cmltKHRleHQsICcjJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdHJpbW1lZC50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCF0cmltbWVkIHx8IC8gJC8udGVzdCh0cmltbWVkKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb21tb25NYXJrIHJlcXVpcmVzIHNwYWNlIGJlZm9yZSB0cmFpbGluZyAjc1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdHJpbW1lZC50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnaGVhZGluZycsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgZGVwdGg6IGNhcFsxXS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICB0b2tlbnM6IHRoaXMubGV4ZXIuaW5saW5lKHRleHQpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGhyKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmhyLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnaHInLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGJsb2NrcXVvdGUoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suYmxvY2txdW90ZS5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIC8vIHByZWNlZGUgc2V0ZXh0IGNvbnRpbnVhdGlvbiB3aXRoIDQgc3BhY2VzIHNvIGl0IGlzbid0IGEgc2V0ZXh0XG4gICAgICAgICAgICBsZXQgdGV4dCA9IGNhcFswXS5yZXBsYWNlKC9cXG4gezAsM30oKD86PSt8LSspICopKD89XFxufCQpL2csICdcXG4gICAgJDEnKTtcbiAgICAgICAgICAgIHRleHQgPSBydHJpbSh0ZXh0LnJlcGxhY2UoL14gKj5bIFxcdF0/L2dtLCAnJyksICdcXG4nKTtcbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IHRoaXMubGV4ZXIuc3RhdGUudG9wO1xuICAgICAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS50b3AgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gdGhpcy5sZXhlci5ibG9ja1Rva2Vucyh0ZXh0KTtcbiAgICAgICAgICAgIHRoaXMubGV4ZXIuc3RhdGUudG9wID0gdG9wO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnYmxvY2txdW90ZScsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgdG9rZW5zLFxuICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGlzdChzcmMpIHtcbiAgICAgICAgbGV0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2subGlzdC5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIGxldCBidWxsID0gY2FwWzFdLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IGlzb3JkZXJlZCA9IGJ1bGwubGVuZ3RoID4gMTtcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgICAgICAgICAgIHJhdzogJycsXG4gICAgICAgICAgICAgICAgb3JkZXJlZDogaXNvcmRlcmVkLFxuICAgICAgICAgICAgICAgIHN0YXJ0OiBpc29yZGVyZWQgPyArYnVsbC5zbGljZSgwLCAtMSkgOiAnJyxcbiAgICAgICAgICAgICAgICBsb29zZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXRlbXM6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnVsbCA9IGlzb3JkZXJlZCA/IGBcXFxcZHsxLDl9XFxcXCR7YnVsbC5zbGljZSgtMSl9YCA6IGBcXFxcJHtidWxsfWA7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgICAgICAgICAgYnVsbCA9IGlzb3JkZXJlZCA/IGJ1bGwgOiAnWyorLV0nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR2V0IG5leHQgbGlzdCBpdGVtXG4gICAgICAgICAgICBjb25zdCBpdGVtUmVnZXggPSBuZXcgUmVnRXhwKGBeKCB7MCwzfSR7YnVsbH0pKCg/OltcXHQgXVteXFxcXG5dKik/KD86XFxcXG58JCkpYCk7XG4gICAgICAgICAgICBsZXQgcmF3ID0gJyc7XG4gICAgICAgICAgICBsZXQgaXRlbUNvbnRlbnRzID0gJyc7XG4gICAgICAgICAgICBsZXQgZW5kc1dpdGhCbGFua0xpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgYnVsbGV0IHBvaW50IGNhbiBzdGFydCBhIG5ldyBMaXN0IEl0ZW1cbiAgICAgICAgICAgIHdoaWxlIChzcmMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5kRWFybHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoIShjYXAgPSBpdGVtUmVnZXguZXhlYyhzcmMpKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucnVsZXMuYmxvY2suaHIudGVzdChzcmMpKSB7IC8vIEVuZCBsaXN0IGlmIGJ1bGxldCB3YXMgYWN0dWFsbHkgSFIgKHBvc3NpYmx5IG1vdmUgaW50byBpdGVtUmVnZXg/KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmF3ID0gY2FwWzBdO1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcocmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBjYXBbMl0uc3BsaXQoJ1xcbicsIDEpWzBdLnJlcGxhY2UoL15cXHQrLywgKHQpID0+ICcgJy5yZXBlYXQoMyAqIHQubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRMaW5lID0gc3JjLnNwbGl0KCdcXG4nLCAxKVswXTtcbiAgICAgICAgICAgICAgICBsZXQgaW5kZW50ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGVudCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Db250ZW50cyA9IGxpbmUudHJpbVN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbmRlbnQgPSBjYXBbMl0uc2VhcmNoKC9bXiBdLyk7IC8vIEZpbmQgZmlyc3Qgbm9uLXNwYWNlIGNoYXJcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50ID0gaW5kZW50ID4gNCA/IDEgOiBpbmRlbnQ7IC8vIFRyZWF0IGluZGVudGVkIGNvZGUgYmxvY2tzICg+IDQgc3BhY2VzKSBhcyBoYXZpbmcgb25seSAxIGluZGVudFxuICAgICAgICAgICAgICAgICAgICBpdGVtQ29udGVudHMgPSBsaW5lLnNsaWNlKGluZGVudCk7XG4gICAgICAgICAgICAgICAgICAgIGluZGVudCArPSBjYXBbMV0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgYmxhbmtMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKCFsaW5lICYmIC9eICokLy50ZXN0KG5leHRMaW5lKSkgeyAvLyBJdGVtcyBiZWdpbiB3aXRoIGF0IG1vc3Qgb25lIGJsYW5rIGxpbmVcbiAgICAgICAgICAgICAgICAgICAgcmF3ICs9IG5leHRMaW5lICsgJ1xcbic7XG4gICAgICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcobmV4dExpbmUubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGVuZEVhcmx5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlbmRFYXJseSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0QnVsbGV0UmVnZXggPSBuZXcgUmVnRXhwKGBeIHswLCR7TWF0aC5taW4oMywgaW5kZW50IC0gMSl9fSg/OlsqKy1dfFxcXFxkezEsOX1bLildKSgoPzpbIFxcdF1bXlxcXFxuXSopPyg/OlxcXFxufCQpKWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoclJlZ2V4ID0gbmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsIGluZGVudCAtIDEpfX0oKD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFxcXCogKil7Myx9KSg/OlxcXFxuK3wkKWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmZW5jZXNCZWdpblJlZ2V4ID0gbmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsIGluZGVudCAtIDEpfX0oPzpcXGBcXGBcXGB8fn5+KWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkaW5nQmVnaW5SZWdleCA9IG5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLCBpbmRlbnQgLSAxKX19I2ApO1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBmb2xsb3dpbmcgbGluZXMgc2hvdWxkIGJlIGluY2x1ZGVkIGluIExpc3QgSXRlbVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdMaW5lID0gc3JjLnNwbGl0KCdcXG4nLCAxKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRMaW5lID0gcmF3TGluZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlLWFsaWduIHRvIGZvbGxvdyBjb21tb25tYXJrIG5lc3RpbmcgcnVsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGluZSA9IG5leHRMaW5lLnJlcGxhY2UoL14gezEsNH0oPz0oIHs0fSkqW14gXSkvZywgJyAgJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbmQgbGlzdCBpdGVtIGlmIGZvdW5kIGNvZGUgZmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmVuY2VzQmVnaW5SZWdleC50ZXN0KG5leHRMaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5kIGxpc3QgaXRlbSBpZiBmb3VuZCBzdGFydCBvZiBuZXcgaGVhZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRpbmdCZWdpblJlZ2V4LnRlc3QobmV4dExpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbmQgbGlzdCBpdGVtIGlmIGZvdW5kIHN0YXJ0IG9mIG5ldyBidWxsZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0QnVsbGV0UmVnZXgudGVzdChuZXh0TGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvcml6b250YWwgcnVsZSBmb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhyUmVnZXgudGVzdChzcmMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dExpbmUuc2VhcmNoKC9bXiBdLykgPj0gaW5kZW50IHx8ICFuZXh0TGluZS50cmltKCkpIHsgLy8gRGVkZW50IGlmIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUNvbnRlbnRzICs9ICdcXG4nICsgbmV4dExpbmUuc2xpY2UoaW5kZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdCBlbm91Z2ggaW5kZW50YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxhbmtMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXJhZ3JhcGggY29udGludWF0aW9uIHVubGVzcyBsYXN0IGxpbmUgd2FzIGEgZGlmZmVyZW50IGJsb2NrIGxldmVsIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5zZWFyY2goL1teIF0vKSA+PSA0KSB7IC8vIGluZGVudGVkIGNvZGUgYmxvY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZW5jZXNCZWdpblJlZ2V4LnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWFkaW5nQmVnaW5SZWdleC50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHJSZWdleC50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtQ29udGVudHMgKz0gJ1xcbicgKyBuZXh0TGluZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYmxhbmtMaW5lICYmICFuZXh0TGluZS50cmltKCkpIHsgLy8gQ2hlY2sgaWYgY3VycmVudCBsaW5lIGlzIGJsYW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhbmtMaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdyArPSByYXdMaW5lICsgJ1xcbic7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHJhd0xpbmUubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gbmV4dExpbmUuc2xpY2UoaW5kZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWxpc3QubG9vc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByZXZpb3VzIGl0ZW0gZW5kZWQgd2l0aCBhIGJsYW5rIGxpbmUsIHRoZSBsaXN0IGlzIGxvb3NlXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRzV2l0aEJsYW5rTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5sb29zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoL1xcbiAqXFxuICokLy50ZXN0KHJhdykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHNXaXRoQmxhbmtMaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgaXN0YXNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgaXNjaGVja2VkO1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciB0YXNrIGxpc3QgaXRlbXNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgICAgICAgICAgICAgICAgICBpc3Rhc2sgPSAvXlxcW1sgeFhdXFxdIC8uZXhlYyhpdGVtQ29udGVudHMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXN0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc2NoZWNrZWQgPSBpc3Rhc2tbMF0gIT09ICdbIF0gJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Db250ZW50cyA9IGl0ZW1Db250ZW50cy5yZXBsYWNlKC9eXFxbWyB4WF1cXF0gKy8sICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaXN0Lml0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGlzdF9pdGVtJyxcbiAgICAgICAgICAgICAgICAgICAgcmF3LFxuICAgICAgICAgICAgICAgICAgICB0YXNrOiAhIWlzdGFzayxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogaXNjaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICBsb29zZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGl0ZW1Db250ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zOiBbXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGxpc3QucmF3ICs9IHJhdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERvIG5vdCBjb25zdW1lIG5ld2xpbmVzIGF0IGVuZCBvZiBmaW5hbCBpdGVtLiBBbHRlcm5hdGl2ZWx5LCBtYWtlIGl0ZW1SZWdleCAqc3RhcnQqIHdpdGggYW55IG5ld2xpbmVzIHRvIHNpbXBsaWZ5L3NwZWVkIHVwIGVuZHNXaXRoQmxhbmtMaW5lIGxvZ2ljXG4gICAgICAgICAgICBsaXN0Lml0ZW1zW2xpc3QuaXRlbXMubGVuZ3RoIC0gMV0ucmF3ID0gcmF3LnRyaW1FbmQoKTtcbiAgICAgICAgICAgIChsaXN0Lml0ZW1zW2xpc3QuaXRlbXMubGVuZ3RoIC0gMV0pLnRleHQgPSBpdGVtQ29udGVudHMudHJpbUVuZCgpO1xuICAgICAgICAgICAgbGlzdC5yYXcgPSBsaXN0LnJhdy50cmltRW5kKCk7XG4gICAgICAgICAgICAvLyBJdGVtIGNoaWxkIHRva2VucyBoYW5kbGVkIGhlcmUgYXQgZW5kIGJlY2F1c2Ugd2UgbmVlZGVkIHRvIGhhdmUgdGhlIGZpbmFsIGl0ZW0gdG8gdHJpbSBpdCBmaXJzdFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS50b3AgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsaXN0Lml0ZW1zW2ldLnRva2VucyA9IHRoaXMubGV4ZXIuYmxvY2tUb2tlbnMobGlzdC5pdGVtc1tpXS50ZXh0LCBbXSk7XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0Lmxvb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGxpc3Qgc2hvdWxkIGJlIGxvb3NlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYWNlcnMgPSBsaXN0Lml0ZW1zW2ldLnRva2Vucy5maWx0ZXIodCA9PiB0LnR5cGUgPT09ICdzcGFjZScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNNdWx0aXBsZUxpbmVCcmVha3MgPSBzcGFjZXJzLmxlbmd0aCA+IDAgJiYgc3BhY2Vycy5zb21lKHQgPT4gL1xcbi4qXFxuLy50ZXN0KHQucmF3KSk7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QubG9vc2UgPSBoYXNNdWx0aXBsZUxpbmVCcmVha3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IGFsbCBpdGVtcyB0byBsb29zZSBpZiBsaXN0IGlzIGxvb3NlXG4gICAgICAgICAgICBpZiAobGlzdC5sb29zZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsaXN0Lml0ZW1zW2ldLmxvb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBodG1sKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmh0bWwuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgYmxvY2s6IHRydWUsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgcHJlOiBjYXBbMV0gPT09ICdwcmUnIHx8IGNhcFsxXSA9PT0gJ3NjcmlwdCcgfHwgY2FwWzFdID09PSAnc3R5bGUnLFxuICAgICAgICAgICAgICAgIHRleHQ6IGNhcFswXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWYoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suZGVmLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gY2FwWzFdLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgICAgICAgY29uc3QgaHJlZiA9IGNhcFsyXSA/IGNhcFsyXS5yZXBsYWNlKC9ePCguKik+JC8sICckMScpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuYW55UHVuY3R1YXRpb24sICckMScpIDogJyc7XG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IGNhcFszXSA/IGNhcFszXS5zdWJzdHJpbmcoMSwgY2FwWzNdLmxlbmd0aCAtIDEpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuYW55UHVuY3R1YXRpb24sICckMScpIDogY2FwWzNdO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZGVmJyxcbiAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgaHJlZixcbiAgICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0YWJsZShzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay50YWJsZS5leGVjKHNyYyk7XG4gICAgICAgIGlmICghY2FwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEvWzp8XS8udGVzdChjYXBbMl0pKSB7XG4gICAgICAgICAgICAvLyBkZWxpbWl0ZXIgcm93IG11c3QgaGF2ZSBhIHBpcGUgKHwpIG9yIGNvbG9uICg6KSBvdGhlcndpc2UgaXQgaXMgYSBzZXRleHQgaGVhZGluZ1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBzcGxpdENlbGxzKGNhcFsxXSk7XG4gICAgICAgIGNvbnN0IGFsaWducyA9IGNhcFsyXS5yZXBsYWNlKC9eXFx8fFxcfCAqJC9nLCAnJykuc3BsaXQoJ3wnKTtcbiAgICAgICAgY29uc3Qgcm93cyA9IGNhcFszXSAmJiBjYXBbM10udHJpbSgpID8gY2FwWzNdLnJlcGxhY2UoL1xcblsgXFx0XSokLywgJycpLnNwbGl0KCdcXG4nKSA6IFtdO1xuICAgICAgICBjb25zdCBpdGVtID0ge1xuICAgICAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgaGVhZGVyOiBbXSxcbiAgICAgICAgICAgIGFsaWduOiBbXSxcbiAgICAgICAgICAgIHJvd3M6IFtdXG4gICAgICAgIH07XG4gICAgICAgIGlmIChoZWFkZXJzLmxlbmd0aCAhPT0gYWxpZ25zLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gaGVhZGVyIGFuZCBhbGlnbiBjb2x1bW5zIG11c3QgYmUgZXF1YWwsIHJvd3MgY2FuIGJlIGRpZmZlcmVudC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGFsaWduIG9mIGFsaWducykge1xuICAgICAgICAgICAgaWYgKC9eICotKzogKiQvLnRlc3QoYWxpZ24pKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5hbGlnbi5wdXNoKCdyaWdodCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoL14gKjotKzogKiQvLnRlc3QoYWxpZ24pKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5hbGlnbi5wdXNoKCdjZW50ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKC9eICo6LSsgKiQvLnRlc3QoYWxpZ24pKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5hbGlnbi5wdXNoKCdsZWZ0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVtLmFsaWduLnB1c2gobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBoZWFkZXIgb2YgaGVhZGVycykge1xuICAgICAgICAgICAgaXRlbS5oZWFkZXIucHVzaCh7XG4gICAgICAgICAgICAgICAgdGV4dDogaGVhZGVyLFxuICAgICAgICAgICAgICAgIHRva2VuczogdGhpcy5sZXhlci5pbmxpbmUoaGVhZGVyKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCByb3cgb2Ygcm93cykge1xuICAgICAgICAgICAgaXRlbS5yb3dzLnB1c2goc3BsaXRDZWxscyhyb3csIGl0ZW0uaGVhZGVyLmxlbmd0aCkubWFwKGNlbGwgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGNlbGwsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuczogdGhpcy5sZXhlci5pbmxpbmUoY2VsbClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgICBsaGVhZGluZyhzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5saGVhZGluZy5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2hlYWRpbmcnLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgICAgIGRlcHRoOiBjYXBbMl0uY2hhckF0KDApID09PSAnPScgPyAxIDogMixcbiAgICAgICAgICAgICAgICB0ZXh0OiBjYXBbMV0sXG4gICAgICAgICAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZShjYXBbMV0pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcmFncmFwaChzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5wYXJhZ3JhcGguZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gY2FwWzFdLmNoYXJBdChjYXBbMV0ubGVuZ3RoIC0gMSkgPT09ICdcXG4nXG4gICAgICAgICAgICAgICAgPyBjYXBbMV0uc2xpY2UoMCwgLTEpXG4gICAgICAgICAgICAgICAgOiBjYXBbMV07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdwYXJhZ3JhcGgnLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZSh0ZXh0KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0ZXh0KHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLnRleHQuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZShjYXBbMF0pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVzY2FwZShzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuZXNjYXBlLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXNjYXBlJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBlc2NhcGUoY2FwWzFdKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0YWcoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLnRhZy5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5sZXhlci5zdGF0ZS5pbkxpbmsgJiYgL148YSAvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxleGVyLnN0YXRlLmluTGluayA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmxleGVyLnN0YXRlLmluTGluayAmJiAvXjxcXC9hPi9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jayAmJiAvXjwocHJlfGNvZGV8a2JkfHNjcmlwdCkoXFxzfD4pL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jayAmJiAvXjxcXC8ocHJlfGNvZGV8a2JkfHNjcmlwdCkoXFxzfD4pL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdodG1sJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICBpbkxpbms6IHRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rLFxuICAgICAgICAgICAgICAgIGluUmF3QmxvY2s6IHRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jayxcbiAgICAgICAgICAgICAgICBibG9jazogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGV4dDogY2FwWzBdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGxpbmsoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmxpbmsuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICBjb25zdCB0cmltbWVkVXJsID0gY2FwWzJdLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLnBlZGFudGljICYmIC9ePC8udGVzdCh0cmltbWVkVXJsKSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbW1vbm1hcmsgcmVxdWlyZXMgbWF0Y2hpbmcgYW5nbGUgYnJhY2tldHNcbiAgICAgICAgICAgICAgICBpZiAoISgvPiQvLnRlc3QodHJpbW1lZFVybCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZW5kaW5nIGFuZ2xlIGJyYWNrZXQgY2Fubm90IGJlIGVzY2FwZWRcbiAgICAgICAgICAgICAgICBjb25zdCBydHJpbVNsYXNoID0gcnRyaW0odHJpbW1lZFVybC5zbGljZSgwLCAtMSksICdcXFxcJyk7XG4gICAgICAgICAgICAgICAgaWYgKCh0cmltbWVkVXJsLmxlbmd0aCAtIHJ0cmltU2xhc2gubGVuZ3RoKSAlIDIgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGZpbmQgY2xvc2luZyBwYXJlbnRoZXNpc1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQYXJlbkluZGV4ID0gZmluZENsb3NpbmdCcmFja2V0KGNhcFsyXSwgJygpJyk7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RQYXJlbkluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBjYXBbMF0uaW5kZXhPZignIScpID09PSAwID8gNSA6IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtMZW4gPSBzdGFydCArIGNhcFsxXS5sZW5ndGggKyBsYXN0UGFyZW5JbmRleDtcbiAgICAgICAgICAgICAgICAgICAgY2FwWzJdID0gY2FwWzJdLnN1YnN0cmluZygwLCBsYXN0UGFyZW5JbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGNhcFswXSA9IGNhcFswXS5zdWJzdHJpbmcoMCwgbGlua0xlbikudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBjYXBbM10gPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaHJlZiA9IGNhcFsyXTtcbiAgICAgICAgICAgIGxldCB0aXRsZSA9ICcnO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHBlZGFudGljIGhyZWYgYW5kIHRpdGxlXG4gICAgICAgICAgICAgICAgY29uc3QgbGluayA9IC9eKFteJ1wiXSpbXlxcc10pXFxzKyhbJ1wiXSkoLiopXFwyLy5leGVjKGhyZWYpO1xuICAgICAgICAgICAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGhyZWYgPSBsaW5rWzFdO1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IGxpbmtbM107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBjYXBbM10gPyBjYXBbM10uc2xpY2UoMSwgLTEpIDogJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBocmVmID0gaHJlZi50cmltKCk7XG4gICAgICAgICAgICBpZiAoL148Ly50ZXN0KGhyZWYpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYyAmJiAhKC8+JC8udGVzdCh0cmltbWVkVXJsKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGVkYW50aWMgYWxsb3dzIHN0YXJ0aW5nIGFuZ2xlIGJyYWNrZXQgd2l0aG91dCBlbmRpbmcgYW5nbGUgYnJhY2tldFxuICAgICAgICAgICAgICAgICAgICBocmVmID0gaHJlZi5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhyZWYgPSBocmVmLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0TGluayhjYXAsIHtcbiAgICAgICAgICAgICAgICBocmVmOiBocmVmID8gaHJlZi5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLCAnJDEnKSA6IGhyZWYsXG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlID8gdGl0bGUucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbiwgJyQxJykgOiB0aXRsZVxuICAgICAgICAgICAgfSwgY2FwWzBdLCB0aGlzLmxleGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWZsaW5rKHNyYywgbGlua3MpIHtcbiAgICAgICAgbGV0IGNhcDtcbiAgICAgICAgaWYgKChjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5yZWZsaW5rLmV4ZWMoc3JjKSlcbiAgICAgICAgICAgIHx8IChjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5ub2xpbmsuZXhlYyhzcmMpKSkge1xuICAgICAgICAgICAgY29uc3QgbGlua1N0cmluZyA9IChjYXBbMl0gfHwgY2FwWzFdKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICAgICAgICBjb25zdCBsaW5rID0gbGlua3NbbGlua1N0cmluZy50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgIGlmICghbGluaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBjYXBbMF0uY2hhckF0KDApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXRMaW5rKGNhcCwgbGluaywgY2FwWzBdLCB0aGlzLmxleGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbVN0cm9uZyhzcmMsIG1hc2tlZFNyYywgcHJldkNoYXIgPSAnJykge1xuICAgICAgICBsZXQgbWF0Y2ggPSB0aGlzLnJ1bGVzLmlubGluZS5lbVN0cm9uZ0xEZWxpbS5leGVjKHNyYyk7XG4gICAgICAgIGlmICghbWF0Y2gpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIF8gY2FuJ3QgYmUgYmV0d2VlbiB0d28gYWxwaGFudW1lcmljcy4gXFxwe0x9XFxwe059IGluY2x1ZGVzIG5vbi1lbmdsaXNoIGFscGhhYmV0L251bWJlcnMgYXMgd2VsbFxuICAgICAgICBpZiAobWF0Y2hbM10gJiYgcHJldkNoYXIubWF0Y2goL1tcXHB7TH1cXHB7Tn1dL3UpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBuZXh0Q2hhciA9IG1hdGNoWzFdIHx8IG1hdGNoWzJdIHx8ICcnO1xuICAgICAgICBpZiAoIW5leHRDaGFyIHx8ICFwcmV2Q2hhciB8fCB0aGlzLnJ1bGVzLmlubGluZS5wdW5jdHVhdGlvbi5leGVjKHByZXZDaGFyKSkge1xuICAgICAgICAgICAgLy8gdW5pY29kZSBSZWdleCBjb3VudHMgZW1vamkgYXMgMSBjaGFyOyBzcHJlYWQgaW50byBhcnJheSBmb3IgcHJvcGVyIGNvdW50ICh1c2VkIG11bHRpcGxlIHRpbWVzIGJlbG93KVxuICAgICAgICAgICAgY29uc3QgbExlbmd0aCA9IFsuLi5tYXRjaFswXV0ubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxldCByRGVsaW0sIHJMZW5ndGgsIGRlbGltVG90YWwgPSBsTGVuZ3RoLCBtaWREZWxpbVRvdGFsID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGVuZFJlZyA9IG1hdGNoWzBdWzBdID09PSAnKicgPyB0aGlzLnJ1bGVzLmlubGluZS5lbVN0cm9uZ1JEZWxpbUFzdCA6IHRoaXMucnVsZXMuaW5saW5lLmVtU3Ryb25nUkRlbGltVW5kO1xuICAgICAgICAgICAgZW5kUmVnLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAvLyBDbGlwIG1hc2tlZFNyYyB0byBzYW1lIHNlY3Rpb24gb2Ygc3RyaW5nIGFzIHNyYyAobW92ZSB0byBsZXhlcj8pXG4gICAgICAgICAgICBtYXNrZWRTcmMgPSBtYXNrZWRTcmMuc2xpY2UoLTEgKiBzcmMubGVuZ3RoICsgbExlbmd0aCk7XG4gICAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gZW5kUmVnLmV4ZWMobWFza2VkU3JjKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJEZWxpbSA9IG1hdGNoWzFdIHx8IG1hdGNoWzJdIHx8IG1hdGNoWzNdIHx8IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IG1hdGNoWzZdO1xuICAgICAgICAgICAgICAgIGlmICghckRlbGltKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCBzaW5nbGUgKiBpbiBfX2FiYyphYmNfX1xuICAgICAgICAgICAgICAgIHJMZW5ndGggPSBbLi4uckRlbGltXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoWzNdIHx8IG1hdGNoWzRdKSB7IC8vIGZvdW5kIGFub3RoZXIgTGVmdCBEZWxpbVxuICAgICAgICAgICAgICAgICAgICBkZWxpbVRvdGFsICs9IHJMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaFs1XSB8fCBtYXRjaFs2XSkgeyAvLyBlaXRoZXIgTGVmdCBvciBSaWdodCBEZWxpbVxuICAgICAgICAgICAgICAgICAgICBpZiAobExlbmd0aCAlIDMgJiYgISgobExlbmd0aCArIHJMZW5ndGgpICUgMykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZERlbGltVG90YWwgKz0gckxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBDb21tb25NYXJrIEVtcGhhc2lzIFJ1bGVzIDktMTBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxpbVRvdGFsIC09IHJMZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKGRlbGltVG90YWwgPiAwKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gSGF2ZW4ndCBmb3VuZCBlbm91Z2ggY2xvc2luZyBkZWxpbWl0ZXJzXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGV4dHJhIGNoYXJhY3RlcnMuICphKioqIC0+ICphKlxuICAgICAgICAgICAgICAgIHJMZW5ndGggPSBNYXRoLm1pbihyTGVuZ3RoLCByTGVuZ3RoICsgZGVsaW1Ub3RhbCArIG1pZERlbGltVG90YWwpO1xuICAgICAgICAgICAgICAgIC8vIGNoYXIgbGVuZ3RoIGNhbiBiZSA+MSBmb3IgdW5pY29kZSBjaGFyYWN0ZXJzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFyTGVuZ3RoID0gWy4uLm1hdGNoWzBdXVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gc3JjLnNsaWNlKDAsIGxMZW5ndGggKyBtYXRjaC5pbmRleCArIGxhc3RDaGFyTGVuZ3RoICsgckxlbmd0aCk7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGBlbWAgaWYgc21hbGxlc3QgZGVsaW1pdGVyIGhhcyBvZGQgY2hhciBjb3VudC4gKmEqKipcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5taW4obExlbmd0aCwgckxlbmd0aCkgJSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSByYXcuc2xpY2UoMSwgLTEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2VtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnM6IHRoaXMubGV4ZXIuaW5saW5lVG9rZW5zKHRleHQpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSAnc3Ryb25nJyBpZiBzbWFsbGVzdCBkZWxpbWl0ZXIgaGFzIGV2ZW4gY2hhciBjb3VudC4gKiphKioqXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHJhdy5zbGljZSgyLCAtMik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cm9uZycsXG4gICAgICAgICAgICAgICAgICAgIHJhdyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZVRva2Vucyh0ZXh0KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29kZXNwYW4oc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmNvZGUuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IGNhcFsyXS5yZXBsYWNlKC9cXG4vZywgJyAnKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc05vblNwYWNlQ2hhcnMgPSAvW14gXS8udGVzdCh0ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGhhc1NwYWNlQ2hhcnNPbkJvdGhFbmRzID0gL14gLy50ZXN0KHRleHQpICYmIC8gJC8udGVzdCh0ZXh0KTtcbiAgICAgICAgICAgIGlmIChoYXNOb25TcGFjZUNoYXJzICYmIGhhc1NwYWNlQ2hhcnNPbkJvdGhFbmRzKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDEsIHRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0ID0gZXNjYXBlKHRleHQsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29kZXNwYW4nLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgYnIoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmJyLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnYnInLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlbChzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuZGVsLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZGVsJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBjYXBbMl0sXG4gICAgICAgICAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZVRva2VucyhjYXBbMl0pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGF1dG9saW5rKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5hdXRvbGluay5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIGxldCB0ZXh0LCBocmVmO1xuICAgICAgICAgICAgaWYgKGNhcFsyXSA9PT0gJ0AnKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMV0pO1xuICAgICAgICAgICAgICAgIGhyZWYgPSAnbWFpbHRvOicgKyB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMV0pO1xuICAgICAgICAgICAgICAgIGhyZWYgPSB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbGluaycsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICBocmVmLFxuICAgICAgICAgICAgICAgIHRva2VuczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXc6IHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHVybChzcmMpIHtcbiAgICAgICAgbGV0IGNhcDtcbiAgICAgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLnVybC5leGVjKHNyYykpIHtcbiAgICAgICAgICAgIGxldCB0ZXh0LCBocmVmO1xuICAgICAgICAgICAgaWYgKGNhcFsyXSA9PT0gJ0AnKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMF0pO1xuICAgICAgICAgICAgICAgIGhyZWYgPSAnbWFpbHRvOicgKyB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZG8gZXh0ZW5kZWQgYXV0b2xpbmsgcGF0aCB2YWxpZGF0aW9uXG4gICAgICAgICAgICAgICAgbGV0IHByZXZDYXBaZXJvO1xuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldkNhcFplcm8gPSBjYXBbMF07XG4gICAgICAgICAgICAgICAgICAgIGNhcFswXSA9IHRoaXMucnVsZXMuaW5saW5lLl9iYWNrcGVkYWwuZXhlYyhjYXBbMF0pPy5bMF0gPz8gJyc7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAocHJldkNhcFplcm8gIT09IGNhcFswXSk7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChjYXBbMV0gPT09ICd3d3cuJykge1xuICAgICAgICAgICAgICAgICAgICBocmVmID0gJ2h0dHA6Ly8nICsgY2FwWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaHJlZiA9IGNhcFswXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5rJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgIGhyZWYsXG4gICAgICAgICAgICAgICAgdG9rZW5zOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdzogdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5saW5lVGV4dChzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUudGV4dC5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIGxldCB0ZXh0O1xuICAgICAgICAgICAgaWYgKHRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jaykge1xuICAgICAgICAgICAgICAgIHRleHQgPSBjYXBbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gZXNjYXBlKGNhcFswXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgImltcG9ydCB7IGVkaXQsIG5vb3BUZXN0IH0gZnJvbSAnLi9oZWxwZXJzLnRzJztcbi8qKlxuICogQmxvY2stTGV2ZWwgR3JhbW1hclxuICovXG5jb25zdCBuZXdsaW5lID0gL14oPzogKig/OlxcbnwkKSkrLztcbmNvbnN0IGJsb2NrQ29kZSA9IC9eKCB7NH1bXlxcbl0rKD86XFxuKD86ICooPzpcXG58JCkpKik/KSsvO1xuY29uc3QgZmVuY2VzID0gL14gezAsM30oYHszLH0oPz1bXmBcXG5dKig/OlxcbnwkKSl8fnszLH0pKFteXFxuXSopKD86XFxufCQpKD86fChbXFxzXFxTXSo/KSg/OlxcbnwkKSkoPzogezAsM31cXDFbfmBdKiAqKD89XFxufCQpfCQpLztcbmNvbnN0IGhyID0gL14gezAsM30oKD86LVtcXHQgXSopezMsfXwoPzpfWyBcXHRdKil7Myx9fCg/OlxcKlsgXFx0XSopezMsfSkoPzpcXG4rfCQpLztcbmNvbnN0IGhlYWRpbmcgPSAvXiB7MCwzfSgjezEsNn0pKD89XFxzfCQpKC4qKSg/Olxcbit8JCkvO1xuY29uc3QgYnVsbGV0ID0gLyg/OlsqKy1dfFxcZHsxLDl9Wy4pXSkvO1xuY29uc3QgbGhlYWRpbmcgPSBlZGl0KC9eKD8hYnVsbCB8YmxvY2tDb2RlfGZlbmNlc3xibG9ja3F1b3RlfGhlYWRpbmd8aHRtbCkoKD86LnxcXG4oPyFcXHMqP1xcbnxidWxsIHxibG9ja0NvZGV8ZmVuY2VzfGJsb2NrcXVvdGV8aGVhZGluZ3xodG1sKSkrPylcXG4gezAsM30oPSt8LSspICooPzpcXG4rfCQpLylcbiAgICAucmVwbGFjZSgvYnVsbC9nLCBidWxsZXQpIC8vIGxpc3RzIGNhbiBpbnRlcnJ1cHRcbiAgICAucmVwbGFjZSgvYmxvY2tDb2RlL2csIC8gezR9LykgLy8gaW5kZW50ZWQgY29kZSBibG9ja3MgY2FuIGludGVycnVwdFxuICAgIC5yZXBsYWNlKC9mZW5jZXMvZywgLyB7MCwzfSg/OmB7Myx9fH57Myx9KS8pIC8vIGZlbmNlZCBjb2RlIGJsb2NrcyBjYW4gaW50ZXJydXB0XG4gICAgLnJlcGxhY2UoL2Jsb2NrcXVvdGUvZywgLyB7MCwzfT4vKSAvLyBibG9ja3F1b3RlIGNhbiBpbnRlcnJ1cHRcbiAgICAucmVwbGFjZSgvaGVhZGluZy9nLCAvIHswLDN9I3sxLDZ9LykgLy8gQVRYIGhlYWRpbmcgY2FuIGludGVycnVwdFxuICAgIC5yZXBsYWNlKC9odG1sL2csIC8gezAsM308W15cXG4+XSs+XFxuLykgLy8gYmxvY2sgaHRtbCBjYW4gaW50ZXJydXB0XG4gICAgLmdldFJlZ2V4KCk7XG5jb25zdCBfcGFyYWdyYXBoID0gL14oW15cXG5dKyg/Olxcbig/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXxmZW5jZXN8bGlzdHxodG1sfHRhYmxlfCArXFxuKVteXFxuXSspKikvO1xuY29uc3QgYmxvY2tUZXh0ID0gL15bXlxcbl0rLztcbmNvbnN0IF9ibG9ja0xhYmVsID0gLyg/IVxccypcXF0pKD86XFxcXC58W15cXFtcXF1cXFxcXSkrLztcbmNvbnN0IGRlZiA9IGVkaXQoL14gezAsM31cXFsobGFiZWwpXFxdOiAqKD86XFxuICopPyhbXjxcXHNdW15cXHNdKnw8Lio/PikoPzooPzogKyg/OlxcbiAqKT98ICpcXG4gKikodGl0bGUpKT8gKig/Olxcbit8JCkvKVxuICAgIC5yZXBsYWNlKCdsYWJlbCcsIF9ibG9ja0xhYmVsKVxuICAgIC5yZXBsYWNlKCd0aXRsZScsIC8oPzpcIig/OlxcXFxcIj98W15cIlxcXFxdKSpcInwnW14nXFxuXSooPzpcXG5bXidcXG5dKykqXFxuPyd8XFwoW14oKV0qXFwpKS8pXG4gICAgLmdldFJlZ2V4KCk7XG5jb25zdCBsaXN0ID0gZWRpdCgvXiggezAsM31idWxsKShbIFxcdF1bXlxcbl0rPyk/KD86XFxufCQpLylcbiAgICAucmVwbGFjZSgvYnVsbC9nLCBidWxsZXQpXG4gICAgLmdldFJlZ2V4KCk7XG5jb25zdCBfdGFnID0gJ2FkZHJlc3N8YXJ0aWNsZXxhc2lkZXxiYXNlfGJhc2Vmb250fGJsb2NrcXVvdGV8Ym9keXxjYXB0aW9uJ1xuICAgICsgJ3xjZW50ZXJ8Y29sfGNvbGdyb3VwfGRkfGRldGFpbHN8ZGlhbG9nfGRpcnxkaXZ8ZGx8ZHR8ZmllbGRzZXR8ZmlnY2FwdGlvbidcbiAgICArICd8ZmlndXJlfGZvb3Rlcnxmb3JtfGZyYW1lfGZyYW1lc2V0fGhbMS02XXxoZWFkfGhlYWRlcnxocnxodG1sfGlmcmFtZSdcbiAgICArICd8bGVnZW5kfGxpfGxpbmt8bWFpbnxtZW51fG1lbnVpdGVtfG1ldGF8bmF2fG5vZnJhbWVzfG9sfG9wdGdyb3VwfG9wdGlvbidcbiAgICArICd8cHxwYXJhbXxzZWFyY2h8c2VjdGlvbnxzdW1tYXJ5fHRhYmxlfHRib2R5fHRkfHRmb290fHRofHRoZWFkfHRpdGxlJ1xuICAgICsgJ3x0cnx0cmFja3x1bCc7XG5jb25zdCBfY29tbWVudCA9IC88IS0tKD86LT8+fFtcXHNcXFNdKj8oPzotLT58JCkpLztcbmNvbnN0IGh0bWwgPSBlZGl0KCdeIHswLDN9KD86JyAvLyBvcHRpb25hbCBpbmRlbnRhdGlvblxuICAgICsgJzwoc2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYSlbXFxcXHM+XVtcXFxcc1xcXFxTXSo/KD86PC9cXFxcMT5bXlxcXFxuXSpcXFxcbit8JCknIC8vICgxKVxuICAgICsgJ3xjb21tZW50W15cXFxcbl0qKFxcXFxuK3wkKScgLy8gKDIpXG4gICAgKyAnfDxcXFxcP1tcXFxcc1xcXFxTXSo/KD86XFxcXD8+XFxcXG4qfCQpJyAvLyAoMylcbiAgICArICd8PCFbQS1aXVtcXFxcc1xcXFxTXSo/KD86PlxcXFxuKnwkKScgLy8gKDQpXG4gICAgKyAnfDwhXFxcXFtDREFUQVxcXFxbW1xcXFxzXFxcXFNdKj8oPzpcXFxcXVxcXFxdPlxcXFxuKnwkKScgLy8gKDUpXG4gICAgKyAnfDwvPyh0YWcpKD86ICt8XFxcXG58Lz8+KVtcXFxcc1xcXFxTXSo/KD86KD86XFxcXG4gKikrXFxcXG58JCknIC8vICg2KVxuICAgICsgJ3w8KD8hc2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYSkoW2Etel1bXFxcXHctXSopKD86YXR0cmlidXRlKSo/ICovPz4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/Oig/OlxcXFxuICopK1xcXFxufCQpJyAvLyAoNykgb3BlbiB0YWdcbiAgICArICd8PC8oPyFzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhKVthLXpdW1xcXFx3LV0qXFxcXHMqPig/PVsgXFxcXHRdKig/OlxcXFxufCQpKVtcXFxcc1xcXFxTXSo/KD86KD86XFxcXG4gKikrXFxcXG58JCknIC8vICg3KSBjbG9zaW5nIHRhZ1xuICAgICsgJyknLCAnaScpXG4gICAgLnJlcGxhY2UoJ2NvbW1lbnQnLCBfY29tbWVudClcbiAgICAucmVwbGFjZSgndGFnJywgX3RhZylcbiAgICAucmVwbGFjZSgnYXR0cmlidXRlJywgLyArW2EtekEtWjpfXVtcXHcuOi1dKig/OiAqPSAqXCJbXlwiXFxuXSpcInwgKj0gKidbXidcXG5dKid8ICo9ICpbXlxcc1wiJz08PmBdKyk/LylcbiAgICAuZ2V0UmVnZXgoKTtcbmNvbnN0IHBhcmFncmFwaCA9IGVkaXQoX3BhcmFncmFwaClcbiAgICAucmVwbGFjZSgnaHInLCBocilcbiAgICAucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0oPzpcXFxcc3wkKScpXG4gICAgLnJlcGxhY2UoJ3xsaGVhZGluZycsICcnKSAvLyBzZXRleHQgaGVhZGluZ3MgZG9uJ3QgaW50ZXJydXB0IGNvbW1vbm1hcmsgcGFyYWdyYXBoc1xuICAgIC5yZXBsYWNlKCd8dGFibGUnLCAnJylcbiAgICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgICAucmVwbGFjZSgnZmVuY2VzJywgJyB7MCwzfSg/OmB7Myx9KD89W15gXFxcXG5dKlxcXFxuKXx+ezMsfSlbXlxcXFxuXSpcXFxcbicpXG4gICAgLnJlcGxhY2UoJ2xpc3QnLCAnIHswLDN9KD86WyorLV18MVsuKV0pICcpIC8vIG9ubHkgbGlzdHMgc3RhcnRpbmcgZnJvbSAxIGNhbiBpbnRlcnJ1cHRcbiAgICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYXwhLS0pJylcbiAgICAucmVwbGFjZSgndGFnJywgX3RhZykgLy8gcGFycyBjYW4gYmUgaW50ZXJydXB0ZWQgYnkgdHlwZSAoNikgaHRtbCBibG9ja3NcbiAgICAuZ2V0UmVnZXgoKTtcbmNvbnN0IGJsb2NrcXVvdGUgPSBlZGl0KC9eKCB7MCwzfT4gPyhwYXJhZ3JhcGh8W15cXG5dKikoPzpcXG58JCkpKy8pXG4gICAgLnJlcGxhY2UoJ3BhcmFncmFwaCcsIHBhcmFncmFwaClcbiAgICAuZ2V0UmVnZXgoKTtcbi8qKlxuICogTm9ybWFsIEJsb2NrIEdyYW1tYXJcbiAqL1xuY29uc3QgYmxvY2tOb3JtYWwgPSB7XG4gICAgYmxvY2txdW90ZSxcbiAgICBjb2RlOiBibG9ja0NvZGUsXG4gICAgZGVmLFxuICAgIGZlbmNlcyxcbiAgICBoZWFkaW5nLFxuICAgIGhyLFxuICAgIGh0bWwsXG4gICAgbGhlYWRpbmcsXG4gICAgbGlzdCxcbiAgICBuZXdsaW5lLFxuICAgIHBhcmFncmFwaCxcbiAgICB0YWJsZTogbm9vcFRlc3QsXG4gICAgdGV4dDogYmxvY2tUZXh0XG59O1xuLyoqXG4gKiBHRk0gQmxvY2sgR3JhbW1hclxuICovXG5jb25zdCBnZm1UYWJsZSA9IGVkaXQoJ14gKihbXlxcXFxuIF0uKilcXFxcbicgLy8gSGVhZGVyXG4gICAgKyAnIHswLDN9KCg/OlxcXFx8ICopPzo/LSs6PyAqKD86XFxcXHwgKjo/LSs6PyAqKSooPzpcXFxcfCAqKT8pJyAvLyBBbGlnblxuICAgICsgJyg/OlxcXFxuKCg/Oig/ISAqXFxcXG58aHJ8aGVhZGluZ3xibG9ja3F1b3RlfGNvZGV8ZmVuY2VzfGxpc3R8aHRtbCkuKig/OlxcXFxufCQpKSopXFxcXG4qfCQpJykgLy8gQ2VsbHNcbiAgICAucmVwbGFjZSgnaHInLCBocilcbiAgICAucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0oPzpcXFxcc3wkKScpXG4gICAgLnJlcGxhY2UoJ2Jsb2NrcXVvdGUnLCAnIHswLDN9PicpXG4gICAgLnJlcGxhY2UoJ2NvZGUnLCAnIHs0fVteXFxcXG5dJylcbiAgICAucmVwbGFjZSgnZmVuY2VzJywgJyB7MCwzfSg/OmB7Myx9KD89W15gXFxcXG5dKlxcXFxuKXx+ezMsfSlbXlxcXFxuXSpcXFxcbicpXG4gICAgLnJlcGxhY2UoJ2xpc3QnLCAnIHswLDN9KD86WyorLV18MVsuKV0pICcpIC8vIG9ubHkgbGlzdHMgc3RhcnRpbmcgZnJvbSAxIGNhbiBpbnRlcnJ1cHRcbiAgICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYXwhLS0pJylcbiAgICAucmVwbGFjZSgndGFnJywgX3RhZykgLy8gdGFibGVzIGNhbiBiZSBpbnRlcnJ1cHRlZCBieSB0eXBlICg2KSBodG1sIGJsb2Nrc1xuICAgIC5nZXRSZWdleCgpO1xuY29uc3QgYmxvY2tHZm0gPSB7XG4gICAgLi4uYmxvY2tOb3JtYWwsXG4gICAgdGFibGU6IGdmbVRhYmxlLFxuICAgIHBhcmFncmFwaDogZWRpdChfcGFyYWdyYXBoKVxuICAgICAgICAucmVwbGFjZSgnaHInLCBocilcbiAgICAgICAgLnJlcGxhY2UoJ2hlYWRpbmcnLCAnIHswLDN9I3sxLDZ9KD86XFxcXHN8JCknKVxuICAgICAgICAucmVwbGFjZSgnfGxoZWFkaW5nJywgJycpIC8vIHNldGV4dCBoZWFkaW5ncyBkb24ndCBpbnRlcnJ1cHQgY29tbW9ubWFyayBwYXJhZ3JhcGhzXG4gICAgICAgIC5yZXBsYWNlKCd0YWJsZScsIGdmbVRhYmxlKSAvLyBpbnRlcnJ1cHQgcGFyYWdyYXBocyB3aXRoIHRhYmxlXG4gICAgICAgIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKVxuICAgICAgICAucmVwbGFjZSgnZmVuY2VzJywgJyB7MCwzfSg/OmB7Myx9KD89W15gXFxcXG5dKlxcXFxuKXx+ezMsfSlbXlxcXFxuXSpcXFxcbicpXG4gICAgICAgIC5yZXBsYWNlKCdsaXN0JywgJyB7MCwzfSg/OlsqKy1dfDFbLildKSAnKSAvLyBvbmx5IGxpc3RzIHN0YXJ0aW5nIGZyb20gMSBjYW4gaW50ZXJydXB0XG4gICAgICAgIC5yZXBsYWNlKCdodG1sJywgJzwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhfCEtLSknKVxuICAgICAgICAucmVwbGFjZSgndGFnJywgX3RhZykgLy8gcGFycyBjYW4gYmUgaW50ZXJydXB0ZWQgYnkgdHlwZSAoNikgaHRtbCBibG9ja3NcbiAgICAgICAgLmdldFJlZ2V4KClcbn07XG4vKipcbiAqIFBlZGFudGljIGdyYW1tYXIgKG9yaWdpbmFsIEpvaG4gR3J1YmVyJ3MgbG9vc2UgbWFya2Rvd24gc3BlY2lmaWNhdGlvbilcbiAqL1xuY29uc3QgYmxvY2tQZWRhbnRpYyA9IHtcbiAgICAuLi5ibG9ja05vcm1hbCxcbiAgICBodG1sOiBlZGl0KCdeICooPzpjb21tZW50ICooPzpcXFxcbnxcXFxccyokKSdcbiAgICAgICAgKyAnfDwodGFnKVtcXFxcc1xcXFxTXSs/PC9cXFxcMT4gKig/OlxcXFxuezIsfXxcXFxccyokKScgLy8gY2xvc2VkIHRhZ1xuICAgICAgICArICd8PHRhZyg/OlwiW15cIl0qXCJ8XFwnW15cXCddKlxcJ3xcXFxcc1teXFwnXCIvPlxcXFxzXSopKj8vPz4gKig/OlxcXFxuezIsfXxcXFxccyokKSknKVxuICAgICAgICAucmVwbGFjZSgnY29tbWVudCcsIF9jb21tZW50KVxuICAgICAgICAucmVwbGFjZSgvdGFnL2csICcoPyEoPzonXG4gICAgICAgICsgJ2F8ZW18c3Ryb25nfHNtYWxsfHN8Y2l0ZXxxfGRmbnxhYmJyfGRhdGF8dGltZXxjb2RlfHZhcnxzYW1wfGtiZHxzdWInXG4gICAgICAgICsgJ3xzdXB8aXxifHV8bWFya3xydWJ5fHJ0fHJwfGJkaXxiZG98c3Bhbnxicnx3YnJ8aW5zfGRlbHxpbWcpJ1xuICAgICAgICArICdcXFxcYilcXFxcdysoPyE6fFteXFxcXHdcXFxcc0BdKkApXFxcXGInKVxuICAgICAgICAuZ2V0UmVnZXgoKSxcbiAgICBkZWY6IC9eICpcXFsoW15cXF1dKylcXF06ICo8PyhbXlxccz5dKyk+Pyg/OiArKFtcIihdW15cXG5dK1tcIildKSk/ICooPzpcXG4rfCQpLyxcbiAgICBoZWFkaW5nOiAvXigjezEsNn0pKC4qKSg/Olxcbit8JCkvLFxuICAgIGZlbmNlczogbm9vcFRlc3QsIC8vIGZlbmNlcyBub3Qgc3VwcG9ydGVkXG4gICAgbGhlYWRpbmc6IC9eKC4rPylcXG4gezAsM30oPSt8LSspICooPzpcXG4rfCQpLyxcbiAgICBwYXJhZ3JhcGg6IGVkaXQoX3BhcmFncmFwaClcbiAgICAgICAgLnJlcGxhY2UoJ2hyJywgaHIpXG4gICAgICAgIC5yZXBsYWNlKCdoZWFkaW5nJywgJyAqI3sxLDZ9ICpbXlxcbl0nKVxuICAgICAgICAucmVwbGFjZSgnbGhlYWRpbmcnLCBsaGVhZGluZylcbiAgICAgICAgLnJlcGxhY2UoJ3x0YWJsZScsICcnKVxuICAgICAgICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgICAgICAgLnJlcGxhY2UoJ3xmZW5jZXMnLCAnJylcbiAgICAgICAgLnJlcGxhY2UoJ3xsaXN0JywgJycpXG4gICAgICAgIC5yZXBsYWNlKCd8aHRtbCcsICcnKVxuICAgICAgICAucmVwbGFjZSgnfHRhZycsICcnKVxuICAgICAgICAuZ2V0UmVnZXgoKVxufTtcbi8qKlxuICogSW5saW5lLUxldmVsIEdyYW1tYXJcbiAqL1xuY29uc3QgZXNjYXBlID0gL15cXFxcKFshXCIjJCUmJygpKissXFwtLi86Ozw9Pj9AXFxbXFxdXFxcXF5fYHt8fX5dKS87XG5jb25zdCBpbmxpbmVDb2RlID0gL14oYCspKFteYF18W15gXVtcXHNcXFNdKj9bXmBdKVxcMSg/IWApLztcbmNvbnN0IGJyID0gL14oIHsyLH18XFxcXClcXG4oPyFcXHMqJCkvO1xuY29uc3QgaW5saW5lVGV4dCA9IC9eKGArfFteYF0pKD86KD89IHsyLH1cXG4pfFtcXHNcXFNdKj8oPzooPz1bXFxcXDwhXFxbYCpfXXxcXGJffCQpfFteIF0oPz0gezIsfVxcbikpKS87XG4vLyBsaXN0IG9mIHVuaWNvZGUgcHVuY3R1YXRpb24gbWFya3MsIHBsdXMgYW55IG1pc3NpbmcgY2hhcmFjdGVycyBmcm9tIENvbW1vbk1hcmsgc3BlY1xuY29uc3QgX3B1bmN0dWF0aW9uID0gJ1xcXFxwe1B9XFxcXHB7U30nO1xuY29uc3QgcHVuY3R1YXRpb24gPSBlZGl0KC9eKCg/IVsqX10pW1xcc3B1bmN0dWF0aW9uXSkvLCAndScpXG4gICAgLnJlcGxhY2UoL3B1bmN0dWF0aW9uL2csIF9wdW5jdHVhdGlvbikuZ2V0UmVnZXgoKTtcbi8vIHNlcXVlbmNlcyBlbSBzaG91bGQgc2tpcCBvdmVyIFt0aXRsZV0obGluayksIGBjb2RlYCwgPGh0bWw+XG5jb25zdCBibG9ja1NraXAgPSAvXFxbW15bXFxdXSo/XFxdXFwoW15cXChcXCldKj9cXCl8YFteYF0qP2B8PFtePD5dKj8+L2c7XG5jb25zdCBlbVN0cm9uZ0xEZWxpbSA9IGVkaXQoL14oPzpcXCorKD86KCg/IVxcKilbcHVuY3RdKXxbXlxccypdKSl8Xl8rKD86KCg/IV8pW3B1bmN0XSl8KFteXFxzX10pKS8sICd1JylcbiAgICAucmVwbGFjZSgvcHVuY3QvZywgX3B1bmN0dWF0aW9uKVxuICAgIC5nZXRSZWdleCgpO1xuY29uc3QgZW1TdHJvbmdSRGVsaW1Bc3QgPSBlZGl0KCdeW15fKl0qP19fW15fKl0qP1xcXFwqW15fKl0qPyg/PV9fKScgLy8gU2tpcCBvcnBoYW4gaW5zaWRlIHN0cm9uZ1xuICAgICsgJ3xbXipdKyg/PVteKl0pJyAvLyBDb25zdW1lIHRvIGRlbGltXG4gICAgKyAnfCg/IVxcXFwqKVtwdW5jdF0oXFxcXCorKSg/PVtcXFxcc118JCknIC8vICgxKSAjKioqIGNhbiBvbmx5IGJlIGEgUmlnaHQgRGVsaW1pdGVyXG4gICAgKyAnfFtecHVuY3RcXFxcc10oXFxcXCorKSg/IVxcXFwqKSg/PVtwdW5jdFxcXFxzXXwkKScgLy8gKDIpIGEqKiojLCBhKioqIGNhbiBvbmx5IGJlIGEgUmlnaHQgRGVsaW1pdGVyXG4gICAgKyAnfCg/IVxcXFwqKVtwdW5jdFxcXFxzXShcXFxcKispKD89W15wdW5jdFxcXFxzXSknIC8vICgzKSAjKioqYSwgKioqYSBjYW4gb25seSBiZSBMZWZ0IERlbGltaXRlclxuICAgICsgJ3xbXFxcXHNdKFxcXFwqKykoPyFcXFxcKikoPz1bcHVuY3RdKScgLy8gKDQpICoqKiMgY2FuIG9ubHkgYmUgTGVmdCBEZWxpbWl0ZXJcbiAgICArICd8KD8hXFxcXCopW3B1bmN0XShcXFxcKispKD8hXFxcXCopKD89W3B1bmN0XSknIC8vICg1KSAjKioqIyBjYW4gYmUgZWl0aGVyIExlZnQgb3IgUmlnaHQgRGVsaW1pdGVyXG4gICAgKyAnfFtecHVuY3RcXFxcc10oXFxcXCorKSg/PVtecHVuY3RcXFxcc10pJywgJ2d1JykgLy8gKDYpIGEqKiphIGNhbiBiZSBlaXRoZXIgTGVmdCBvciBSaWdodCBEZWxpbWl0ZXJcbiAgICAucmVwbGFjZSgvcHVuY3QvZywgX3B1bmN0dWF0aW9uKVxuICAgIC5nZXRSZWdleCgpO1xuLy8gKDYpIE5vdCBhbGxvd2VkIGZvciBfXG5jb25zdCBlbVN0cm9uZ1JEZWxpbVVuZCA9IGVkaXQoJ15bXl8qXSo/XFxcXCpcXFxcKlteXypdKj9fW15fKl0qPyg/PVxcXFwqXFxcXCopJyAvLyBTa2lwIG9ycGhhbiBpbnNpZGUgc3Ryb25nXG4gICAgKyAnfFteX10rKD89W15fXSknIC8vIENvbnN1bWUgdG8gZGVsaW1cbiAgICArICd8KD8hXylbcHVuY3RdKF8rKSg/PVtcXFxcc118JCknIC8vICgxKSAjX19fIGNhbiBvbmx5IGJlIGEgUmlnaHQgRGVsaW1pdGVyXG4gICAgKyAnfFtecHVuY3RcXFxcc10oXyspKD8hXykoPz1bcHVuY3RcXFxcc118JCknIC8vICgyKSBhX19fIywgYV9fXyBjYW4gb25seSBiZSBhIFJpZ2h0IERlbGltaXRlclxuICAgICsgJ3woPyFfKVtwdW5jdFxcXFxzXShfKykoPz1bXnB1bmN0XFxcXHNdKScgLy8gKDMpICNfX19hLCBfX19hIGNhbiBvbmx5IGJlIExlZnQgRGVsaW1pdGVyXG4gICAgKyAnfFtcXFxcc10oXyspKD8hXykoPz1bcHVuY3RdKScgLy8gKDQpIF9fXyMgY2FuIG9ubHkgYmUgTGVmdCBEZWxpbWl0ZXJcbiAgICArICd8KD8hXylbcHVuY3RdKF8rKSg/IV8pKD89W3B1bmN0XSknLCAnZ3UnKSAvLyAoNSkgI19fXyMgY2FuIGJlIGVpdGhlciBMZWZ0IG9yIFJpZ2h0IERlbGltaXRlclxuICAgIC5yZXBsYWNlKC9wdW5jdC9nLCBfcHVuY3R1YXRpb24pXG4gICAgLmdldFJlZ2V4KCk7XG5jb25zdCBhbnlQdW5jdHVhdGlvbiA9IGVkaXQoL1xcXFwoW3B1bmN0XSkvLCAnZ3UnKVxuICAgIC5yZXBsYWNlKC9wdW5jdC9nLCBfcHVuY3R1YXRpb24pXG4gICAgLmdldFJlZ2V4KCk7XG5jb25zdCBhdXRvbGluayA9IGVkaXQoL148KHNjaGVtZTpbXlxcc1xceDAwLVxceDFmPD5dKnxlbWFpbCk+LylcbiAgICAucmVwbGFjZSgnc2NoZW1lJywgL1thLXpBLVpdW2EtekEtWjAtOSsuLV17MSwzMX0vKVxuICAgIC5yZXBsYWNlKCdlbWFpbCcsIC9bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dKyhAKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykrKD8hWy1fXSkvKVxuICAgIC5nZXRSZWdleCgpO1xuY29uc3QgX2lubGluZUNvbW1lbnQgPSBlZGl0KF9jb21tZW50KS5yZXBsYWNlKCcoPzotLT58JCknLCAnLS0+JykuZ2V0UmVnZXgoKTtcbmNvbnN0IHRhZyA9IGVkaXQoJ15jb21tZW50J1xuICAgICsgJ3xePC9bYS16QS1aXVtcXFxcdzotXSpcXFxccyo+JyAvLyBzZWxmLWNsb3NpbmcgdGFnXG4gICAgKyAnfF48W2EtekEtWl1bXFxcXHctXSooPzphdHRyaWJ1dGUpKj9cXFxccyovPz4nIC8vIG9wZW4gdGFnXG4gICAgKyAnfF48XFxcXD9bXFxcXHNcXFxcU10qP1xcXFw/PicgLy8gcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiwgZS5nLiA8P3BocCA/PlxuICAgICsgJ3xePCFbYS16QS1aXStcXFxcc1tcXFxcc1xcXFxTXSo/PicgLy8gZGVjbGFyYXRpb24sIGUuZy4gPCFET0NUWVBFIGh0bWw+XG4gICAgKyAnfF48IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/XFxcXF1cXFxcXT4nKSAvLyBDREFUQSBzZWN0aW9uXG4gICAgLnJlcGxhY2UoJ2NvbW1lbnQnLCBfaW5saW5lQ29tbWVudClcbiAgICAucmVwbGFjZSgnYXR0cmlidXRlJywgL1xccytbYS16QS1aOl9dW1xcdy46LV0qKD86XFxzKj1cXHMqXCJbXlwiXSpcInxcXHMqPVxccyonW14nXSonfFxccyo9XFxzKlteXFxzXCInPTw+YF0rKT8vKVxuICAgIC5nZXRSZWdleCgpO1xuY29uc3QgX2lubGluZUxhYmVsID0gLyg/OlxcWyg/OlxcXFwufFteXFxbXFxdXFxcXF0pKlxcXXxcXFxcLnxgW15gXSpgfFteXFxbXFxdXFxcXGBdKSo/LztcbmNvbnN0IGxpbmsgPSBlZGl0KC9eIT9cXFsobGFiZWwpXFxdXFwoXFxzKihocmVmKSg/OlxccysodGl0bGUpKT9cXHMqXFwpLylcbiAgICAucmVwbGFjZSgnbGFiZWwnLCBfaW5saW5lTGFiZWwpXG4gICAgLnJlcGxhY2UoJ2hyZWYnLCAvPCg/OlxcXFwufFteXFxuPD5cXFxcXSkrPnxbXlxcc1xceDAwLVxceDFmXSovKVxuICAgIC5yZXBsYWNlKCd0aXRsZScsIC9cIig/OlxcXFxcIj98W15cIlxcXFxdKSpcInwnKD86XFxcXCc/fFteJ1xcXFxdKSonfFxcKCg/OlxcXFxcXCk/fFteKVxcXFxdKSpcXCkvKVxuICAgIC5nZXRSZWdleCgpO1xuY29uc3QgcmVmbGluayA9IGVkaXQoL14hP1xcWyhsYWJlbClcXF1cXFsocmVmKVxcXS8pXG4gICAgLnJlcGxhY2UoJ2xhYmVsJywgX2lubGluZUxhYmVsKVxuICAgIC5yZXBsYWNlKCdyZWYnLCBfYmxvY2tMYWJlbClcbiAgICAuZ2V0UmVnZXgoKTtcbmNvbnN0IG5vbGluayA9IGVkaXQoL14hP1xcWyhyZWYpXFxdKD86XFxbXFxdKT8vKVxuICAgIC5yZXBsYWNlKCdyZWYnLCBfYmxvY2tMYWJlbClcbiAgICAuZ2V0UmVnZXgoKTtcbmNvbnN0IHJlZmxpbmtTZWFyY2ggPSBlZGl0KCdyZWZsaW5rfG5vbGluayg/IVxcXFwoKScsICdnJylcbiAgICAucmVwbGFjZSgncmVmbGluaycsIHJlZmxpbmspXG4gICAgLnJlcGxhY2UoJ25vbGluaycsIG5vbGluaylcbiAgICAuZ2V0UmVnZXgoKTtcbi8qKlxuICogTm9ybWFsIElubGluZSBHcmFtbWFyXG4gKi9cbmNvbnN0IGlubGluZU5vcm1hbCA9IHtcbiAgICBfYmFja3BlZGFsOiBub29wVGVzdCwgLy8gb25seSB1c2VkIGZvciBHRk0gdXJsXG4gICAgYW55UHVuY3R1YXRpb24sXG4gICAgYXV0b2xpbmssXG4gICAgYmxvY2tTa2lwLFxuICAgIGJyLFxuICAgIGNvZGU6IGlubGluZUNvZGUsXG4gICAgZGVsOiBub29wVGVzdCxcbiAgICBlbVN0cm9uZ0xEZWxpbSxcbiAgICBlbVN0cm9uZ1JEZWxpbUFzdCxcbiAgICBlbVN0cm9uZ1JEZWxpbVVuZCxcbiAgICBlc2NhcGUsXG4gICAgbGluayxcbiAgICBub2xpbmssXG4gICAgcHVuY3R1YXRpb24sXG4gICAgcmVmbGluayxcbiAgICByZWZsaW5rU2VhcmNoLFxuICAgIHRhZyxcbiAgICB0ZXh0OiBpbmxpbmVUZXh0LFxuICAgIHVybDogbm9vcFRlc3Rcbn07XG4vKipcbiAqIFBlZGFudGljIElubGluZSBHcmFtbWFyXG4gKi9cbmNvbnN0IGlubGluZVBlZGFudGljID0ge1xuICAgIC4uLmlubGluZU5vcm1hbCxcbiAgICBsaW5rOiBlZGl0KC9eIT9cXFsobGFiZWwpXFxdXFwoKC4qPylcXCkvKVxuICAgICAgICAucmVwbGFjZSgnbGFiZWwnLCBfaW5saW5lTGFiZWwpXG4gICAgICAgIC5nZXRSZWdleCgpLFxuICAgIHJlZmxpbms6IGVkaXQoL14hP1xcWyhsYWJlbClcXF1cXHMqXFxbKFteXFxdXSopXFxdLylcbiAgICAgICAgLnJlcGxhY2UoJ2xhYmVsJywgX2lubGluZUxhYmVsKVxuICAgICAgICAuZ2V0UmVnZXgoKVxufTtcbi8qKlxuICogR0ZNIElubGluZSBHcmFtbWFyXG4gKi9cbmNvbnN0IGlubGluZUdmbSA9IHtcbiAgICAuLi5pbmxpbmVOb3JtYWwsXG4gICAgZXNjYXBlOiBlZGl0KGVzY2FwZSkucmVwbGFjZSgnXSknLCAnfnxdKScpLmdldFJlZ2V4KCksXG4gICAgdXJsOiBlZGl0KC9eKCg/OmZ0cHxodHRwcz8pOlxcL1xcL3x3d3dcXC4pKD86W2EtekEtWjAtOVxcLV0rXFwuPykrW15cXHM8XSp8XmVtYWlsLywgJ2knKVxuICAgICAgICAucmVwbGFjZSgnZW1haWwnLCAvW0EtWmEtejAtOS5fKy1dKyhAKVthLXpBLVowLTktX10rKD86XFwuW2EtekEtWjAtOS1fXSpbYS16QS1aMC05XSkrKD8hWy1fXSkvKVxuICAgICAgICAuZ2V0UmVnZXgoKSxcbiAgICBfYmFja3BlZGFsOiAvKD86W14/IS4sOjsqXydcIn4oKSZdK3xcXChbXildKlxcKXwmKD8hW2EtekEtWjAtOV0rOyQpfFs/IS4sOjsqXydcIn4pXSsoPyEkKSkrLyxcbiAgICBkZWw6IC9eKH5+PykoPz1bXlxcc35dKShbXFxzXFxTXSo/W15cXHN+XSlcXDEoPz1bXn5dfCQpLyxcbiAgICB0ZXh0OiAvXihbYH5dK3xbXmB+XSkoPzooPz0gezIsfVxcbil8KD89W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKXxbXFxzXFxTXSo/KD86KD89W1xcXFw8IVxcW2Aqfl9dfFxcYl98aHR0cHM/OlxcL1xcL3xmdHA6XFwvXFwvfHd3d1xcLnwkKXxbXiBdKD89IHsyLH1cXG4pfFteYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dKD89W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKSkpL1xufTtcbi8qKlxuICogR0ZNICsgTGluZSBCcmVha3MgSW5saW5lIEdyYW1tYXJcbiAqL1xuY29uc3QgaW5saW5lQnJlYWtzID0ge1xuICAgIC4uLmlubGluZUdmbSxcbiAgICBicjogZWRpdChicikucmVwbGFjZSgnezIsfScsICcqJykuZ2V0UmVnZXgoKSxcbiAgICB0ZXh0OiBlZGl0KGlubGluZUdmbS50ZXh0KVxuICAgICAgICAucmVwbGFjZSgnXFxcXGJfJywgJ1xcXFxiX3wgezIsfVxcXFxuJylcbiAgICAgICAgLnJlcGxhY2UoL1xcezIsXFx9L2csICcqJylcbiAgICAgICAgLmdldFJlZ2V4KClcbn07XG4vKipcbiAqIGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGJsb2NrID0ge1xuICAgIG5vcm1hbDogYmxvY2tOb3JtYWwsXG4gICAgZ2ZtOiBibG9ja0dmbSxcbiAgICBwZWRhbnRpYzogYmxvY2tQZWRhbnRpY1xufTtcbmV4cG9ydCBjb25zdCBpbmxpbmUgPSB7XG4gICAgbm9ybWFsOiBpbmxpbmVOb3JtYWwsXG4gICAgZ2ZtOiBpbmxpbmVHZm0sXG4gICAgYnJlYWtzOiBpbmxpbmVCcmVha3MsXG4gICAgcGVkYW50aWM6IGlubGluZVBlZGFudGljXG59O1xuIiwgImltcG9ydCB7IF9Ub2tlbml6ZXIgfSBmcm9tICcuL1Rva2VuaXplci50cyc7XG5pbXBvcnQgeyBfZGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzLnRzJztcbmltcG9ydCB7IGJsb2NrLCBpbmxpbmUgfSBmcm9tICcuL3J1bGVzLnRzJztcbi8qKlxuICogQmxvY2sgTGV4ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIF9MZXhlciB7XG4gICAgdG9rZW5zO1xuICAgIG9wdGlvbnM7XG4gICAgc3RhdGU7XG4gICAgdG9rZW5pemVyO1xuICAgIGlubGluZVF1ZXVlO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVG9rZW5MaXN0IGNhbm5vdCBiZSBjcmVhdGVkIGluIG9uZSBnb1xuICAgICAgICB0aGlzLnRva2VucyA9IFtdO1xuICAgICAgICB0aGlzLnRva2Vucy5saW5rcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgX2RlZmF1bHRzO1xuICAgICAgICB0aGlzLm9wdGlvbnMudG9rZW5pemVyID0gdGhpcy5vcHRpb25zLnRva2VuaXplciB8fCBuZXcgX1Rva2VuaXplcigpO1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHRoaXMub3B0aW9ucy50b2tlbml6ZXI7XG4gICAgICAgIHRoaXMudG9rZW5pemVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHRoaXMudG9rZW5pemVyLmxleGVyID0gdGhpcztcbiAgICAgICAgdGhpcy5pbmxpbmVRdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaW5MaW5rOiBmYWxzZSxcbiAgICAgICAgICAgIGluUmF3QmxvY2s6IGZhbHNlLFxuICAgICAgICAgICAgdG9wOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJ1bGVzID0ge1xuICAgICAgICAgICAgYmxvY2s6IGJsb2NrLm5vcm1hbCxcbiAgICAgICAgICAgIGlubGluZTogaW5saW5lLm5vcm1hbFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgICAgICBydWxlcy5ibG9jayA9IGJsb2NrLnBlZGFudGljO1xuICAgICAgICAgICAgcnVsZXMuaW5saW5lID0gaW5saW5lLnBlZGFudGljO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy5nZm0pIHtcbiAgICAgICAgICAgIHJ1bGVzLmJsb2NrID0gYmxvY2suZ2ZtO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5icmVha3MpIHtcbiAgICAgICAgICAgICAgICBydWxlcy5pbmxpbmUgPSBpbmxpbmUuYnJlYWtzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcnVsZXMuaW5saW5lID0gaW5saW5lLmdmbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRva2VuaXplci5ydWxlcyA9IHJ1bGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHBvc2UgUnVsZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHJ1bGVzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmxvY2ssXG4gICAgICAgICAgICBpbmxpbmVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhdGljIExleCBNZXRob2RcbiAgICAgKi9cbiAgICBzdGF0aWMgbGV4KHNyYywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBsZXhlciA9IG5ldyBfTGV4ZXIob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBsZXhlci5sZXgoc3JjKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhdGljIExleCBJbmxpbmUgTWV0aG9kXG4gICAgICovXG4gICAgc3RhdGljIGxleElubGluZShzcmMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbGV4ZXIgPSBuZXcgX0xleGVyKG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbGV4ZXIuaW5saW5lVG9rZW5zKHNyYyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXByb2Nlc3NpbmdcbiAgICAgKi9cbiAgICBsZXgoc3JjKSB7XG4gICAgICAgIHNyYyA9IHNyY1xuICAgICAgICAgICAgLnJlcGxhY2UoL1xcclxcbnxcXHIvZywgJ1xcbicpO1xuICAgICAgICB0aGlzLmJsb2NrVG9rZW5zKHNyYywgdGhpcy50b2tlbnMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5saW5lUXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLmlubGluZVF1ZXVlW2ldO1xuICAgICAgICAgICAgdGhpcy5pbmxpbmVUb2tlbnMobmV4dC5zcmMsIG5leHQudG9rZW5zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlubGluZVF1ZXVlID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VucztcbiAgICB9XG4gICAgYmxvY2tUb2tlbnMoc3JjLCB0b2tlbnMgPSBbXSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgICAgICBzcmMgPSBzcmMucmVwbGFjZSgvXFx0L2csICcgICAgJykucmVwbGFjZSgvXiArJC9nbSwgJycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3JjID0gc3JjLnJlcGxhY2UoL14oICopKFxcdCspL2dtLCAoXywgbGVhZGluZywgdGFicykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBsZWFkaW5nICsgJyAgICAnLnJlcGVhdCh0YWJzLmxlbmd0aCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdG9rZW47XG4gICAgICAgIGxldCBsYXN0VG9rZW47XG4gICAgICAgIGxldCBjdXRTcmM7XG4gICAgICAgIGxldCBsYXN0UGFyYWdyYXBoQ2xpcHBlZDtcbiAgICAgICAgd2hpbGUgKHNyYykge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuYmxvY2tcbiAgICAgICAgICAgICAgICAmJiB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5ibG9jay5zb21lKChleHRUb2tlbml6ZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuID0gZXh0VG9rZW5pemVyLmNhbGwoeyBsZXhlcjogdGhpcyB9LCBzcmMsIHRva2VucykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5ld2xpbmVcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnNwYWNlKHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi5yYXcubGVuZ3RoID09PSAxICYmIHRva2Vucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3MgYSBzaW5nbGUgXFxuIGFzIGEgc3BhY2VyLCBpdCdzIHRlcm1pbmF0aW5nIHRoZSBsYXN0IGxpbmUsXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIG1vdmUgaXQgdGhlcmUgc28gdGhhdCB3ZSBkb24ndCBnZXQgdW5uZWNlc3NhcnkgcGFyYWdyYXBoIHRhZ3NcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXS5yYXcgKz0gJ1xcbic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29kZVxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuY29kZShzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIC8vIEFuIGluZGVudGVkIGNvZGUgYmxvY2sgY2Fubm90IGludGVycnVwdCBhIHBhcmFncmFwaC5cbiAgICAgICAgICAgICAgICBpZiAobGFzdFRva2VuICYmIChsYXN0VG9rZW4udHlwZSA9PT0gJ3BhcmFncmFwaCcgfHwgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSAnXFxuJyArIHRva2VuLnJhdztcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gJ1xcbicgKyB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlubGluZVF1ZXVlW3RoaXMuaW5saW5lUXVldWUubGVuZ3RoIC0gMV0uc3JjID0gbGFzdFRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZmVuY2VzXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5mZW5jZXMoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaGVhZGluZ1xuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuaGVhZGluZyhzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBoclxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuaHIoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYmxvY2txdW90ZVxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuYmxvY2txdW90ZShzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsaXN0XG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5saXN0KHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGh0bWxcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmh0bWwoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGVmXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5kZWYoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFRva2VuICYmIChsYXN0VG9rZW4udHlwZSA9PT0gJ3BhcmFncmFwaCcgfHwgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSAnXFxuJyArIHRva2VuLnJhdztcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gJ1xcbicgKyB0b2tlbi5yYXc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lUXVldWVbdGhpcy5pbmxpbmVRdWV1ZS5sZW5ndGggLSAxXS5zcmMgPSBsYXN0VG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMudG9rZW5zLmxpbmtzW3Rva2VuLnRhZ10pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2tlbnMubGlua3NbdG9rZW4udGFnXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IHRva2VuLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdG9rZW4udGl0bGVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0YWJsZSAoZ2ZtKVxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudGFibGUoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbGhlYWRpbmdcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxoZWFkaW5nKHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRvcC1sZXZlbCBwYXJhZ3JhcGhcbiAgICAgICAgICAgIC8vIHByZXZlbnQgcGFyYWdyYXBoIGNvbnN1bWluZyBleHRlbnNpb25zIGJ5IGNsaXBwaW5nICdzcmMnIHRvIGV4dGVuc2lvbiBzdGFydFxuICAgICAgICAgICAgY3V0U3JjID0gc3JjO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0QmxvY2spIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRJbmRleCA9IEluZmluaXR5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBTcmMgPSBzcmMuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgbGV0IHRlbXBTdGFydDtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5zdGFydEJsb2NrLmZvckVhY2goKGdldFN0YXJ0SW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcFN0YXJ0ID0gZ2V0U3RhcnRJbmRleC5jYWxsKHsgbGV4ZXI6IHRoaXMgfSwgdGVtcFNyYyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcFN0YXJ0ID09PSAnbnVtYmVyJyAmJiB0ZW1wU3RhcnQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRJbmRleCA9IE1hdGgubWluKHN0YXJ0SW5kZXgsIHRlbXBTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRJbmRleCA8IEluZmluaXR5ICYmIHN0YXJ0SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjdXRTcmMgPSBzcmMuc3Vic3RyaW5nKDAsIHN0YXJ0SW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS50b3AgJiYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIucGFyYWdyYXBoKGN1dFNyYykpKSB7XG4gICAgICAgICAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFBhcmFncmFwaENsaXBwZWQgJiYgbGFzdFRva2VuLnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gJ1xcbicgKyB0b2tlbi5yYXc7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9ICdcXG4nICsgdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmxpbmVRdWV1ZS5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmxpbmVRdWV1ZVt0aGlzLmlubGluZVF1ZXVlLmxlbmd0aCAtIDFdLnNyYyA9IGxhc3RUb2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0UGFyYWdyYXBoQ2xpcHBlZCA9IChjdXRTcmMubGVuZ3RoICE9PSBzcmMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGV4dFxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudGV4dChzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VG9rZW4gJiYgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICBsYXN0VG9rZW4ucmF3ICs9ICdcXG4nICsgdG9rZW4ucmF3O1xuICAgICAgICAgICAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSAnXFxuJyArIHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lUXVldWUucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lUXVldWVbdGhpcy5pbmxpbmVRdWV1ZS5sZW5ndGggLSAxXS5zcmMgPSBsYXN0VG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3JjKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyTXNnID0gJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZS50b3AgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH1cbiAgICBpbmxpbmUoc3JjLCB0b2tlbnMgPSBbXSkge1xuICAgICAgICB0aGlzLmlubGluZVF1ZXVlLnB1c2goeyBzcmMsIHRva2VucyB9KTtcbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGV4aW5nL0NvbXBpbGluZ1xuICAgICAqL1xuICAgIGlubGluZVRva2VucyhzcmMsIHRva2VucyA9IFtdKSB7XG4gICAgICAgIGxldCB0b2tlbiwgbGFzdFRva2VuLCBjdXRTcmM7XG4gICAgICAgIC8vIFN0cmluZyB3aXRoIGxpbmtzIG1hc2tlZCB0byBhdm9pZCBpbnRlcmZlcmVuY2Ugd2l0aCBlbSBhbmQgc3Ryb25nXG4gICAgICAgIGxldCBtYXNrZWRTcmMgPSBzcmM7XG4gICAgICAgIGxldCBtYXRjaDtcbiAgICAgICAgbGV0IGtlZXBQcmV2Q2hhciwgcHJldkNoYXI7XG4gICAgICAgIC8vIE1hc2sgb3V0IHJlZmxpbmtzXG4gICAgICAgIGlmICh0aGlzLnRva2Vucy5saW5rcykge1xuICAgICAgICAgICAgY29uc3QgbGlua3MgPSBPYmplY3Qua2V5cyh0aGlzLnRva2Vucy5saW5rcyk7XG4gICAgICAgICAgICBpZiAobGlua3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSB0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUucmVmbGlua1NlYXJjaC5leGVjKG1hc2tlZFNyYykpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmtzLmluY2x1ZGVzKG1hdGNoWzBdLnNsaWNlKG1hdGNoWzBdLmxhc3RJbmRleE9mKCdbJykgKyAxLCAtMSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrZWRTcmMgPSBtYXNrZWRTcmMuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgJ1snICsgJ2EnLnJlcGVhdChtYXRjaFswXS5sZW5ndGggLSAyKSArICddJyArIG1hc2tlZFNyYy5zbGljZSh0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUucmVmbGlua1NlYXJjaC5sYXN0SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE1hc2sgb3V0IG90aGVyIGJsb2Nrc1xuICAgICAgICB3aGlsZSAoKG1hdGNoID0gdGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmJsb2NrU2tpcC5leGVjKG1hc2tlZFNyYykpICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1hc2tlZFNyYyA9IG1hc2tlZFNyYy5zbGljZSgwLCBtYXRjaC5pbmRleCkgKyAnWycgKyAnYScucmVwZWF0KG1hdGNoWzBdLmxlbmd0aCAtIDIpICsgJ10nICsgbWFza2VkU3JjLnNsaWNlKHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5ibG9ja1NraXAubGFzdEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYXNrIG91dCBlc2NhcGVkIGNoYXJhY3RlcnNcbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbi5leGVjKG1hc2tlZFNyYykpICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1hc2tlZFNyYyA9IG1hc2tlZFNyYy5zbGljZSgwLCBtYXRjaC5pbmRleCkgKyAnKysnICsgbWFza2VkU3JjLnNsaWNlKHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbi5sYXN0SW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChzcmMpIHtcbiAgICAgICAgICAgIGlmICgha2VlcFByZXZDaGFyKSB7XG4gICAgICAgICAgICAgICAgcHJldkNoYXIgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGtlZXBQcmV2Q2hhciA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gZXh0ZW5zaW9uc1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuaW5saW5lXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuaW5saW5lLnNvbWUoKGV4dFRva2VuaXplcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gPSBleHRUb2tlbml6ZXIuY2FsbCh7IGxleGVyOiB0aGlzIH0sIHNyYywgdG9rZW5zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNjYXBlXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5lc2NhcGUoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGFnXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci50YWcoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFRva2VuICYmIHRva2VuLnR5cGUgPT09ICd0ZXh0JyAmJiBsYXN0VG9rZW4udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gdG9rZW4ucmF3O1xuICAgICAgICAgICAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxpbmtcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxpbmsoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVmbGluaywgbm9saW5rXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5yZWZsaW5rKHNyYywgdGhpcy50b2tlbnMubGlua3MpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VG9rZW4gJiYgdG9rZW4udHlwZSA9PT0gJ3RleHQnICYmIGxhc3RUb2tlbi50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSB0b2tlbi5yYXc7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZW0gJiBzdHJvbmdcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmVtU3Ryb25nKHNyYywgbWFza2VkU3JjLCBwcmV2Q2hhcikpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvZGVcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmNvZGVzcGFuKHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJyXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5icihzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZWwgKGdmbSlcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmRlbChzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhdXRvbGlua1xuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuYXV0b2xpbmsoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXJsIChnZm0pXG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUuaW5MaW5rICYmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnVybChzcmMpKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGV4dFxuICAgICAgICAgICAgLy8gcHJldmVudCBpbmxpbmVUZXh0IGNvbnN1bWluZyBleHRlbnNpb25zIGJ5IGNsaXBwaW5nICdzcmMnIHRvIGV4dGVuc2lvbiBzdGFydFxuICAgICAgICAgICAgY3V0U3JjID0gc3JjO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0SW5saW5lKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSBJbmZpbml0eTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wU3JjID0gc3JjLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wU3RhcnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuc3RhcnRJbmxpbmUuZm9yRWFjaCgoZ2V0U3RhcnRJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhcnQgPSBnZXRTdGFydEluZGV4LmNhbGwoeyBsZXhlcjogdGhpcyB9LCB0ZW1wU3JjKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wU3RhcnQgPT09ICdudW1iZXInICYmIHRlbXBTdGFydCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4ID0gTWF0aC5taW4oc3RhcnRJbmRleCwgdGVtcFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydEluZGV4IDwgSW5maW5pdHkgJiYgc3RhcnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1dFNyYyA9IHNyYy5zdWJzdHJpbmcoMCwgc3RhcnRJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmlubGluZVRleHQoY3V0U3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnJhdy5zbGljZSgtMSkgIT09ICdfJykgeyAvLyBUcmFjayBwcmV2Q2hhciBiZWZvcmUgc3RyaW5nIG9mIF9fX18gc3RhcnRlZFxuICAgICAgICAgICAgICAgICAgICBwcmV2Q2hhciA9IHRva2VuLnJhdy5zbGljZSgtMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGtlZXBQcmV2Q2hhciA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFRva2VuICYmIGxhc3RUb2tlbi50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSB0b2tlbi5yYXc7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVyck1zZyA9ICdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IF9kZWZhdWx0cyB9IGZyb20gJy4vZGVmYXVsdHMudHMnO1xuaW1wb3J0IHsgY2xlYW5VcmwsIGVzY2FwZSB9IGZyb20gJy4vaGVscGVycy50cyc7XG4vKipcbiAqIFJlbmRlcmVyXG4gKi9cbmV4cG9ydCBjbGFzcyBfUmVuZGVyZXIge1xuICAgIG9wdGlvbnM7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IF9kZWZhdWx0cztcbiAgICB9XG4gICAgY29kZShjb2RlLCBpbmZvc3RyaW5nLCBlc2NhcGVkKSB7XG4gICAgICAgIGNvbnN0IGxhbmcgPSAoaW5mb3N0cmluZyB8fCAnJykubWF0Y2goL15cXFMqLyk/LlswXTtcbiAgICAgICAgY29kZSA9IGNvZGUucmVwbGFjZSgvXFxuJC8sICcnKSArICdcXG4nO1xuICAgICAgICBpZiAoIWxhbmcpIHtcbiAgICAgICAgICAgIHJldHVybiAnPHByZT48Y29kZT4nXG4gICAgICAgICAgICAgICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUoY29kZSwgdHJ1ZSkpXG4gICAgICAgICAgICAgICAgKyAnPC9jb2RlPjwvcHJlPlxcbic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICc8cHJlPjxjb2RlIGNsYXNzPVwibGFuZ3VhZ2UtJ1xuICAgICAgICAgICAgKyBlc2NhcGUobGFuZylcbiAgICAgICAgICAgICsgJ1wiPidcbiAgICAgICAgICAgICsgKGVzY2FwZWQgPyBjb2RlIDogZXNjYXBlKGNvZGUsIHRydWUpKVxuICAgICAgICAgICAgKyAnPC9jb2RlPjwvcHJlPlxcbic7XG4gICAgfVxuICAgIGJsb2NrcXVvdGUocXVvdGUpIHtcbiAgICAgICAgcmV0dXJuIGA8YmxvY2txdW90ZT5cXG4ke3F1b3RlfTwvYmxvY2txdW90ZT5cXG5gO1xuICAgIH1cbiAgICBodG1sKGh0bWwsIGJsb2NrKSB7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cbiAgICBoZWFkaW5nKHRleHQsIGxldmVsLCByYXcpIHtcbiAgICAgICAgLy8gaWdub3JlIElEc1xuICAgICAgICByZXR1cm4gYDxoJHtsZXZlbH0+JHt0ZXh0fTwvaCR7bGV2ZWx9PlxcbmA7XG4gICAgfVxuICAgIGhyKCkge1xuICAgICAgICByZXR1cm4gJzxocj5cXG4nO1xuICAgIH1cbiAgICBsaXN0KGJvZHksIG9yZGVyZWQsIHN0YXJ0KSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBvcmRlcmVkID8gJ29sJyA6ICd1bCc7XG4gICAgICAgIGNvbnN0IHN0YXJ0YXR0ID0gKG9yZGVyZWQgJiYgc3RhcnQgIT09IDEpID8gKCcgc3RhcnQ9XCInICsgc3RhcnQgKyAnXCInKSA6ICcnO1xuICAgICAgICByZXR1cm4gJzwnICsgdHlwZSArIHN0YXJ0YXR0ICsgJz5cXG4nICsgYm9keSArICc8LycgKyB0eXBlICsgJz5cXG4nO1xuICAgIH1cbiAgICBsaXN0aXRlbSh0ZXh0LCB0YXNrLCBjaGVja2VkKSB7XG4gICAgICAgIHJldHVybiBgPGxpPiR7dGV4dH08L2xpPlxcbmA7XG4gICAgfVxuICAgIGNoZWNrYm94KGNoZWNrZWQpIHtcbiAgICAgICAgcmV0dXJuICc8aW5wdXQgJ1xuICAgICAgICAgICAgKyAoY2hlY2tlZCA/ICdjaGVja2VkPVwiXCIgJyA6ICcnKVxuICAgICAgICAgICAgKyAnZGlzYWJsZWQ9XCJcIiB0eXBlPVwiY2hlY2tib3hcIj4nO1xuICAgIH1cbiAgICBwYXJhZ3JhcGgodGV4dCkge1xuICAgICAgICByZXR1cm4gYDxwPiR7dGV4dH08L3A+XFxuYDtcbiAgICB9XG4gICAgdGFibGUoaGVhZGVyLCBib2R5KSB7XG4gICAgICAgIGlmIChib2R5KVxuICAgICAgICAgICAgYm9keSA9IGA8dGJvZHk+JHtib2R5fTwvdGJvZHk+YDtcbiAgICAgICAgcmV0dXJuICc8dGFibGU+XFxuJ1xuICAgICAgICAgICAgKyAnPHRoZWFkPlxcbidcbiAgICAgICAgICAgICsgaGVhZGVyXG4gICAgICAgICAgICArICc8L3RoZWFkPlxcbidcbiAgICAgICAgICAgICsgYm9keVxuICAgICAgICAgICAgKyAnPC90YWJsZT5cXG4nO1xuICAgIH1cbiAgICB0YWJsZXJvdyhjb250ZW50KSB7XG4gICAgICAgIHJldHVybiBgPHRyPlxcbiR7Y29udGVudH08L3RyPlxcbmA7XG4gICAgfVxuICAgIHRhYmxlY2VsbChjb250ZW50LCBmbGFncykge1xuICAgICAgICBjb25zdCB0eXBlID0gZmxhZ3MuaGVhZGVyID8gJ3RoJyA6ICd0ZCc7XG4gICAgICAgIGNvbnN0IHRhZyA9IGZsYWdzLmFsaWduXG4gICAgICAgICAgICA/IGA8JHt0eXBlfSBhbGlnbj1cIiR7ZmxhZ3MuYWxpZ259XCI+YFxuICAgICAgICAgICAgOiBgPCR7dHlwZX0+YDtcbiAgICAgICAgcmV0dXJuIHRhZyArIGNvbnRlbnQgKyBgPC8ke3R5cGV9PlxcbmA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNwYW4gbGV2ZWwgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBzdHJvbmcodGV4dCkge1xuICAgICAgICByZXR1cm4gYDxzdHJvbmc+JHt0ZXh0fTwvc3Ryb25nPmA7XG4gICAgfVxuICAgIGVtKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIGA8ZW0+JHt0ZXh0fTwvZW0+YDtcbiAgICB9XG4gICAgY29kZXNwYW4odGV4dCkge1xuICAgICAgICByZXR1cm4gYDxjb2RlPiR7dGV4dH08L2NvZGU+YDtcbiAgICB9XG4gICAgYnIoKSB7XG4gICAgICAgIHJldHVybiAnPGJyPic7XG4gICAgfVxuICAgIGRlbCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiBgPGRlbD4ke3RleHR9PC9kZWw+YDtcbiAgICB9XG4gICAgbGluayhocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgICBjb25zdCBjbGVhbkhyZWYgPSBjbGVhblVybChocmVmKTtcbiAgICAgICAgaWYgKGNsZWFuSHJlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaHJlZiA9IGNsZWFuSHJlZjtcbiAgICAgICAgbGV0IG91dCA9ICc8YSBocmVmPVwiJyArIGhyZWYgKyAnXCInO1xuICAgICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgICAgIG91dCArPSAnIHRpdGxlPVwiJyArIHRpdGxlICsgJ1wiJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJz4nICsgdGV4dCArICc8L2E+JztcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgaW1hZ2UoaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgICAgY29uc3QgY2xlYW5IcmVmID0gY2xlYW5VcmwoaHJlZik7XG4gICAgICAgIGlmIChjbGVhbkhyZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGhyZWYgPSBjbGVhbkhyZWY7XG4gICAgICAgIGxldCBvdXQgPSBgPGltZyBzcmM9XCIke2hyZWZ9XCIgYWx0PVwiJHt0ZXh0fVwiYDtcbiAgICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgICAgICBvdXQgKz0gYCB0aXRsZT1cIiR7dGl0bGV9XCJgO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnPic7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIHRleHQodGV4dCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG59XG4iLCAiLyoqXG4gKiBUZXh0UmVuZGVyZXJcbiAqIHJldHVybnMgb25seSB0aGUgdGV4dHVhbCBwYXJ0IG9mIHRoZSB0b2tlblxuICovXG5leHBvcnQgY2xhc3MgX1RleHRSZW5kZXJlciB7XG4gICAgLy8gbm8gbmVlZCBmb3IgYmxvY2sgbGV2ZWwgcmVuZGVyZXJzXG4gICAgc3Ryb25nKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGVtKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGNvZGVzcGFuKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGRlbCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBodG1sKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIHRleHQodGV4dCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgbGluayhocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgICByZXR1cm4gJycgKyB0ZXh0O1xuICAgIH1cbiAgICBpbWFnZShocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgICByZXR1cm4gJycgKyB0ZXh0O1xuICAgIH1cbiAgICBicigpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBfUmVuZGVyZXIgfSBmcm9tICcuL1JlbmRlcmVyLnRzJztcbmltcG9ydCB7IF9UZXh0UmVuZGVyZXIgfSBmcm9tICcuL1RleHRSZW5kZXJlci50cyc7XG5pbXBvcnQgeyBfZGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzLnRzJztcbmltcG9ydCB7IHVuZXNjYXBlIH0gZnJvbSAnLi9oZWxwZXJzLnRzJztcbi8qKlxuICogUGFyc2luZyAmIENvbXBpbGluZ1xuICovXG5leHBvcnQgY2xhc3MgX1BhcnNlciB7XG4gICAgb3B0aW9ucztcbiAgICByZW5kZXJlcjtcbiAgICB0ZXh0UmVuZGVyZXI7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IF9kZWZhdWx0cztcbiAgICAgICAgdGhpcy5vcHRpb25zLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IG5ldyBfUmVuZGVyZXIoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB0aGlzLnRleHRSZW5kZXJlciA9IG5ldyBfVGV4dFJlbmRlcmVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBQYXJzZSBNZXRob2RcbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2UodG9rZW5zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBfUGFyc2VyKG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcGFyc2VyLnBhcnNlKHRva2Vucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBQYXJzZSBJbmxpbmUgTWV0aG9kXG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlSW5saW5lKHRva2Vucywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgX1BhcnNlcihvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlci5wYXJzZUlubGluZSh0b2tlbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSBMb29wXG4gICAgICovXG4gICAgcGFyc2UodG9rZW5zLCB0b3AgPSB0cnVlKSB7XG4gICAgICAgIGxldCBvdXQgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgLy8gUnVuIGFueSByZW5kZXJlciBleHRlbnNpb25zXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmV4dGVuc2lvbnMgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMucmVuZGVyZXJzICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1t0b2tlbi50eXBlXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdlbmVyaWNUb2tlbiA9IHRva2VuO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldCA9IHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1tnZW5lcmljVG9rZW4udHlwZV0uY2FsbCh7IHBhcnNlcjogdGhpcyB9LCBnZW5lcmljVG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChyZXQgIT09IGZhbHNlIHx8ICFbJ3NwYWNlJywgJ2hyJywgJ2hlYWRpbmcnLCAnY29kZScsICd0YWJsZScsICdibG9ja3F1b3RlJywgJ2xpc3QnLCAnaHRtbCcsICdwYXJhZ3JhcGgnLCAndGV4dCddLmluY2x1ZGVzKGdlbmVyaWNUb2tlbi50eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gcmV0IHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzcGFjZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2hyJzoge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5ocigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaGVhZGluZyc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGluZ1Rva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmhlYWRpbmcodGhpcy5wYXJzZUlubGluZShoZWFkaW5nVG9rZW4udG9rZW5zKSwgaGVhZGluZ1Rva2VuLmRlcHRoLCB1bmVzY2FwZSh0aGlzLnBhcnNlSW5saW5lKGhlYWRpbmdUb2tlbi50b2tlbnMsIHRoaXMudGV4dFJlbmRlcmVyKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnY29kZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZVRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmNvZGUoY29kZVRva2VuLnRleHQsIGNvZGVUb2tlbi5sYW5nLCAhIWNvZGVUb2tlbi5lc2NhcGVkKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3RhYmxlJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWJsZVRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGxldCBoZWFkZXIgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgLy8gaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxsID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGFibGVUb2tlbi5oZWFkZXIubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwodGhpcy5wYXJzZUlubGluZSh0YWJsZVRva2VuLmhlYWRlcltqXS50b2tlbnMpLCB7IGhlYWRlcjogdHJ1ZSwgYWxpZ246IHRhYmxlVG9rZW4uYWxpZ25bal0gfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBib2R5ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGFibGVUb2tlbi5yb3dzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb3cgPSB0YWJsZVRva2VuLnJvd3Nbal07XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJvdy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwodGhpcy5wYXJzZUlubGluZShyb3dba10udG9rZW5zKSwgeyBoZWFkZXI6IGZhbHNlLCBhbGlnbjogdGFibGVUb2tlbi5hbGlnbltrXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgKz0gdGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci50YWJsZShoZWFkZXIsIGJvZHkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnYmxvY2txdW90ZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvY2txdW90ZVRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLnBhcnNlKGJsb2NrcXVvdGVUb2tlbi50b2tlbnMpO1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5ibG9ja3F1b3RlKGJvZHkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnbGlzdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlzdFRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yZGVyZWQgPSBsaXN0VG9rZW4ub3JkZXJlZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBsaXN0VG9rZW4uc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvb3NlID0gbGlzdFRva2VuLmxvb3NlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYm9keSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpc3RUb2tlbi5pdGVtcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGxpc3RUb2tlbi5pdGVtc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBpdGVtLmNoZWNrZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gaXRlbS50YXNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW1Cb2R5ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSB0aGlzLnJlbmRlcmVyLmNoZWNrYm94KCEhY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRva2Vucy5sZW5ndGggPiAwICYmIGl0ZW0udG9rZW5zWzBdLnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRva2Vuc1swXS50ZXh0ID0gY2hlY2tib3ggKyAnICcgKyBpdGVtLnRva2Vuc1swXS50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udG9rZW5zWzBdLnRva2VucyAmJiBpdGVtLnRva2Vuc1swXS50b2tlbnMubGVuZ3RoID4gMCAmJiBpdGVtLnRva2Vuc1swXS50b2tlbnNbMF0udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50b2tlbnNbMF0udG9rZW5zWzBdLnRleHQgPSBjaGVja2JveCArICcgJyArIGl0ZW0udG9rZW5zWzBdLnRva2Vuc1swXS50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50b2tlbnMudW5zaGlmdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNoZWNrYm94ICsgJyAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUJvZHkgKz0gY2hlY2tib3ggKyAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUJvZHkgKz0gdGhpcy5wYXJzZShpdGVtLnRva2VucywgbG9vc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSArPSB0aGlzLnJlbmRlcmVyLmxpc3RpdGVtKGl0ZW1Cb2R5LCB0YXNrLCAhIWNoZWNrZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpc3QoYm9keSwgb3JkZXJlZCwgc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaHRtbCc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaHRtbFRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmh0bWwoaHRtbFRva2VuLnRleHQsIGh0bWxUb2tlbi5ibG9jayk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdwYXJhZ3JhcGgnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFncmFwaFRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0aGlzLnBhcnNlSW5saW5lKHBhcmFncmFwaFRva2VuLnRva2VucykpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRleHRUb2tlbiA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYm9keSA9IHRleHRUb2tlbi50b2tlbnMgPyB0aGlzLnBhcnNlSW5saW5lKHRleHRUb2tlbi50b2tlbnMpIDogdGV4dFRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpICsgMSA8IHRva2Vucy5sZW5ndGggJiYgdG9rZW5zW2kgKyAxXS50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRUb2tlbiA9IHRva2Vuc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSArPSAnXFxuJyArICh0ZXh0VG9rZW4udG9rZW5zID8gdGhpcy5wYXJzZUlubGluZSh0ZXh0VG9rZW4udG9rZW5zKSA6IHRleHRUb2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdG9wID8gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgoYm9keSkgOiBib2R5O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJNc2cgPSAnVG9rZW4gd2l0aCBcIicgKyB0b2tlbi50eXBlICsgJ1wiIHR5cGUgd2FzIG5vdCBmb3VuZC4nO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgSW5saW5lIFRva2Vuc1xuICAgICAqL1xuICAgIHBhcnNlSW5saW5lKHRva2VucywgcmVuZGVyZXIpIHtcbiAgICAgICAgcmVuZGVyZXIgPSByZW5kZXJlciB8fCB0aGlzLnJlbmRlcmVyO1xuICAgICAgICBsZXQgb3V0ID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIC8vIFJ1biBhbnkgcmVuZGVyZXIgZXh0ZW5zaW9uc1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVycyAmJiB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnNbdG9rZW4udHlwZV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXQgPSB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnNbdG9rZW4udHlwZV0uY2FsbCh7IHBhcnNlcjogdGhpcyB9LCB0b2tlbik7XG4gICAgICAgICAgICAgICAgaWYgKHJldCAhPT0gZmFsc2UgfHwgIVsnZXNjYXBlJywgJ2h0bWwnLCAnbGluaycsICdpbWFnZScsICdzdHJvbmcnLCAnZW0nLCAnY29kZXNwYW4nLCAnYnInLCAnZGVsJywgJ3RleHQnXS5pbmNsdWRlcyh0b2tlbi50eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gcmV0IHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdlc2NhcGUnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVzY2FwZVRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci50ZXh0KGVzY2FwZVRva2VuLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaHRtbCc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFnVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmh0bWwodGFnVG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdsaW5rJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmxpbmsobGlua1Rva2VuLmhyZWYsIGxpbmtUb2tlbi50aXRsZSwgdGhpcy5wYXJzZUlubGluZShsaW5rVG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaW1hZ2UnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmltYWdlKGltYWdlVG9rZW4uaHJlZiwgaW1hZ2VUb2tlbi50aXRsZSwgaW1hZ2VUb2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cm9uZyc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3Ryb25nVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLnN0cm9uZyh0aGlzLnBhcnNlSW5saW5lKHN0cm9uZ1Rva2VuLnRva2VucywgcmVuZGVyZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2VtJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbVRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5lbSh0aGlzLnBhcnNlSW5saW5lKGVtVG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnY29kZXNwYW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVzcGFuVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmNvZGVzcGFuKGNvZGVzcGFuVG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdicic6IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmJyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdkZWwnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbFRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5kZWwodGhpcy5wYXJzZUlubGluZShkZWxUb2tlbi50b2tlbnMsIHJlbmRlcmVyKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0VG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLnRleHQodGV4dFRva2VuLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJNc2cgPSAnVG9rZW4gd2l0aCBcIicgKyB0b2tlbi50eXBlICsgJ1wiIHR5cGUgd2FzIG5vdCBmb3VuZC4nO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgX2RlZmF1bHRzIH0gZnJvbSAnLi9kZWZhdWx0cy50cyc7XG5leHBvcnQgY2xhc3MgX0hvb2tzIHtcbiAgICBvcHRpb25zO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBfZGVmYXVsdHM7XG4gICAgfVxuICAgIHN0YXRpYyBwYXNzVGhyb3VnaEhvb2tzID0gbmV3IFNldChbXG4gICAgICAgICdwcmVwcm9jZXNzJyxcbiAgICAgICAgJ3Bvc3Rwcm9jZXNzJyxcbiAgICAgICAgJ3Byb2Nlc3NBbGxUb2tlbnMnXG4gICAgXSk7XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBtYXJrZG93biBiZWZvcmUgbWFya2VkXG4gICAgICovXG4gICAgcHJlcHJvY2VzcyhtYXJrZG93bikge1xuICAgICAgICByZXR1cm4gbWFya2Rvd247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgSFRNTCBhZnRlciBtYXJrZWQgaXMgZmluaXNoZWRcbiAgICAgKi9cbiAgICBwb3N0cHJvY2VzcyhodG1sKSB7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGFsbCB0b2tlbnMgYmVmb3JlIHdhbGsgdG9rZW5zXG4gICAgICovXG4gICAgcHJvY2Vzc0FsbFRva2Vucyh0b2tlbnMpIHtcbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgX2dldERlZmF1bHRzIH0gZnJvbSAnLi9kZWZhdWx0cy50cyc7XG5pbXBvcnQgeyBfTGV4ZXIgfSBmcm9tICcuL0xleGVyLnRzJztcbmltcG9ydCB7IF9QYXJzZXIgfSBmcm9tICcuL1BhcnNlci50cyc7XG5pbXBvcnQgeyBfSG9va3MgfSBmcm9tICcuL0hvb2tzLnRzJztcbmltcG9ydCB7IF9SZW5kZXJlciB9IGZyb20gJy4vUmVuZGVyZXIudHMnO1xuaW1wb3J0IHsgX1Rva2VuaXplciB9IGZyb20gJy4vVG9rZW5pemVyLnRzJztcbmltcG9ydCB7IF9UZXh0UmVuZGVyZXIgfSBmcm9tICcuL1RleHRSZW5kZXJlci50cyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuL2hlbHBlcnMudHMnO1xuZXhwb3J0IGNsYXNzIE1hcmtlZCB7XG4gICAgZGVmYXVsdHMgPSBfZ2V0RGVmYXVsdHMoKTtcbiAgICBvcHRpb25zID0gdGhpcy5zZXRPcHRpb25zO1xuICAgIHBhcnNlID0gdGhpcy4jcGFyc2VNYXJrZG93bihfTGV4ZXIubGV4LCBfUGFyc2VyLnBhcnNlKTtcbiAgICBwYXJzZUlubGluZSA9IHRoaXMuI3BhcnNlTWFya2Rvd24oX0xleGVyLmxleElubGluZSwgX1BhcnNlci5wYXJzZUlubGluZSk7XG4gICAgUGFyc2VyID0gX1BhcnNlcjtcbiAgICBSZW5kZXJlciA9IF9SZW5kZXJlcjtcbiAgICBUZXh0UmVuZGVyZXIgPSBfVGV4dFJlbmRlcmVyO1xuICAgIExleGVyID0gX0xleGVyO1xuICAgIFRva2VuaXplciA9IF9Ub2tlbml6ZXI7XG4gICAgSG9va3MgPSBfSG9va3M7XG4gICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICB0aGlzLnVzZSguLi5hcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVuIGNhbGxiYWNrIGZvciBldmVyeSB0b2tlblxuICAgICAqL1xuICAgIHdhbGtUb2tlbnModG9rZW5zLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgdmFsdWVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuY29uY2F0KGNhbGxiYWNrLmNhbGwodGhpcywgdG9rZW4pKTtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RhYmxlJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWJsZVRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2VsbCBvZiB0YWJsZVRva2VuLmhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdCh0aGlzLndhbGtUb2tlbnMoY2VsbC50b2tlbnMsIGNhbGxiYWNrKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByb3cgb2YgdGFibGVUb2tlbi5yb3dzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNlbGwgb2Ygcm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdCh0aGlzLndhbGtUb2tlbnMoY2VsbC50b2tlbnMsIGNhbGxiYWNrKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2xpc3QnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RUb2tlbiA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuY29uY2F0KHRoaXMud2Fsa1Rva2VucyhsaXN0VG9rZW4uaXRlbXMsIGNhbGxiYWNrKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbmVyaWNUb2tlbiA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWZhdWx0cy5leHRlbnNpb25zPy5jaGlsZFRva2Vucz8uW2dlbmVyaWNUb2tlbi50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0cy5leHRlbnNpb25zLmNoaWxkVG9rZW5zW2dlbmVyaWNUb2tlbi50eXBlXS5mb3JFYWNoKChjaGlsZFRva2VucykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IGdlbmVyaWNUb2tlbltjaGlsZFRva2Vuc10uZmxhdChJbmZpbml0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdCh0aGlzLndhbGtUb2tlbnModG9rZW5zLCBjYWxsYmFjaykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ2VuZXJpY1Rva2VuLnRva2Vucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdCh0aGlzLndhbGtUb2tlbnMoZ2VuZXJpY1Rva2VuLnRva2VucywgY2FsbGJhY2spKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cbiAgICB1c2UoLi4uYXJncykge1xuICAgICAgICBjb25zdCBleHRlbnNpb25zID0gdGhpcy5kZWZhdWx0cy5leHRlbnNpb25zIHx8IHsgcmVuZGVyZXJzOiB7fSwgY2hpbGRUb2tlbnM6IHt9IH07XG4gICAgICAgIGFyZ3MuZm9yRWFjaCgocGFjaykgPT4ge1xuICAgICAgICAgICAgLy8gY29weSBvcHRpb25zIHRvIG5ldyBvYmplY3RcbiAgICAgICAgICAgIGNvbnN0IG9wdHMgPSB7IC4uLnBhY2sgfTtcbiAgICAgICAgICAgIC8vIHNldCBhc3luYyB0byB0cnVlIGlmIGl0IHdhcyBzZXQgdG8gdHJ1ZSBiZWZvcmVcbiAgICAgICAgICAgIG9wdHMuYXN5bmMgPSB0aGlzLmRlZmF1bHRzLmFzeW5jIHx8IG9wdHMuYXN5bmMgfHwgZmFsc2U7XG4gICAgICAgICAgICAvLyA9PS0tIFBhcnNlIFwiYWRkb25cIiBleHRlbnNpb25zIC0tPT0gLy9cbiAgICAgICAgICAgIGlmIChwYWNrLmV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgICAgICBwYWNrLmV4dGVuc2lvbnMuZm9yRWFjaCgoZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXh0Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXh0ZW5zaW9uIG5hbWUgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoJ3JlbmRlcmVyJyBpbiBleHQpIHsgLy8gUmVuZGVyZXIgZXh0ZW5zaW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldlJlbmRlcmVyID0gZXh0ZW5zaW9ucy5yZW5kZXJlcnNbZXh0Lm5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZSZW5kZXJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgZXh0ZW5zaW9uIHdpdGggZnVuYyB0byBydW4gbmV3IGV4dGVuc2lvbiBidXQgZmFsbCBiYWNrIGlmIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5yZW5kZXJlcnNbZXh0Lm5hbWVdID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJldCA9IGV4dC5yZW5kZXJlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHByZXZSZW5kZXJlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zLnJlbmRlcmVyc1tleHQubmFtZV0gPSBleHQucmVuZGVyZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCd0b2tlbml6ZXInIGluIGV4dCkgeyAvLyBUb2tlbml6ZXIgRXh0ZW5zaW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFleHQubGV2ZWwgfHwgKGV4dC5sZXZlbCAhPT0gJ2Jsb2NrJyAmJiBleHQubGV2ZWwgIT09ICdpbmxpbmUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImV4dGVuc2lvbiBsZXZlbCBtdXN0IGJlICdibG9jaycgb3IgJ2lubGluZSdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRMZXZlbCA9IGV4dGVuc2lvbnNbZXh0LmxldmVsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHRMZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dExldmVsLnVuc2hpZnQoZXh0LnRva2VuaXplcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dC5sZXZlbF0gPSBbZXh0LnRva2VuaXplcl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0LnN0YXJ0KSB7IC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGZvciBzdGFydCBvZiB0b2tlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHQubGV2ZWwgPT09ICdibG9jaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dGVuc2lvbnMuc3RhcnRCbG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5zdGFydEJsb2NrLnB1c2goZXh0LnN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMuc3RhcnRCbG9jayA9IFtleHQuc3RhcnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV4dC5sZXZlbCA9PT0gJ2lubGluZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dGVuc2lvbnMuc3RhcnRJbmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMuc3RhcnRJbmxpbmUucHVzaChleHQuc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5zdGFydElubGluZSA9IFtleHQuc3RhcnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgnY2hpbGRUb2tlbnMnIGluIGV4dCAmJiBleHQuY2hpbGRUb2tlbnMpIHsgLy8gQ2hpbGQgdG9rZW5zIHRvIGJlIHZpc2l0ZWQgYnkgd2Fsa1Rva2Vuc1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5jaGlsZFRva2Vuc1tleHQubmFtZV0gPSBleHQuY2hpbGRUb2tlbnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvcHRzLmV4dGVuc2lvbnMgPSBleHRlbnNpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gPT0tLSBQYXJzZSBcIm92ZXJ3cml0ZVwiIGV4dGVuc2lvbnMgLS09PSAvL1xuICAgICAgICAgICAgaWYgKHBhY2sucmVuZGVyZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuZGVmYXVsdHMucmVuZGVyZXIgfHwgbmV3IF9SZW5kZXJlcih0aGlzLmRlZmF1bHRzKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gcGFjay5yZW5kZXJlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShwcm9wIGluIHJlbmRlcmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZW5kZXJlciAnJHtwcm9wfScgZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ29wdGlvbnMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgb3B0aW9ucyBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyZXJQcm9wID0gcHJvcDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyZXJGdW5jID0gcGFjay5yZW5kZXJlcltyZW5kZXJlclByb3BdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2UmVuZGVyZXIgPSByZW5kZXJlcltyZW5kZXJlclByb3BdO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHJlbmRlcmVyIHdpdGggZnVuYyB0byBydW4gZXh0ZW5zaW9uLCBidXQgZmFsbCBiYWNrIGlmIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyW3JlbmRlcmVyUHJvcF0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJldCA9IHJlbmRlcmVyRnVuYy5hcHBseShyZW5kZXJlciwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHByZXZSZW5kZXJlci5hcHBseShyZW5kZXJlciwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0IHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFjay50b2tlbml6ZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbml6ZXIgPSB0aGlzLmRlZmF1bHRzLnRva2VuaXplciB8fCBuZXcgX1Rva2VuaXplcih0aGlzLmRlZmF1bHRzKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gcGFjay50b2tlbml6ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocHJvcCBpbiB0b2tlbml6ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHRva2VuaXplciAnJHtwcm9wfScgZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoWydvcHRpb25zJywgJ3J1bGVzJywgJ2xleGVyJ10uaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBvcHRpb25zLCBydWxlcywgYW5kIGxleGVyIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuaXplclByb3AgPSBwcm9wO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbml6ZXJGdW5jID0gcGFjay50b2tlbml6ZXJbdG9rZW5pemVyUHJvcF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZUb2tlbml6ZXIgPSB0b2tlbml6ZXJbdG9rZW5pemVyUHJvcF07XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgdG9rZW5pemVyIHdpdGggZnVuYyB0byBydW4gZXh0ZW5zaW9uLCBidXQgZmFsbCBiYWNrIGlmIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY2Fubm90IHR5cGUgdG9rZW5pemVyIGZ1bmN0aW9uIGR5bmFtaWNhbGx5XG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplclt0b2tlbml6ZXJQcm9wXSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV0ID0gdG9rZW5pemVyRnVuYy5hcHBseSh0b2tlbml6ZXIsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBwcmV2VG9rZW5pemVyLmFwcGx5KHRva2VuaXplciwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vID09LS0gUGFyc2UgSG9va3MgZXh0ZW5zaW9ucyAtLT09IC8vXG4gICAgICAgICAgICBpZiAocGFjay5ob29rcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhvb2tzID0gdGhpcy5kZWZhdWx0cy5ob29rcyB8fCBuZXcgX0hvb2tzKCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wIGluIHBhY2suaG9va3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocHJvcCBpbiBob29rcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaG9vayAnJHtwcm9wfScgZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ29wdGlvbnMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgb3B0aW9ucyBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9va3NQcm9wID0gcHJvcDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9va3NGdW5jID0gcGFjay5ob29rc1tob29rc1Byb3BdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2SG9vayA9IGhvb2tzW2hvb2tzUHJvcF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChfSG9va3MucGFzc1Rocm91Z2hIb29rcy5oYXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY2Fubm90IHR5cGUgaG9vayBmdW5jdGlvbiBkeW5hbWljYWxseVxuICAgICAgICAgICAgICAgICAgICAgICAgaG9va3NbaG9va3NQcm9wXSA9IChhcmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWZhdWx0cy5hc3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGhvb2tzRnVuYy5jYWxsKGhvb2tzLCBhcmcpKS50aGVuKHJldCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldkhvb2suY2FsbChob29rcywgcmV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldCA9IGhvb2tzRnVuYy5jYWxsKGhvb2tzLCBhcmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2SG9vay5jYWxsKGhvb2tzLCByZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY2Fubm90IHR5cGUgaG9vayBmdW5jdGlvbiBkeW5hbWljYWxseVxuICAgICAgICAgICAgICAgICAgICAgICAgaG9va3NbaG9va3NQcm9wXSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJldCA9IGhvb2tzRnVuYy5hcHBseShob29rcywgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gcHJldkhvb2suYXBwbHkoaG9va3MsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRzLmhvb2tzID0gaG9va3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA9PS0tIFBhcnNlIFdhbGtUb2tlbnMgZXh0ZW5zaW9ucyAtLT09IC8vXG4gICAgICAgICAgICBpZiAocGFjay53YWxrVG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2Fsa1Rva2VucyA9IHRoaXMuZGVmYXVsdHMud2Fsa1Rva2VucztcbiAgICAgICAgICAgICAgICBjb25zdCBwYWNrV2Fsa3Rva2VucyA9IHBhY2sud2Fsa1Rva2VucztcbiAgICAgICAgICAgICAgICBvcHRzLndhbGtUb2tlbnMgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChwYWNrV2Fsa3Rva2Vucy5jYWxsKHRoaXMsIHRva2VuKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3YWxrVG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuY29uY2F0KHdhbGtUb2tlbnMuY2FsbCh0aGlzLCB0b2tlbikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdHMgPSB7IC4uLnRoaXMuZGVmYXVsdHMsIC4uLm9wdHMgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRPcHRpb25zKG9wdCkge1xuICAgICAgICB0aGlzLmRlZmF1bHRzID0geyAuLi50aGlzLmRlZmF1bHRzLCAuLi5vcHQgfTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxleGVyKHNyYywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX0xleGVyLmxleChzcmMsIG9wdGlvbnMgPz8gdGhpcy5kZWZhdWx0cyk7XG4gICAgfVxuICAgIHBhcnNlcih0b2tlbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9QYXJzZXIucGFyc2UodG9rZW5zLCBvcHRpb25zID8/IHRoaXMuZGVmYXVsdHMpO1xuICAgIH1cbiAgICAjcGFyc2VNYXJrZG93bihsZXhlciwgcGFyc2VyKSB7XG4gICAgICAgIHJldHVybiAoc3JjLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcmlnT3B0ID0geyAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBvcHQgPSB7IC4uLnRoaXMuZGVmYXVsdHMsIC4uLm9yaWdPcHQgfTtcbiAgICAgICAgICAgIC8vIFNob3cgd2FybmluZyBpZiBhbiBleHRlbnNpb24gc2V0IGFzeW5jIHRvIHRydWUgYnV0IHRoZSBwYXJzZSB3YXMgY2FsbGVkIHdpdGggYXN5bmM6IGZhbHNlXG4gICAgICAgICAgICBpZiAodGhpcy5kZWZhdWx0cy5hc3luYyA9PT0gdHJ1ZSAmJiBvcmlnT3B0LmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmICghb3B0LnNpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ21hcmtlZCgpOiBUaGUgYXN5bmMgb3B0aW9uIHdhcyBzZXQgdG8gdHJ1ZSBieSBhbiBleHRlbnNpb24uIFRoZSBhc3luYzogZmFsc2Ugb3B0aW9uIHNlbnQgdG8gcGFyc2Ugd2lsbCBiZSBpZ25vcmVkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHQuYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGhyb3dFcnJvciA9IHRoaXMuI29uRXJyb3IoISFvcHQuc2lsZW50LCAhIW9wdC5hc3luYyk7XG4gICAgICAgICAgICAvLyB0aHJvdyBlcnJvciBpbiBjYXNlIG9mIG5vbiBzdHJpbmcgaW5wdXRcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3JjID09PSAndW5kZWZpbmVkJyB8fCBzcmMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSAnXG4gICAgICAgICAgICAgICAgICAgICsgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYykgKyAnLCBzdHJpbmcgZXhwZWN0ZWQnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0Lmhvb2tzKSB7XG4gICAgICAgICAgICAgICAgb3B0Lmhvb2tzLm9wdGlvbnMgPSBvcHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0LmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShvcHQuaG9va3MgPyBvcHQuaG9va3MucHJlcHJvY2VzcyhzcmMpIDogc3JjKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihzcmMgPT4gbGV4ZXIoc3JjLCBvcHQpKVxuICAgICAgICAgICAgICAgICAgICAudGhlbih0b2tlbnMgPT4gb3B0Lmhvb2tzID8gb3B0Lmhvb2tzLnByb2Nlc3NBbGxUb2tlbnModG9rZW5zKSA6IHRva2VucylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4odG9rZW5zID0+IG9wdC53YWxrVG9rZW5zID8gUHJvbWlzZS5hbGwodGhpcy53YWxrVG9rZW5zKHRva2Vucywgb3B0LndhbGtUb2tlbnMpKS50aGVuKCgpID0+IHRva2VucykgOiB0b2tlbnMpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHRva2VucyA9PiBwYXJzZXIodG9rZW5zLCBvcHQpKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihodG1sID0+IG9wdC5ob29rcyA/IG9wdC5ob29rcy5wb3N0cHJvY2VzcyhodG1sKSA6IGh0bWwpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCh0aHJvd0Vycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdC5ob29rcykge1xuICAgICAgICAgICAgICAgICAgICBzcmMgPSBvcHQuaG9va3MucHJlcHJvY2VzcyhzcmMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgdG9rZW5zID0gbGV4ZXIoc3JjLCBvcHQpO1xuICAgICAgICAgICAgICAgIGlmIChvcHQuaG9va3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zID0gb3B0Lmhvb2tzLnByb2Nlc3NBbGxUb2tlbnModG9rZW5zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdC53YWxrVG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2Fsa1Rva2Vucyh0b2tlbnMsIG9wdC53YWxrVG9rZW5zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBwYXJzZXIodG9rZW5zLCBvcHQpO1xuICAgICAgICAgICAgICAgIGlmIChvcHQuaG9va3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCA9IG9wdC5ob29rcy5wb3N0cHJvY2VzcyhodG1sKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aHJvd0Vycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAjb25FcnJvcihzaWxlbnQsIGFzeW5jKSB7XG4gICAgICAgIHJldHVybiAoZSkgPT4ge1xuICAgICAgICAgICAgZS5tZXNzYWdlICs9ICdcXG5QbGVhc2UgcmVwb3J0IHRoaXMgdG8gaHR0cHM6Ly9naXRodWIuY29tL21hcmtlZGpzL21hcmtlZC4nO1xuICAgICAgICAgICAgaWYgKHNpbGVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9ICc8cD5BbiBlcnJvciBvY2N1cnJlZDo8L3A+PHByZT4nXG4gICAgICAgICAgICAgICAgICAgICsgZXNjYXBlKGUubWVzc2FnZSArICcnLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICArICc8L3ByZT4nO1xuICAgICAgICAgICAgICAgIGlmIChhc3luYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXN5bmMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9O1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBfTGV4ZXIgfSBmcm9tICcuL0xleGVyLnRzJztcbmltcG9ydCB7IF9QYXJzZXIgfSBmcm9tICcuL1BhcnNlci50cyc7XG5pbXBvcnQgeyBfVG9rZW5pemVyIH0gZnJvbSAnLi9Ub2tlbml6ZXIudHMnO1xuaW1wb3J0IHsgX1JlbmRlcmVyIH0gZnJvbSAnLi9SZW5kZXJlci50cyc7XG5pbXBvcnQgeyBfVGV4dFJlbmRlcmVyIH0gZnJvbSAnLi9UZXh0UmVuZGVyZXIudHMnO1xuaW1wb3J0IHsgX0hvb2tzIH0gZnJvbSAnLi9Ib29rcy50cyc7XG5pbXBvcnQgeyBNYXJrZWQgfSBmcm9tICcuL0luc3RhbmNlLnRzJztcbmltcG9ydCB7IF9nZXREZWZhdWx0cywgY2hhbmdlRGVmYXVsdHMsIF9kZWZhdWx0cyB9IGZyb20gJy4vZGVmYXVsdHMudHMnO1xuY29uc3QgbWFya2VkSW5zdGFuY2UgPSBuZXcgTWFya2VkKCk7XG5leHBvcnQgZnVuY3Rpb24gbWFya2VkKHNyYywgb3B0KSB7XG4gICAgcmV0dXJuIG1hcmtlZEluc3RhbmNlLnBhcnNlKHNyYywgb3B0KTtcbn1cbi8qKlxuICogU2V0cyB0aGUgZGVmYXVsdCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIEhhc2ggb2Ygb3B0aW9uc1xuICovXG5tYXJrZWQub3B0aW9ucyA9XG4gICAgbWFya2VkLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBtYXJrZWRJbnN0YW5jZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBtYXJrZWQuZGVmYXVsdHMgPSBtYXJrZWRJbnN0YW5jZS5kZWZhdWx0cztcbiAgICAgICAgY2hhbmdlRGVmYXVsdHMobWFya2VkLmRlZmF1bHRzKTtcbiAgICAgICAgcmV0dXJuIG1hcmtlZDtcbiAgICB9O1xuLyoqXG4gKiBHZXRzIHRoZSBvcmlnaW5hbCBtYXJrZWQgZGVmYXVsdCBvcHRpb25zLlxuICovXG5tYXJrZWQuZ2V0RGVmYXVsdHMgPSBfZ2V0RGVmYXVsdHM7XG5tYXJrZWQuZGVmYXVsdHMgPSBfZGVmYXVsdHM7XG4vKipcbiAqIFVzZSBFeHRlbnNpb25cbiAqL1xubWFya2VkLnVzZSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgbWFya2VkSW5zdGFuY2UudXNlKC4uLmFyZ3MpO1xuICAgIG1hcmtlZC5kZWZhdWx0cyA9IG1hcmtlZEluc3RhbmNlLmRlZmF1bHRzO1xuICAgIGNoYW5nZURlZmF1bHRzKG1hcmtlZC5kZWZhdWx0cyk7XG4gICAgcmV0dXJuIG1hcmtlZDtcbn07XG4vKipcbiAqIFJ1biBjYWxsYmFjayBmb3IgZXZlcnkgdG9rZW5cbiAqL1xubWFya2VkLndhbGtUb2tlbnMgPSBmdW5jdGlvbiAodG9rZW5zLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBtYXJrZWRJbnN0YW5jZS53YWxrVG9rZW5zKHRva2VucywgY2FsbGJhY2spO1xufTtcbi8qKlxuICogQ29tcGlsZXMgbWFya2Rvd24gdG8gSFRNTCB3aXRob3V0IGVuY2xvc2luZyBgcGAgdGFnLlxuICpcbiAqIEBwYXJhbSBzcmMgU3RyaW5nIG9mIG1hcmtkb3duIHNvdXJjZSB0byBiZSBjb21waWxlZFxuICogQHBhcmFtIG9wdGlvbnMgSGFzaCBvZiBvcHRpb25zXG4gKiBAcmV0dXJuIFN0cmluZyBvZiBjb21waWxlZCBIVE1MXG4gKi9cbm1hcmtlZC5wYXJzZUlubGluZSA9IG1hcmtlZEluc3RhbmNlLnBhcnNlSW5saW5lO1xuLyoqXG4gKiBFeHBvc2VcbiAqL1xubWFya2VkLlBhcnNlciA9IF9QYXJzZXI7XG5tYXJrZWQucGFyc2VyID0gX1BhcnNlci5wYXJzZTtcbm1hcmtlZC5SZW5kZXJlciA9IF9SZW5kZXJlcjtcbm1hcmtlZC5UZXh0UmVuZGVyZXIgPSBfVGV4dFJlbmRlcmVyO1xubWFya2VkLkxleGVyID0gX0xleGVyO1xubWFya2VkLmxleGVyID0gX0xleGVyLmxleDtcbm1hcmtlZC5Ub2tlbml6ZXIgPSBfVG9rZW5pemVyO1xubWFya2VkLkhvb2tzID0gX0hvb2tzO1xubWFya2VkLnBhcnNlID0gbWFya2VkO1xuZXhwb3J0IGNvbnN0IG9wdGlvbnMgPSBtYXJrZWQub3B0aW9ucztcbmV4cG9ydCBjb25zdCBzZXRPcHRpb25zID0gbWFya2VkLnNldE9wdGlvbnM7XG5leHBvcnQgY29uc3QgdXNlID0gbWFya2VkLnVzZTtcbmV4cG9ydCBjb25zdCB3YWxrVG9rZW5zID0gbWFya2VkLndhbGtUb2tlbnM7XG5leHBvcnQgY29uc3QgcGFyc2VJbmxpbmUgPSBtYXJrZWQucGFyc2VJbmxpbmU7XG5leHBvcnQgY29uc3QgcGFyc2UgPSBtYXJrZWQ7XG5leHBvcnQgY29uc3QgcGFyc2VyID0gX1BhcnNlci5wYXJzZTtcbmV4cG9ydCBjb25zdCBsZXhlciA9IF9MZXhlci5sZXg7XG5leHBvcnQgeyBfZGVmYXVsdHMgYXMgZGVmYXVsdHMsIF9nZXREZWZhdWx0cyBhcyBnZXREZWZhdWx0cyB9IGZyb20gJy4vZGVmYXVsdHMudHMnO1xuZXhwb3J0IHsgX0xleGVyIGFzIExleGVyIH0gZnJvbSAnLi9MZXhlci50cyc7XG5leHBvcnQgeyBfUGFyc2VyIGFzIFBhcnNlciB9IGZyb20gJy4vUGFyc2VyLnRzJztcbmV4cG9ydCB7IF9Ub2tlbml6ZXIgYXMgVG9rZW5pemVyIH0gZnJvbSAnLi9Ub2tlbml6ZXIudHMnO1xuZXhwb3J0IHsgX1JlbmRlcmVyIGFzIFJlbmRlcmVyIH0gZnJvbSAnLi9SZW5kZXJlci50cyc7XG5leHBvcnQgeyBfVGV4dFJlbmRlcmVyIGFzIFRleHRSZW5kZXJlciB9IGZyb20gJy4vVGV4dFJlbmRlcmVyLnRzJztcbmV4cG9ydCB7IF9Ib29rcyBhcyBIb29rcyB9IGZyb20gJy4vSG9va3MudHMnO1xuZXhwb3J0IHsgTWFya2VkIH0gZnJvbSAnLi9JbnN0YW5jZS50cyc7XG4iLCAiaW1wb3J0IHsgbWFya2VkIH0gZnJvbSBcIm1hcmtlZFwiO1xyXG5cclxuLy8gQ29uZmlndXJlIG1hcmtlZCBmb3Igc2FmZSBIVE1MIHJlbmRlcmluZ1xyXG5tYXJrZWQuc2V0T3B0aW9ucyh7XHJcblx0Z2ZtOiB0cnVlLCAvLyBHaXRIdWIgRmxhdm9yZWQgTWFya2Rvd25cclxuXHRicmVha3M6IHRydWUsIC8vIENvbnZlcnQgXFxuIHRvIDxicj5cclxufSk7XHJcblxyXG4vKipcclxuICogRXNjYXBlIEhUTUwgZW50aXRpZXMgdG8gcHJldmVudCBYU1NcclxuICovXHJcbmZ1bmN0aW9uIGVzY2FwZUh0bWwodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRyZXR1cm4gdGV4dFxyXG5cdFx0LnJlcGxhY2UoLyYvZywgXCImYW1wO1wiKVxyXG5cdFx0LnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpXHJcblx0XHQucmVwbGFjZSgvPi9nLCBcIiZndDtcIilcclxuXHRcdC5yZXBsYWNlKC9cIi9nLCBcIiZxdW90O1wiKVxyXG5cdFx0LnJlcGxhY2UoLycvZywgXCImIzM5O1wiKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgbWFya2Rvd24gdGV4dCB0byBIVE1MIHN0cmluZyB3aXRoIHByb3BlciBlc2NhcGluZ1xyXG4gKiBAcGFyYW0gbWFya2Rvd24gLSBUaGUgbWFya2Rvd24gdGV4dCB0byBjb252ZXJ0XHJcbiAqIEByZXR1cm5zIEhUTUwgc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbWFya2Rvd25Ub0h0bWwobWFya2Rvd246IHN0cmluZyk6IHN0cmluZyB7XHJcblx0aWYgKCFtYXJrZG93bikgcmV0dXJuIFwiXCI7XHJcblxyXG5cdHRyeSB7XHJcblx0XHQvLyBGaXJzdCBlc2NhcGUgYW55IGV4aXN0aW5nIEhUTUwgZW50aXRpZXMgdG8gcHJldmVudCBYU1NcclxuXHRcdGNvbnN0IGVzY2FwZWRNYXJrZG93biA9IGVzY2FwZUh0bWwobWFya2Rvd24pO1xyXG5cdFx0cmV0dXJuIG1hcmtlZChlc2NhcGVkTWFya2Rvd24pIGFzIHN0cmluZztcclxuXHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHBhcnNlIG1hcmtkb3duOlwiLCBlcnJvcik7XHJcblx0XHQvLyBGYWxsYmFjayB0byBwbGFpbiB0ZXh0IHdpdGggYmFzaWMgbGluZSBicmVhayBoYW5kbGluZyBhbmQgSFRNTCBlc2NhcGluZ1xyXG5cdFx0cmV0dXJuIGVzY2FwZUh0bWwobWFya2Rvd24pLnJlcGxhY2UoL1xcbi9nLCBcIjxicj5cIik7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sLCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gXCJsaXRcIjtcclxuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnMuanNcIjtcclxuaW1wb3J0IHsgdW5zYWZlSFRNTCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy91bnNhZmUtaHRtbC5qc1wiO1xyXG5pbXBvcnQgKiBhcyBEaWZmIGZyb20gXCJkaWZmXCI7XHJcbmltcG9ydCB0eXBlIHtcclxuXHRNZXNzYWdlUGFyYW0sXHJcblx0VGV4dEJsb2NrUGFyYW0sXHJcblx0Q29udGVudEJsb2NrLFxyXG5cdENvbnRlbnRCbG9ja1BhcmFtLFxyXG5cdE1lc3NhZ2UsXHJcblx0VG9vbFVuaW9uLFxyXG59IGZyb20gXCJAYW50aHJvcGljLWFpL3Nkay9yZXNvdXJjZXMvbWVzc2FnZXNcIjtcclxuaW1wb3J0IHsgU2ltcGxlQ29udmVyc2F0aW9uLCBFbmhhbmNlZE1lc3NhZ2VQYXJhbSB9IGZyb20gXCIuLi8uLi8uLi9zcmMvc2hhcmVkLWNvbnZlcnNhdGlvbi1wcm9jZXNzb3JcIjtcclxuaW1wb3J0IHsgbWFya2Rvd25Ub0h0bWwgfSBmcm9tIFwiLi4vdXRpbHMvbWFya2Rvd25cIjtcclxuXHJcbkBjdXN0b21FbGVtZW50KFwic2ltcGxlLWNvbnZlcnNhdGlvbi12aWV3XCIpXHJcbmV4cG9ydCBjbGFzcyBTaW1wbGVDb252ZXJzYXRpb25WaWV3IGV4dGVuZHMgTGl0RWxlbWVudCB7XHJcblx0QHByb3BlcnR5KHsgdHlwZTogQXJyYXkgfSkgY29udmVyc2F0aW9uczogU2ltcGxlQ29udmVyc2F0aW9uW10gPSBbXTtcclxuXHJcblx0Ly8gRGlzYWJsZSBzaGFkb3cgRE9NIHRvIHVzZSBnbG9iYWwgQ1NTXHJcblx0Y3JlYXRlUmVuZGVyUm9vdCgpIHtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBoYW5kbGVUb2dnbGUoXHJcblx0XHRlOiBFdmVudCxcclxuXHRcdG9wdGlvbnM6IHtcclxuXHRcdFx0dHlwZT86IFwiY29udGVudFwiIHwgXCJ3cml0ZVwiIHwgXCJjdXN0b21cIjtcclxuXHRcdFx0dGFyZ2V0U2VsZWN0b3I/OiBzdHJpbmc7XHJcblx0XHRcdHRvZ2dsZVNlbGVjdG9yPzogc3RyaW5nO1xyXG5cdFx0XHRjdXN0b21IYW5kbGVyPzogKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBpc0hpZGRlbjogYm9vbGVhbikgPT4gdm9pZDtcclxuXHRcdH0gPSB7fSxcclxuXHQpIHtcclxuXHRcdGNvbnN0IHsgdHlwZSA9IFwiY29udGVudFwiLCB0YXJnZXRTZWxlY3RvciwgdG9nZ2xlU2VsZWN0b3IsIGN1c3RvbUhhbmRsZXIgfSA9IG9wdGlvbnM7XHJcblx0XHRjb25zdCBjdXJyZW50RWxlbWVudCA9IGUuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHJcblx0XHRpZiAodHlwZSA9PT0gXCJ3cml0ZVwiKSB7XHJcblx0XHRcdGNvbnN0IGZ1bGxDb250ZW50ID0gY3VycmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZyBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0aWYgKGZ1bGxDb250ZW50KSB7XHJcblx0XHRcdFx0Y29uc3QgaXNFeHBhbmRlZCA9ICFmdWxsQ29udGVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIik7XHJcblx0XHRcdFx0aWYgKGlzRXhwYW5kZWQpIHtcclxuXHRcdFx0XHRcdGZ1bGxDb250ZW50LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0XHRcdFx0XHRjdXJyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRmdWxsQ29udGVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0XHRcdFx0Y3VycmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIERlZmF1bHQgY29udGVudCB0b2dnbGUgYmVoYXZpb3JcclxuXHRcdGNvbnN0IHRhcmdldCA9IHRhcmdldFNlbGVjdG9yXHJcblx0XHRcdD8gKGN1cnJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3IpIGFzIEhUTUxFbGVtZW50KVxyXG5cdFx0XHQ6IChjdXJyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcgYXMgSFRNTEVsZW1lbnQpO1xyXG5cdFx0Y29uc3QgdG9nZ2xlID0gdG9nZ2xlU2VsZWN0b3JcclxuXHRcdFx0PyAoY3VycmVudEVsZW1lbnQucXVlcnlTZWxlY3Rvcih0b2dnbGVTZWxlY3RvcikgYXMgSFRNTEVsZW1lbnQpXHJcblx0XHRcdDogKGN1cnJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzcGFuOmZpcnN0LWNoaWxkXCIpIGFzIEhUTUxFbGVtZW50KTtcclxuXHJcblx0XHRpZiAodGFyZ2V0KSB7XHJcblx0XHRcdGNvbnN0IGlzSGlkZGVuID0gdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImhpZGRlblwiKTtcclxuXHJcblx0XHRcdGlmIChjdXN0b21IYW5kbGVyKSB7XHJcblx0XHRcdFx0Y3VzdG9tSGFuZGxlcih0YXJnZXQsIGlzSGlkZGVuKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiLCAhaXNIaWRkZW4pO1xyXG5cdFx0XHRcdGlmICh0b2dnbGUpIHtcclxuXHRcdFx0XHRcdHRvZ2dsZS50ZXh0Q29udGVudCA9IGlzSGlkZGVuID8gXCJbLV1cIiA6IFwiWytdXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHRvZ2dsZUNvbnRlbnQoZTogRXZlbnQpIHtcclxuXHRcdHRoaXMuaGFuZGxlVG9nZ2xlKGUpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB0b2dnbGVXcml0ZUNvbnRlbnQoZTogRXZlbnQpIHtcclxuXHRcdHRoaXMuaGFuZGxlVG9nZ2xlKGUsIHsgdHlwZTogXCJ3cml0ZVwiIH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBmb3JtYXRDb250ZW50KGNvbnRlbnQ6IHN0cmluZyB8IENvbnRlbnRCbG9ja1BhcmFtW10sIHRvb2xSZXN1bHRzPzogUmVjb3JkPHN0cmluZywgYW55Pik6IFRlbXBsYXRlUmVzdWx0IHtcclxuXHRcdGlmICh0eXBlb2YgY29udGVudCA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5mb3JtYXRTdHJpbmdDb250ZW50KGNvbnRlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChBcnJheS5pc0FycmF5KGNvbnRlbnQpKSB7XHJcblx0XHRcdHJldHVybiBodG1sYFxyXG5cdFx0XHRcdCR7Y29udGVudC5tYXAoKGJsb2NrKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuZm9ybWF0U3RyaW5nQ29udGVudChibG9jay50ZXh0KTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoYmxvY2sudHlwZSA9PT0gXCJ0aGlua2luZ1wiKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHRoaW5raW5nQmxvY2sgPSBibG9jayBhcyBhbnk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBodG1sYFxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtdC00IG1iLTRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LWdyYXktNTAwIGl0YWxpY1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZW0+VGhpbmtpbmc8L2VtPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC1ncmF5LTQwMCBtdC0yIG1hcmtkb3duLWNvbnRlbnRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0JHt1bnNhZmVIVE1MKG1hcmtkb3duVG9IdG1sKHRoaW5raW5nQmxvY2sudGhpbmtpbmcgfHwgXCJcIikpfVxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdGA7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwidG9vbF9yZXN1bHRcIikge1xyXG5cdFx0XHRcdFx0XHQvLyBTa2lwIHN0YW5kYWxvbmUgdG9vbF9yZXN1bHQgYmxvY2tzIC0gdGhleSB3aWxsIGJlIHBhaXJlZCB3aXRoIHRvb2xfdXNlXHJcblx0XHRcdFx0XHRcdHJldHVybiBodG1sYGA7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwidG9vbF91c2VcIikge1xyXG5cdFx0XHRcdFx0XHRjb25zdCB0b29sVXNlID0gYmxvY2sgYXMgYW55O1xyXG5cdFx0XHRcdFx0XHRjb25zdCB0b29sUmVzdWx0ID0gdG9vbFJlc3VsdHM/Llt0b29sVXNlLmlkXTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChibG9jay5uYW1lID09PSBcIlRvZG9Xcml0ZVwiIHx8IGJsb2NrLm5hbWUgPT09IFwiRWRpdFwiIHx8IGJsb2NrLm5hbWUgPT09IFwiTXVsdGlFZGl0XCIpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5yZW5kZXJUb29sQ29udGFpbmVyKGJsb2NrLCB0b29sUmVzdWx0KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoYmxvY2submFtZSA9PT0gXCJXcml0ZVwiKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgY3VzdG9tQ29udGVudCA9IGh0bWxgXHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYmctdnMtYmctc2Vjb25kYXJ5IHAtNCB0ZXh0LXZzLXRleHQgaGlkZGVuXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdCR7dGhpcy5yZW5kZXJUb29sVXNlQ29udGVudChibG9jayl9XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXZcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3M9XCJiZy12cy1iZy1zZWNvbmRhcnkgbXgtNCBwLTQgdGV4dC12cy10ZXh0IGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLXZzLWJvcmRlciB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcblx0XHRcdFx0XHRcdFx0XHRcdEBjbGljaz0ke3RoaXMudG9nZ2xlV3JpdGVDb250ZW50fVxyXG5cdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQke3RoaXMucmVuZGVyV3JpdGVQcmV2aWV3KGJsb2NrKX1cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdGA7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGh0bWxgXHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibXQtNCBtYi00XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LXZzLXR5cGUgcHgtNCBicmVhay1hbGxcIj4ke3RoaXMuZ2V0VG9vbERpc3BsYXlOYW1lKGJsb2NrKX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0JHtjdXN0b21Db250ZW50fSAke3Rvb2xSZXN1bHQgPyB0aGlzLnJlbmRlclRvb2xSZXN1bHQodG9vbFJlc3VsdCwgYmxvY2spIDogXCJcIn1cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdGA7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMucmVuZGVyVG9vbENvbnRhaW5lcihibG9jaywgdG9vbFJlc3VsdCwge1xyXG5cdFx0XHRcdFx0XHRcdGlzQ29sbGFwc2libGU6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0aXNDb2xsYXBzZWQ6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0aXNDbGlja1RvRXhwYW5kOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiBodG1sYDxwcmUgY2xhc3M9XCJtYi00XCI+JHtKU09OLnN0cmluZ2lmeShibG9jaywgbnVsbCwgMil9PC9wcmU+YDtcclxuXHRcdFx0XHR9KX1cclxuXHRcdFx0YDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gaHRtbGA8cHJlPiR7SlNPTi5zdHJpbmdpZnkoY29udGVudCwgbnVsbCwgMil9PC9wcmU+YDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZm9ybWF0U3RyaW5nQ29udGVudChjb250ZW50OiBzdHJpbmcpOiBUZW1wbGF0ZVJlc3VsdCB7XHJcblx0XHQvLyBDaGVjayBmb3Igc3lzdGVtIHJlbWluZGVyIGJsb2NrcyAoaGFuZGxpbmcgYm90aCByYXcgYW5kIEhUTUwtZXNjYXBlZCBkZWxpbWl0ZXJzKVxyXG5cdFx0Y29uc3Qgc3lzdGVtUmVtaW5kZXJSZWdleEVzY2FwZWQgPSAvJmx0O3N5c3RlbS1yZW1pbmRlciZndDsoW1xcc1xcU10qPykmbHQ7XFwvc3lzdGVtLXJlbWluZGVyJmd0Oy9nO1xyXG5cdFx0Y29uc3Qgc3lzdGVtUmVtaW5kZXJSZWdleFJhdyA9IC88c3lzdGVtLXJlbWluZGVyPihbXFxzXFxTXSo/KTxcXC9zeXN0ZW0tcmVtaW5kZXI+L2c7XHJcblx0XHRjb25zdCBzeXN0ZW1SZW1pbmRlcnM6IHN0cmluZ1tdID0gW107XHJcblx0XHRsZXQgbWF0Y2g7XHJcblxyXG5cdFx0Ly8gRXh0cmFjdCBhbGwgc3lzdGVtIHJlbWluZGVyIGJsb2NrcyAoZXNjYXBlZClcclxuXHRcdHdoaWxlICgobWF0Y2ggPSBzeXN0ZW1SZW1pbmRlclJlZ2V4RXNjYXBlZC5leGVjKGNvbnRlbnQpKSAhPT0gbnVsbCkge1xyXG5cdFx0XHRzeXN0ZW1SZW1pbmRlcnMucHVzaChtYXRjaFsxXS50cmltKCkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEV4dHJhY3QgYWxsIHN5c3RlbSByZW1pbmRlciBibG9ja3MgKHJhdylcclxuXHRcdHdoaWxlICgobWF0Y2ggPSBzeXN0ZW1SZW1pbmRlclJlZ2V4UmF3LmV4ZWMoY29udGVudCkpICE9PSBudWxsKSB7XHJcblx0XHRcdHN5c3RlbVJlbWluZGVycy5wdXNoKG1hdGNoWzFdLnRyaW0oKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIHN5c3RlbSByZW1pbmRlciBibG9ja3MgZnJvbSBtYWluIGNvbnRlbnRcclxuXHRcdGxldCBtYWluQ29udGVudCA9IGNvbnRlbnQucmVwbGFjZShzeXN0ZW1SZW1pbmRlclJlZ2V4RXNjYXBlZCwgXCJcIikucmVwbGFjZShzeXN0ZW1SZW1pbmRlclJlZ2V4UmF3LCBcIlwiKS50cmltKCk7XHJcblxyXG5cdFx0cmV0dXJuIGh0bWxgXHJcblx0XHRcdCR7bWFpbkNvbnRlbnQgPyBodG1sYDxkaXYgY2xhc3M9XCJtdC00IG1hcmtkb3duLWNvbnRlbnRcIj4ke3Vuc2FmZUhUTUwobWFya2Rvd25Ub0h0bWwobWFpbkNvbnRlbnQpKX08L2Rpdj5gIDogXCJcIn1cclxuXHRcdFx0JHtzeXN0ZW1SZW1pbmRlcnMubGVuZ3RoID4gMFxyXG5cdFx0XHRcdD8gdGhpcy5yZW5kZXJDb2xsYXBzaWJsZVNlY3Rpb24oXHJcblx0XHRcdFx0XHRcdFwiU3lzdGVtIFJlbWluZGVyXCIsXHJcblx0XHRcdFx0XHRcdGh0bWxgPGRpdiBjbGFzcz1cInRleHQtdnMtbXV0ZWRcIj5cclxuXHRcdFx0XHRcdFx0XHQke3N5c3RlbVJlbWluZGVycy5tYXAoXHJcblx0XHRcdFx0XHRcdFx0XHQocmVtaW5kZXIsIGluZGV4KSA9PiBodG1sYFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWItNFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCR7c3lzdGVtUmVtaW5kZXJzLmxlbmd0aCA+IDFcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdD8gaHRtbGA8ZGl2IGNsYXNzPVwidGV4dC12cy1mdW5jdGlvbiBmb250LWJvbGQgbWItMlwiPlJlbWluZGVyICR7aW5kZXggKyAxfTo8L2Rpdj5gXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ6IFwiXCJ9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1hcmtkb3duLWNvbnRlbnRcIj4ke3Vuc2FmZUhUTUwobWFya2Rvd25Ub0h0bWwocmVtaW5kZXIpKX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRgLFxyXG5cdFx0XHRcdFx0XHRcdCl9XHJcblx0XHRcdFx0XHRcdDwvZGl2PmAsXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHR0aXRsZUNsYXNzZXM6IFwidGV4dC12cy1tdXRlZFwiLFxyXG5cdFx0XHRcdFx0XHRcdGNvbnRhaW5lckNsYXNzZXM6IFwibXQtNCBtYi00XCIsXHJcblx0XHRcdFx0XHRcdFx0Y291bnQ6IHN5c3RlbVJlbWluZGVycy5sZW5ndGggPiAxID8gc3lzdGVtUmVtaW5kZXJzLmxlbmd0aCA6IHVuZGVmaW5lZCxcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHQ6IFwiXCJ9XHJcblx0XHRgO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBmb3JtYXRTeXN0ZW0oc3lzdGVtOiBzdHJpbmcgfCBUZXh0QmxvY2tQYXJhbVtdIHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcclxuXHRcdGlmICghc3lzdGVtKSByZXR1cm4gXCJcIjtcclxuXHJcblx0XHRpZiAodHlwZW9mIHN5c3RlbSA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRyZXR1cm4gbWFya2Rvd25Ub0h0bWwoc3lzdGVtKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoQXJyYXkuaXNBcnJheShzeXN0ZW0pKSB7XHJcblx0XHRcdGNvbnN0IHRleHRDb250ZW50ID0gc3lzdGVtXHJcblx0XHRcdFx0Lm1hcCgoYmxvY2spID0+IHtcclxuXHRcdFx0XHRcdGlmIChibG9jay50eXBlID09PSBcInRleHRcIikge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gYmxvY2sudGV4dDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShibG9jaywgbnVsbCwgMik7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuam9pbihcIlxcblwiKTtcclxuXHRcdFx0cmV0dXJuIG1hcmtkb3duVG9IdG1sKHRleHRDb250ZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoc3lzdGVtLCBudWxsLCAyKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZm9ybWF0UmVzcG9uc2VDb250ZW50KHJlc3BvbnNlOiBNZXNzYWdlKTogVGVtcGxhdGVSZXN1bHQge1xyXG5cdFx0aWYgKCFyZXNwb25zZSkgcmV0dXJuIGh0bWxgYDtcclxuXHJcblx0XHRpZiAocmVzcG9uc2UuY29udGVudCAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlLmNvbnRlbnQpKSB7XHJcblx0XHRcdHJldHVybiBodG1sYFxyXG5cdFx0XHRcdCR7cmVzcG9uc2UuY29udGVudC5tYXAoKGJsb2NrKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cIm10LTQgbWFya2Rvd24tY29udGVudFwiPiR7dW5zYWZlSFRNTChtYXJrZG93blRvSHRtbChibG9jay50ZXh0KSl9PC9kaXY+YDtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoYmxvY2sudHlwZSA9PT0gXCJ0aGlua2luZ1wiKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHRoaW5raW5nQmxvY2sgPSBibG9jayBhcyBhbnk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBodG1sYFxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtdC00IG1iLTRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LWdyYXktNTAwIGl0YWxpY1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZW0+VGhpbmtpbmc8L2VtPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC1ncmF5LTQwMCBtdC0yIG1hcmtkb3duLWNvbnRlbnRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0JHt1bnNhZmVIVE1MKG1hcmtkb3duVG9IdG1sKHRoaW5raW5nQmxvY2sudGhpbmtpbmcgfHwgXCJcIikpfVxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdGA7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwidG9vbF91c2VcIikge1xyXG5cdFx0XHRcdFx0XHRpZiAoYmxvY2submFtZSA9PT0gXCJUb2RvV3JpdGVcIikge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBodG1sYFxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm10LTQgbWItNFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC12cy10eXBlIHB4LTQgYnJlYWstYWxsXCI+JHt0aGlzLmdldFRvb2xEaXNwbGF5TmFtZShibG9jayl9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJiZy12cy1iZy1zZWNvbmRhcnkgbXgtNCBwLTQgdGV4dC12cy10ZXh0XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JHt0aGlzLnJlbmRlclRvb2xVc2VDb250ZW50KGJsb2NrKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRgO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHJldHVybiBodG1sYFxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtdC00IG1iLTRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXZcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3M9XCJ0ZXh0LXZzLXR5cGUgcHgtNCBweS0yIGJyZWFrLWFsbCBjdXJzb3ItcG9pbnRlciBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0QGNsaWNrPSR7dGhpcy50b2dnbGVDb250ZW50fVxyXG5cdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cIm1yLTJcIj5bK108L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHRcdCR7dGhpcy5nZXRUb29sRGlzcGxheU5hbWUoYmxvY2spfVxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYmctdnMtYmctc2Vjb25kYXJ5IG14LTQgcC00IHRleHQtdnMtdGV4dCBoaWRkZW5cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0JHt0aGlzLnJlbmRlclRvb2xVc2VDb250ZW50KGJsb2NrKX1cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRgO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuIGh0bWxgPHByZSBjbGFzcz1cIm1iLTRcIj4ke0pTT04uc3RyaW5naWZ5KGJsb2NrLCBudWxsLCAyKX08L3ByZT5gO1xyXG5cdFx0XHRcdH0pfVxyXG5cdFx0XHRgO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBodG1sYDxwcmU+JHtKU09OLnN0cmluZ2lmeShyZXNwb25zZSwgbnVsbCwgMil9PC9wcmU+YDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZm9ybWF0U2luZ2xlUGFyYW0odG9vbE5hbWU6IHN0cmluZywgcGFyYW1WYWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBwYXJhbU5hbWU6IHN0cmluZyA9IFwiXCIpOiBUZW1wbGF0ZVJlc3VsdCB7XHJcblx0XHRyZXR1cm4gcGFyYW1WYWx1ZVxyXG5cdFx0XHQ/IGh0bWxgJHt0b29sTmFtZX0oPHNwYW4gY2xhc3M9XCJ0ZXh0LXZzLXRleHRcIj4ke3RoaXMudW5lc2NhcGVIdG1sKHBhcmFtVmFsdWUpfTwvc3Bhbj4pYFxyXG5cdFx0XHQ6IGh0bWxgJHt0b29sTmFtZX1gO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBmb3JtYXRNdWx0aVBhcmFtKHRvb2xOYW1lOiBzdHJpbmcsIHBhcmFtczogc3RyaW5nW10pOiBUZW1wbGF0ZVJlc3VsdCB7XHJcblx0XHRyZXR1cm4gcGFyYW1zLmxlbmd0aCA+IDBcclxuXHRcdFx0PyBodG1sYCR7dG9vbE5hbWV9KDxzcGFuIGNsYXNzPVwidGV4dC12cy10ZXh0XCI+JHtwYXJhbXMuam9pbihcIiwgXCIpfTwvc3Bhbj4pYFxyXG5cdFx0XHQ6IGh0bWxgJHt0b29sTmFtZX1gO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB1bmVzY2FwZUh0bWwoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGRpdi5pbm5lckhUTUwgPSBzdHI7XHJcblx0XHRyZXR1cm4gZGl2LnRleHRDb250ZW50IHx8IGRpdi5pbm5lclRleHQgfHwgXCJcIjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgd3JhcEluU2Nyb2xsYWJsZShjb250ZW50OiBUZW1wbGF0ZVJlc3VsdCB8IHN0cmluZywgdXNlUHJlRm9ybWF0dGluZzogYm9vbGVhbiA9IHRydWUpOiBUZW1wbGF0ZVJlc3VsdCB7XHJcblx0XHRpZiAodXNlUHJlRm9ybWF0dGluZyAmJiB0eXBlb2YgY29udGVudCA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRyZXR1cm4gaHRtbGBcclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwib3ZlcmZsb3cteC1hdXRvXCI+XHJcblx0XHRcdFx0XHQ8cHJlIGNsYXNzPVwidGV4dC12cy10ZXh0IG0tMFwiIHN0eWxlPVwid2hpdGUtc3BhY2U6IHByZTsgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcIj4ke2NvbnRlbnR9PC9wcmU+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdGA7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaHRtbGAgPGRpdiBjbGFzcz1cIm92ZXJmbG93LXgtYXV0b1wiPiR7Y29udGVudH08L2Rpdj4gYDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVuZGVyQ29sbGFwc2libGVTZWN0aW9uKFxyXG5cdFx0dGl0bGU6IHN0cmluZyxcclxuXHRcdGNvbnRlbnQ6IFRlbXBsYXRlUmVzdWx0LFxyXG5cdFx0b3B0aW9uczoge1xyXG5cdFx0XHRpc0V4cGFuZGVkPzogYm9vbGVhbjtcclxuXHRcdFx0dGl0bGVDbGFzc2VzPzogc3RyaW5nO1xyXG5cdFx0XHRjb250YWluZXJDbGFzc2VzPzogc3RyaW5nO1xyXG5cdFx0XHRjb3VudD86IG51bWJlcjtcclxuXHRcdH0gPSB7fSxcclxuXHQpOiBUZW1wbGF0ZVJlc3VsdCB7XHJcblx0XHRjb25zdCB7IGlzRXhwYW5kZWQgPSBmYWxzZSwgdGl0bGVDbGFzc2VzID0gXCJcIiwgY29udGFpbmVyQ2xhc3NlcyA9IFwiXCIsIGNvdW50IH0gPSBvcHRpb25zO1xyXG5cdFx0Y29uc3QgZXhwYW5kZWRDbGFzcyA9IGlzRXhwYW5kZWQgPyBcIlwiIDogXCJoaWRkZW5cIjtcclxuXHRcdGNvbnN0IHRvZ2dsZVN5bWJvbCA9IGlzRXhwYW5kZWQgPyBcIlstXVwiIDogXCJbK11cIjtcclxuXHRcdGNvbnN0IGRpc3BsYXlUaXRsZSA9IGNvdW50ICE9PSB1bmRlZmluZWQgPyBgJHt0aXRsZX0gKCR7Y291bnR9KWAgOiB0aXRsZTtcclxuXHJcblx0XHRyZXR1cm4gaHRtbGBcclxuXHRcdFx0PGRpdiBjbGFzcz1cIiR7Y29udGFpbmVyQ2xhc3Nlc31cIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY3Vyc29yLXBvaW50ZXIgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9ycyAke3RpdGxlQ2xhc3Nlc31cIiBAY2xpY2s9JHt0aGlzLnRvZ2dsZUNvbnRlbnR9PlxyXG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJtci0yXCI+JHt0b2dnbGVTeW1ib2x9PC9zcGFuPlxyXG5cdFx0XHRcdFx0PHNwYW4+JHtkaXNwbGF5VGl0bGV9PC9zcGFuPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCIke2V4cGFuZGVkQ2xhc3N9IG10LTRcIj4ke2NvbnRlbnR9PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0YDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0VG9vbERpc3BsYXlOYW1lKHRvb2xVc2U6IGFueSwgdG9vbFJlc3VsdD86IGFueSk6IFRlbXBsYXRlUmVzdWx0IHtcclxuXHRcdGNvbnN0IHRvb2xOYW1lID0gdG9vbFVzZS5uYW1lO1xyXG5cdFx0Y29uc3QgaW5wdXQgPSB0b29sVXNlLmlucHV0O1xyXG5cclxuXHRcdHN3aXRjaCAodG9vbE5hbWUpIHtcclxuXHRcdFx0Y2FzZSBcIlJlYWRcIjpcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5mb3JtYXRTaW5nbGVQYXJhbSh0b29sTmFtZSwgaW5wdXQ/LmZpbGVfcGF0aCk7XHJcblx0XHRcdGNhc2UgXCJCYXNoXCI6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZm9ybWF0U2luZ2xlUGFyYW0odG9vbE5hbWUsIGlucHV0Py5jb21tYW5kKTtcclxuXHRcdFx0Y2FzZSBcIldyaXRlXCI6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZm9ybWF0U2luZ2xlUGFyYW0odG9vbE5hbWUsIGlucHV0Py5maWxlX3BhdGgpO1xyXG5cdFx0XHRjYXNlIFwiR2xvYlwiOlxyXG5cdFx0XHRcdGlmIChpbnB1dD8ucGF0dGVybikge1xyXG5cdFx0XHRcdFx0Y29uc3QgcGFyYW1zID0gW3RoaXMudW5lc2NhcGVIdG1sKGlucHV0LnBhdHRlcm4pXTtcclxuXHRcdFx0XHRcdGlmIChpbnB1dD8ucGF0aCkgcGFyYW1zLnB1c2godGhpcy51bmVzY2FwZUh0bWwoaW5wdXQucGF0aCkpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuZm9ybWF0TXVsdGlQYXJhbSh0b29sTmFtZSwgcGFyYW1zKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGh0bWxgJHt0b29sTmFtZX1gO1xyXG5cdFx0XHRjYXNlIFwiR3JlcFwiOlxyXG5cdFx0XHRcdGlmIChpbnB1dD8ucGF0dGVybikge1xyXG5cdFx0XHRcdFx0Y29uc3QgcGFyYW1zID0gW3RoaXMudW5lc2NhcGVIdG1sKGlucHV0LnBhdHRlcm4pXTtcclxuXHRcdFx0XHRcdGlmIChpbnB1dD8uaW5jbHVkZSkgcGFyYW1zLnB1c2godGhpcy51bmVzY2FwZUh0bWwoaW5wdXQuaW5jbHVkZSkpO1xyXG5cdFx0XHRcdFx0aWYgKGlucHV0Py5wYXRoKSBwYXJhbXMucHVzaCh0aGlzLnVuZXNjYXBlSHRtbChpbnB1dC5wYXRoKSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5mb3JtYXRNdWx0aVBhcmFtKHRvb2xOYW1lLCBwYXJhbXMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gaHRtbGAke3Rvb2xOYW1lfWA7XHJcblx0XHRcdGNhc2UgXCJMU1wiOlxyXG5cdFx0XHRcdGlmIChpbnB1dD8ucGF0aCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgcGFyYW1zID0gW3RoaXMudW5lc2NhcGVIdG1sKGlucHV0LnBhdGgpXTtcclxuXHRcdFx0XHRcdGlmIChpbnB1dD8uaWdub3JlKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGlnbm9yZVN0ciA9IGlucHV0Lmlnbm9yZS5tYXAoKHA6IHN0cmluZykgPT4gdGhpcy51bmVzY2FwZUh0bWwocCkpLmpvaW4oXCIsIFwiKTtcclxuXHRcdFx0XHRcdFx0cGFyYW1zLnB1c2goYGlnbm9yZTogJHtpZ25vcmVTdHJ9YCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5mb3JtYXRNdWx0aVBhcmFtKHRvb2xOYW1lLCBwYXJhbXMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gaHRtbGAke3Rvb2xOYW1lfWA7XHJcblx0XHRcdGNhc2UgXCJFZGl0XCI6XHJcblx0XHRcdFx0cmV0dXJuIGlucHV0Py5maWxlX3BhdGhcclxuXHRcdFx0XHRcdD8gdGhpcy5mb3JtYXRTaW5nbGVQYXJhbSh0b29sTmFtZSwgdGhpcy51bmVzY2FwZUh0bWwoaW5wdXQuZmlsZV9wYXRoKS5zcGxpdChcIi9cIikucG9wKCkpXHJcblx0XHRcdFx0XHQ6IGh0bWxgJHt0b29sTmFtZX1gO1xyXG5cdFx0XHRjYXNlIFwiTXVsdGlFZGl0XCI6XHJcblx0XHRcdFx0aWYgKGlucHV0Py5maWxlX3BhdGgpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGZpbGVOYW1lID0gdGhpcy51bmVzY2FwZUh0bWwoaW5wdXQuZmlsZV9wYXRoKS5zcGxpdChcIi9cIikucG9wKCkgfHwgaW5wdXQuZmlsZV9wYXRoO1xyXG5cdFx0XHRcdFx0Y29uc3QgZWRpdENvdW50ID0gaW5wdXQ/LmVkaXRzID8gaW5wdXQuZWRpdHMubGVuZ3RoIDogMDtcclxuXHRcdFx0XHRcdHJldHVybiB0aGlzLmZvcm1hdE11bHRpUGFyYW0odG9vbE5hbWUsIFtmaWxlTmFtZSwgYCR7ZWRpdENvdW50fSBlZGl0c2BdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGh0bWxgJHt0b29sTmFtZX1gO1xyXG5cdFx0XHRjYXNlIFwiTm90ZWJvb2tSZWFkXCI6XHJcblx0XHRcdFx0cmV0dXJuIGlucHV0Py5ub3RlYm9va19wYXRoXHJcblx0XHRcdFx0XHQ/IHRoaXMuZm9ybWF0U2luZ2xlUGFyYW0odG9vbE5hbWUsIHRoaXMudW5lc2NhcGVIdG1sKGlucHV0Lm5vdGVib29rX3BhdGgpLnNwbGl0KFwiL1wiKS5wb3AoKSlcclxuXHRcdFx0XHRcdDogaHRtbGAke3Rvb2xOYW1lfWA7XHJcblx0XHRcdGNhc2UgXCJOb3RlYm9va0VkaXRcIjpcclxuXHRcdFx0XHRpZiAoaW5wdXQ/Lm5vdGVib29rX3BhdGggJiYgaW5wdXQ/LmNlbGxfbnVtYmVyICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGZpbGVOYW1lID0gdGhpcy51bmVzY2FwZUh0bWwoaW5wdXQubm90ZWJvb2tfcGF0aCkuc3BsaXQoXCIvXCIpLnBvcCgpO1xyXG5cdFx0XHRcdFx0Y29uc3QgY2VsbE51bSA9IGlucHV0LmNlbGxfbnVtYmVyO1xyXG5cdFx0XHRcdFx0Y29uc3QgbW9kZSA9IGlucHV0Py5lZGl0X21vZGUgfHwgXCJyZXBsYWNlXCI7XHJcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5mb3JtYXRNdWx0aVBhcmFtKHRvb2xOYW1lLCBbZmlsZU5hbWUsIGBjZWxsICR7Y2VsbE51bX1gLCBtb2RlXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBodG1sYCR7dG9vbE5hbWV9YDtcclxuXHRcdFx0Y2FzZSBcIldlYkZldGNoXCI6XHJcblx0XHRcdFx0cmV0dXJuIGlucHV0Py51cmwgPyB0aGlzLmZvcm1hdFNpbmdsZVBhcmFtKHRvb2xOYW1lLCBpbnB1dC51cmwpIDogaHRtbGAke3Rvb2xOYW1lfWA7XHJcblx0XHRcdGNhc2UgXCJXZWJTZWFyY2hcIjpcclxuXHRcdFx0XHRyZXR1cm4gaW5wdXQ/LnF1ZXJ5ID8gdGhpcy5mb3JtYXRTaW5nbGVQYXJhbSh0b29sTmFtZSwgaW5wdXQucXVlcnkpIDogaHRtbGAke3Rvb2xOYW1lfWA7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIGh0bWxgJHt0b29sTmFtZX1gO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJUb29sVXNlQ29udGVudCh0b29sVXNlOiBhbnkpOiBUZW1wbGF0ZVJlc3VsdCB7XHJcblx0XHRjb25zdCB0b29sTmFtZSA9IHRvb2xVc2UubmFtZTtcclxuXHRcdGNvbnN0IGlucHV0ID0gdG9vbFVzZS5pbnB1dDtcclxuXHJcblx0XHRpZiAodG9vbE5hbWUgPT09IFwiVG9kb1dyaXRlXCIgJiYgaW5wdXQ/LnRvZG9zKSB7XHJcblx0XHRcdGNvbnN0IHRvZG9zID0gaW5wdXQudG9kb3M7XHJcblxyXG5cdFx0XHRyZXR1cm4gdGhpcy53cmFwSW5TY3JvbGxhYmxlKFxyXG5cdFx0XHRcdGh0bWxgJHt0b2Rvcy5tYXAoKHRvZG86IGFueSkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc3RhdHVzQ2xhc3MgPVxyXG5cdFx0XHRcdFx0XHR0b2RvLnN0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIlxyXG5cdFx0XHRcdFx0XHRcdD8gXCJsaW5lLXRocm91Z2ggdGV4dC12cy10ZXh0XCJcclxuXHRcdFx0XHRcdFx0XHQ6IHRvZG8uc3RhdHVzID09PSBcImluX3Byb2dyZXNzXCJcclxuXHRcdFx0XHRcdFx0XHRcdD8gXCJ0ZXh0LWdyZWVuLTQwMFwiXHJcblx0XHRcdFx0XHRcdFx0XHQ6IFwidGV4dC12cy1tdXRlZFwiO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBodG1sYFxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwib3ZlcmZsb3ctaGlkZGVuIHdoaXRlc3BhY2Utbm93cmFwIHRleHQtZWxsaXBzaXMgJHtzdGF0dXNDbGFzc31cIj5cdTIwMjIgJHt0b2RvLmNvbnRlbnR9PC9kaXY+XHJcblx0XHRcdFx0XHRgO1xyXG5cdFx0XHRcdH0pfWAsXHJcblx0XHRcdFx0ZmFsc2UsXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRvb2xOYW1lID09PSBcIk5vdGVib29rRWRpdFwiICYmIGlucHV0Py5uZXdfc291cmNlKSB7XHJcblx0XHRcdGNvbnN0IGNvbnRlbnQgPSBpbnB1dC5uZXdfc291cmNlO1xyXG5cclxuXHRcdFx0cmV0dXJuIHRoaXMud3JhcEluU2Nyb2xsYWJsZShjb250ZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodG9vbE5hbWUgPT09IFwiV3JpdGVcIiAmJiBpbnB1dD8uY29udGVudCkge1xyXG5cdFx0XHRjb25zdCBjb250ZW50ID0gaW5wdXQuY29udGVudDtcclxuXHJcblx0XHRcdHJldHVybiB0aGlzLndyYXBJblNjcm9sbGFibGUoY29udGVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRvb2xOYW1lID09PSBcIk11bHRpRWRpdFwiICYmIGlucHV0Py5lZGl0cykge1xyXG5cdFx0XHRjb25zdCBlZGl0cyA9IGlucHV0LmVkaXRzO1xyXG5cclxuXHRcdFx0cmV0dXJuIHRoaXMud3JhcEluU2Nyb2xsYWJsZShcclxuXHRcdFx0XHRodG1sYCR7ZWRpdHMubWFwKChlZGl0OiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG9sZFN0ciA9IGVkaXQub2xkX3N0cmluZztcclxuXHRcdFx0XHRcdGNvbnN0IG5ld1N0ciA9IGVkaXQubmV3X3N0cmluZztcclxuXHJcblx0XHRcdFx0XHRjb25zdCBkaWZmTGluZXMgPSB0aGlzLnJlbmRlckRpZmYob2xkU3RyLCBuZXdTdHIpO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBodG1sYFxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWItNFwiPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LXZzLW11dGVkIG1iLTJcIj5FZGl0ICR7aW5kZXggKyAxfTo8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2PiR7ZGlmZkxpbmVzfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdGA7XHJcblx0XHRcdFx0fSl9YCxcclxuXHRcdFx0XHRmYWxzZSxcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodG9vbE5hbWUgPT09IFwiRWRpdFwiICYmIGlucHV0Py5vbGRfc3RyaW5nICYmIGlucHV0Py5uZXdfc3RyaW5nKSB7XHJcblx0XHRcdGNvbnN0IG9sZFN0ciA9IGlucHV0Lm9sZF9zdHJpbmc7XHJcblx0XHRcdGNvbnN0IG5ld1N0ciA9IGlucHV0Lm5ld19zdHJpbmc7XHJcblxyXG5cdFx0XHRjb25zdCBkaWZmTGluZXMgPSB0aGlzLnJlbmRlckRpZmYob2xkU3RyLCBuZXdTdHIpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHRoaXMud3JhcEluU2Nyb2xsYWJsZShodG1sYCR7ZGlmZkxpbmVzfWAsIGZhbHNlKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodG9vbE5hbWUgPT09IFwiV2ViRmV0Y2hcIiAmJiBpbnB1dD8udXJsICYmIGlucHV0Py5wcm9tcHQpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMud3JhcEluU2Nyb2xsYWJsZShcclxuXHRcdFx0XHRodG1sYFxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRleHQtdnMtbXV0ZWQgbWItMVwiPlVSTDo8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRleHQtdnMtdGV4dFwiPiR7aW5wdXQudXJsfTwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8ZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC12cy1tdXRlZCBtYi0xXCI+UHJvbXB0OjwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC12cy10ZXh0XCI+JHtpbnB1dC5wcm9tcHR9PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRgLFxyXG5cdFx0XHRcdGZhbHNlLFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0b29sTmFtZSA9PT0gXCJXZWJTZWFyY2hcIiAmJiBpbnB1dD8ucXVlcnkpIHtcclxuXHRcdFx0Y29uc3QgcGFyYW1zID0gW107XHJcblx0XHRcdHBhcmFtcy5wdXNoKGh0bWxgXHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LXZzLW11dGVkIG1iLTFcIj5RdWVyeTo8L2Rpdj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LXZzLXRleHRcIj4ke2lucHV0LnF1ZXJ5fTwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRgKTtcclxuXHJcblx0XHRcdGlmIChpbnB1dD8uYWxsb3dlZF9kb21haW5zKSB7XHJcblx0XHRcdFx0cGFyYW1zLnB1c2goaHRtbGBcclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LXZzLW11dGVkIG1iLTFcIj5BbGxvd2VkIERvbWFpbnM6PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LXZzLXRleHRcIj4ke2lucHV0LmFsbG93ZWRfZG9tYWlucy5qb2luKFwiLCBcIil9PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGlucHV0Py5ibG9ja2VkX2RvbWFpbnMpIHtcclxuXHRcdFx0XHRwYXJhbXMucHVzaChodG1sYFxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRleHQtdnMtbXV0ZWQgbWItMVwiPkJsb2NrZWQgRG9tYWluczo8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRleHQtdnMtdGV4dFwiPiR7aW5wdXQuYmxvY2tlZF9kb21haW5zLmpvaW4oXCIsIFwiKX08L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdGApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdGhpcy53cmFwSW5TY3JvbGxhYmxlKGh0bWxgJHtwYXJhbXN9YCwgZmFsc2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIERlZmF1bHQ6IHNob3cgSlNPTiBwYXJhbWV0ZXJzXHJcblx0XHRyZXR1cm4gdGhpcy53cmFwSW5TY3JvbGxhYmxlKEpTT04uc3RyaW5naWZ5KGlucHV0LCBudWxsLCAyKSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlclRvb2xSZXN1bHQodG9vbFJlc3VsdDogYW55LCB0b29sVXNlPzogYW55KTogVGVtcGxhdGVSZXN1bHQge1xyXG5cdFx0cmV0dXJuIGh0bWxgXHJcblx0XHRcdDxkaXYgY2xhc3M9XCJtYi00XCI+XHJcblx0XHRcdFx0PGRpdlxyXG5cdFx0XHRcdFx0Y2xhc3M9XCJ0ZXh0LXZzLW11dGVkIHB4LTQgcGItMCBjdXJzb3ItcG9pbnRlciBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCJcclxuXHRcdFx0XHRcdEBjbGljaz0ke3RoaXMudG9nZ2xlQ29udGVudH1cclxuXHRcdFx0XHQ+XHJcblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cIm1yLTJcIj5bK108L3NwYW4+XHJcblx0XHRcdFx0XHRUb29sIFJlc3VsdCAke3Rvb2xSZXN1bHQ/LmlzX2Vycm9yID8gXCJcdTI3NENcIiA6IFwiXHUyNzA1XCJ9XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImJnLXZzLWJnLXNlY29uZGFyeSBteC00IHAtNCB0ZXh0LXZzLXRleHQgaGlkZGVuIG92ZXJmbG93LXgtYXV0b1wiPlxyXG5cdFx0XHRcdFx0PHByZSBjbGFzcz1cIndoaXRlc3BhY2UtcHJlIG92ZXJmbG93LXgtYXV0b1wiIHN0eWxlPVwid2hpdGUtc3BhY2U6IHByZTsgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcIj5cclxuJHt0eXBlb2YgdG9vbFJlc3VsdC5jb250ZW50ID09PSBcInN0cmluZ1wiID8gdG9vbFJlc3VsdC5jb250ZW50IDogSlNPTi5zdHJpbmdpZnkodG9vbFJlc3VsdC5jb250ZW50LCBudWxsLCAyKX08L3ByZVxyXG5cdFx0XHRcdFx0PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdCR7dG9vbFVzZVxyXG5cdFx0XHRcdFx0PyBodG1sYFxyXG5cdFx0XHRcdFx0XHRcdDxkaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzPVwidGV4dC12cy1tdXRlZCBweC00IGN1cnNvci1wb2ludGVyIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRAY2xpY2s9JHt0aGlzLnRvZ2dsZUNvbnRlbnR9XHJcblx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwibXItMlwiPlsrXTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0UmF3IFRvb2wgQ2FsbFxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYmctdnMtYmctc2Vjb25kYXJ5IG14LTQgcC00IHRleHQtdnMtdGV4dCBoaWRkZW5cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0JHt0aGlzLndyYXBJblNjcm9sbGFibGUoSlNPTi5zdHJpbmdpZnkodG9vbFVzZSwgbnVsbCwgMikpfVxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdGBcclxuXHRcdFx0XHRcdDogXCJcIn1cclxuXHRcdFx0PC9kaXY+XHJcblx0XHRgO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJUb29sQ29udGFpbmVyKFxyXG5cdFx0dG9vbFVzZTogYW55LFxyXG5cdFx0dG9vbFJlc3VsdD86IGFueSxcclxuXHRcdG9wdGlvbnM6IHtcclxuXHRcdFx0aXNDb2xsYXBzaWJsZT86IGJvb2xlYW47XHJcblx0XHRcdGlzQ29sbGFwc2VkPzogYm9vbGVhbjtcclxuXHRcdFx0aXNDbGlja1RvRXhwYW5kPzogYm9vbGVhbjtcclxuXHRcdFx0Y3VzdG9tQ29udGVudD86IFRlbXBsYXRlUmVzdWx0O1xyXG5cdFx0fSA9IHt9LFxyXG5cdCk6IFRlbXBsYXRlUmVzdWx0IHtcclxuXHRcdGNvbnN0IHsgaXNDb2xsYXBzaWJsZSA9IGZhbHNlLCBpc0NvbGxhcHNlZCA9IGZhbHNlLCBpc0NsaWNrVG9FeHBhbmQgPSBmYWxzZSwgY3VzdG9tQ29udGVudCB9ID0gb3B0aW9ucztcclxuXHJcblx0XHRjb25zdCBjb250ZW50RGl2ID0gY3VzdG9tQ29udGVudCB8fCBodG1sYCR7dGhpcy5yZW5kZXJUb29sVXNlQ29udGVudCh0b29sVXNlKX1gO1xyXG5cdFx0Y29uc3QgaGVhZGVyQ2xhc3NlcyA9IGlzQ2xpY2tUb0V4cGFuZFxyXG5cdFx0XHQ/IFwidGV4dC12cy10eXBlIHB4LTQgYnJlYWstYWxsIGN1cnNvci1wb2ludGVyIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG5cdFx0XHQ6IFwidGV4dC12cy10eXBlIHB4LTQgYnJlYWstYWxsXCI7XHJcblx0XHRjb25zdCBjb250ZW50Q2xhc3NlcyA9IGlzQ29sbGFwc2VkXHJcblx0XHRcdD8gXCJiZy12cy1iZy1zZWNvbmRhcnkgbXgtNCBwLTQgdGV4dC12cy10ZXh0IGhpZGRlblwiXHJcblx0XHRcdDogXCJiZy12cy1iZy1zZWNvbmRhcnkgbXgtNCBwLTQgdGV4dC12cy10ZXh0XCI7XHJcblxyXG5cdFx0cmV0dXJuIGh0bWxgXHJcblx0XHRcdDxkaXYgY2xhc3M9XCJtdC00IG1iLTRcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiJHtoZWFkZXJDbGFzc2VzfVwiIEBjbGljaz0ke2lzQ2xpY2tUb0V4cGFuZCA/IHRoaXMudG9nZ2xlQ29udGVudCA6IHVuZGVmaW5lZH0+XHJcblx0XHRcdFx0XHQke2lzQ29sbGFwc2libGUgPyBodG1sYDxzcGFuIGNsYXNzPVwibXItMlwiPlske2lzQ29sbGFwc2VkID8gXCIrXCIgOiBcIi1cIn1dPC9zcGFuPmAgOiBcIlwifVxyXG5cdFx0XHRcdFx0JHt0aGlzLmdldFRvb2xEaXNwbGF5TmFtZSh0b29sVXNlKX1cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiJHtjb250ZW50Q2xhc3Nlc31cIj4ke2NvbnRlbnREaXZ9PC9kaXY+XHJcblx0XHRcdFx0JHt0b29sUmVzdWx0ID8gdGhpcy5yZW5kZXJUb29sUmVzdWx0KHRvb2xSZXN1bHQsIHRvb2xVc2UpIDogXCJcIn1cclxuXHRcdFx0PC9kaXY+XHJcblx0XHRgO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJXcml0ZVByZXZpZXcodG9vbFVzZTogYW55KTogVGVtcGxhdGVSZXN1bHQge1xyXG5cdFx0Y29uc3QgaW5wdXQgPSB0b29sVXNlLmlucHV0O1xyXG5cdFx0aWYgKCFpbnB1dD8uY29udGVudCkge1xyXG5cdFx0XHRyZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwidGV4dC12cy1tdXRlZFwiPk5vIGNvbnRlbnQ8L2Rpdj5gO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGNvbnRlbnQgPSBpbnB1dC5jb250ZW50O1xyXG5cdFx0Y29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KFwiXFxuXCIpO1xyXG5cdFx0Y29uc3QgcHJldmlldyA9IGxpbmVzLnNsaWNlKDAsIDEwKTtcclxuXHRcdGNvbnN0IGhhc01vcmUgPSBsaW5lcy5sZW5ndGggPiAxMDtcclxuXHJcblx0XHRyZXR1cm4gaHRtbGBcclxuXHRcdFx0JHt0aGlzLndyYXBJblNjcm9sbGFibGUocHJldmlldy5qb2luKFwiXFxuXCIpKX1cclxuXHRcdFx0JHtoYXNNb3JlID8gaHRtbGA8ZGl2IGNsYXNzPVwidGV4dC12cy1tdXRlZFwiPi4uLiAke2xpbmVzLmxlbmd0aCAtIDEwfSBtb3JlIGxpbmVzIChjbGljayB0byBleHBhbmQpPC9kaXY+YCA6IFwiXCJ9XHJcblx0XHRgO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJEaWZmKG9sZFN0cjogc3RyaW5nLCBuZXdTdHI6IHN0cmluZyk6IFRlbXBsYXRlUmVzdWx0W10ge1xyXG5cdFx0Y29uc3QgZGlmZiA9IERpZmYuZGlmZkxpbmVzKG9sZFN0ciwgbmV3U3RyKTtcclxuXHRcdGNvbnN0IGRpZmZMaW5lcyA9IFtdO1xyXG5cclxuXHRcdGZvciAoY29uc3QgcGFydCBvZiBkaWZmKSB7XHJcblx0XHRcdGNvbnN0IGxpbmVzID0gcGFydC52YWx1ZS5zcGxpdChcIlxcblwiKTtcclxuXHRcdFx0Ly8gUmVtb3ZlIGVtcHR5IGxhc3QgbGluZSBmcm9tIHNwbGl0IGlmIGl0IGV4aXN0c1xyXG5cdFx0XHRpZiAobGluZXNbbGluZXMubGVuZ3RoIC0gMV0gPT09IFwiXCIpIHtcclxuXHRcdFx0XHRsaW5lcy5wb3AoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Zm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XHJcblx0XHRcdFx0aWYgKHBhcnQuYWRkZWQpIHtcclxuXHRcdFx0XHRcdGRpZmZMaW5lcy5wdXNoKGh0bWxgPGRpdiBjbGFzcz1cImJnLWdyZWVuLTYwMC8yMFwiPjxwcmUgY2xhc3M9XCJ0ZXh0LXZzLXRleHQgbS0wXCI+KyAke2xpbmV9PC9wcmU+PC9kaXY+YCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChwYXJ0LnJlbW92ZWQpIHtcclxuXHRcdFx0XHRcdGRpZmZMaW5lcy5wdXNoKGh0bWxgPGRpdiBjbGFzcz1cImJnLXJlZC02MDAvMjBcIj48cHJlIGNsYXNzPVwidGV4dC12cy10ZXh0IG0tMFwiPi0gJHtsaW5lfTwvcHJlPjwvZGl2PmApO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRkaWZmTGluZXMucHVzaChodG1sYDxkaXY+PHByZSBjbGFzcz1cInRleHQtdnMtdGV4dCBtLTBcIj4gICR7bGluZX08L3ByZT48L2Rpdj5gKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZGlmZkxpbmVzO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBoYXNUb29scyhjb252ZXJzYXRpb246IFNpbXBsZUNvbnZlcnNhdGlvbik6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuICEhKGNvbnZlcnNhdGlvbi5maW5hbFBhaXIucmVxdWVzdC50b29scyAmJiBjb252ZXJzYXRpb24uZmluYWxQYWlyLnJlcXVlc3QudG9vbHMubGVuZ3RoID4gMCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlclRvb2xzKHRvb2xzOiBUb29sVW5pb25bXSk6IFRlbXBsYXRlUmVzdWx0IHtcclxuXHRcdHJldHVybiBodG1sYFxyXG5cdFx0XHQke3Rvb2xzLm1hcCgodG9vbCkgPT4ge1xyXG5cdFx0XHRcdGlmIChcIm5hbWVcIiBpbiB0b29sICYmIHRvb2wubmFtZSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgZGVzY3JpcHRpb24gPSAoXCJkZXNjcmlwdGlvblwiIGluIHRvb2wgJiYgdG9vbC5kZXNjcmlwdGlvbikgfHwgXCJObyBkZXNjcmlwdGlvblwiO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiB0aGlzLnJlbmRlckNvbGxhcHNpYmxlU2VjdGlvbihcclxuXHRcdFx0XHRcdFx0dG9vbC5uYW1lLFxyXG5cdFx0XHRcdFx0XHRodG1sYFxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LXZzLXRleHQgbWwtNCBtYi0zIG1hcmtkb3duLWNvbnRlbnRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdCR7dW5zYWZlSFRNTChtYXJrZG93blRvSHRtbChkZXNjcmlwdGlvbikpfVxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHRcdFx0XHQke1wiaW5wdXRfc2NoZW1hXCIgaW4gdG9vbCAmJiB0b29sLmlucHV0X3NjaGVtYSAmJiB0eXBlb2YgdG9vbC5pbnB1dF9zY2hlbWEgPT09IFwib2JqZWN0XCJcclxuXHRcdFx0XHRcdFx0XHRcdD8gKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBzY2hlbWEgPSB0b29sLmlucHV0X3NjaGVtYSBhcyBhbnk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNjaGVtYS5wcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaHRtbGBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRleHQtdnMtbXV0ZWQgbWItMlwiPlBhcmFtZXRlcnM6PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCR7T2JqZWN0LmVudHJpZXMoc2NoZW1hLnByb3BlcnRpZXMpLm1hcCgoW3BhcmFtTmFtZSwgcGFyYW1EZWZdKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZGVmID0gcGFyYW1EZWYgYXMgYW55O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHJlcXVpcmVkID0gc2NoZW1hLnJlcXVpcmVkPy5pbmNsdWRlcyhwYXJhbU5hbWUpID8gXCIgKHJlcXVpcmVkKVwiIDogXCJcIjtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB0eXBlID0gZGVmLnR5cGUgPyBgIFske2RlZi50eXBlfV1gIDogXCJcIjtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBkZXNjID0gZGVmLmRlc2NyaXB0aW9uID8gYCAtICR7ZGVmLmRlc2NyaXB0aW9ufWAgOiBcIlwiO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBodG1sYFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1sLTQgbWItMVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRleHQtdnMtdXNlclwiPiR7cGFyYW1OYW1lfTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0ZXh0LXZzLW11dGVkXCI+JHt0eXBlfSR7cmVxdWlyZWR9JHtkZXNjfTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGA7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGh0bWxgYDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSkoKVxyXG5cdFx0XHRcdFx0XHRcdFx0OiBodG1sYGB9XHJcblx0XHRcdFx0XHRcdGAsXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHR0aXRsZUNsYXNzZXM6IFwidGV4dC12cy10eXBlIGZvbnQtYm9sZFwiLFxyXG5cdFx0XHRcdFx0XHRcdGNvbnRhaW5lckNsYXNzZXM6IFwibWItNFwiLFxyXG5cdFx0XHRcdFx0XHRcdGlzRXhwYW5kZWQ6IHRydWUsXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gaHRtbGA8cHJlIGNsYXNzPVwibWItNFwiPiR7SlNPTi5zdHJpbmdpZnkodG9vbCwgbnVsbCwgMil9PC9wcmU+YDtcclxuXHRcdFx0fSl9XHJcblx0XHRgO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJDb252ZXJzYXRpb25Db250ZW50KGNvbnZlcnNhdGlvbjogU2ltcGxlQ29udmVyc2F0aW9uKTogVGVtcGxhdGVSZXN1bHQge1xyXG5cdFx0cmV0dXJuIGh0bWxgXHJcblx0XHRcdDwhLS0gU3lzdGVtIFByb21wdCAoRXhwYW5kYWJsZSkgLS0+XHJcblx0XHRcdCR7Y29udmVyc2F0aW9uLnN5c3RlbVxyXG5cdFx0XHRcdD8gdGhpcy5yZW5kZXJDb2xsYXBzaWJsZVNlY3Rpb24oXHJcblx0XHRcdFx0XHRcdFwiU3lzdGVtIFByb21wdFwiLFxyXG5cdFx0XHRcdFx0XHRodG1sYDxkaXYgY2xhc3M9XCJ0ZXh0LXZzLXRleHQgbWFya2Rvd24tY29udGVudCBtYi00XCI+XHJcblx0XHRcdFx0XHRcdFx0JHt1bnNhZmVIVE1MKHRoaXMuZm9ybWF0U3lzdGVtKGNvbnZlcnNhdGlvbi5zeXN0ZW0pKX1cclxuXHRcdFx0XHRcdFx0PC9kaXY+YCxcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRpdGxlQ2xhc3NlczogXCJ0ZXh0LXZzLWZ1bmN0aW9uXCIsXHJcblx0XHRcdFx0XHRcdFx0Y29udGFpbmVyQ2xhc3NlczogXCJweC00IG10LTRcIixcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHQ6IFwiXCJ9XHJcblxyXG5cdFx0XHQ8IS0tIFRvb2xzIChFeHBhbmRhYmxlKSAtLT5cclxuXHRcdFx0JHt0aGlzLmhhc1Rvb2xzKGNvbnZlcnNhdGlvbilcclxuXHRcdFx0XHQ/IHRoaXMucmVuZGVyQ29sbGFwc2libGVTZWN0aW9uKFxyXG5cdFx0XHRcdFx0XHRcIlRvb2xzXCIsXHJcblx0XHRcdFx0XHRcdGh0bWxgPGRpdiBjbGFzcz1cIm1sLTRcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC12cy10ZXh0XCI+JHt0aGlzLnJlbmRlclRvb2xzKGNvbnZlcnNhdGlvbi5maW5hbFBhaXIucmVxdWVzdC50b29scyB8fCBbXSl9PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PmAsXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHR0aXRsZUNsYXNzZXM6IFwidGV4dC12cy10eXBlXCIsXHJcblx0XHRcdFx0XHRcdFx0Y29udGFpbmVyQ2xhc3NlczogXCJweC00XCIsXHJcblx0XHRcdFx0XHRcdFx0Y291bnQ6IGNvbnZlcnNhdGlvbi5maW5hbFBhaXIucmVxdWVzdC50b29scz8ubGVuZ3RoIHx8IDAsXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0OiBcIlwifVxyXG5cclxuXHRcdFx0PCEtLSBDb252ZXJzYXRpb24gTWVzc2FnZXMgLS0+XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJweC00IG10LTRcIj5cclxuXHRcdFx0XHQke2NvbnZlcnNhdGlvbi5tZXNzYWdlc1xyXG5cdFx0XHRcdFx0LmZpbHRlcigobWVzc2FnZSkgPT4gIShtZXNzYWdlIGFzIEVuaGFuY2VkTWVzc2FnZVBhcmFtKS5oaWRlKVxyXG5cdFx0XHRcdFx0Lm1hcChcclxuXHRcdFx0XHRcdFx0KG1lc3NhZ2UsIG1zZ0luZGV4KSA9PiBodG1sYFxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtYi00XCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzPVwiZm9udC1ib2xkIHVwcGVyY2FzZSAke21lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCIgPyBcInRleHQtdnMtdXNlclwiIDogXCJ0ZXh0LXZzLWFzc2lzdGFudFwifVwiXHJcblx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuPiR7bWVzc2FnZS5yb2xlfTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRleHQtdnMtdGV4dFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQke3RoaXMuZm9ybWF0Q29udGVudChtZXNzYWdlLmNvbnRlbnQsIChtZXNzYWdlIGFzIEVuaGFuY2VkTWVzc2FnZVBhcmFtKS50b29sUmVzdWx0cyl9XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0YCxcclxuXHRcdFx0XHRcdCl9XHJcblxyXG5cdFx0XHRcdDwhLS0gQXNzaXN0YW50IFJlc3BvbnNlIC0tPlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJtYi00XCI+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9udC1ib2xkIHVwcGVyY2FzZSB0ZXh0LXZzLWFzc2lzdGFudFwiPlxyXG5cdFx0XHRcdFx0XHQ8c3Bhbj5hc3Npc3RhbnQ8L3NwYW4+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LXZzLXRleHRcIj4ke3RoaXMuZm9ybWF0UmVzcG9uc2VDb250ZW50KGNvbnZlcnNhdGlvbi5yZXNwb25zZSl9PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0YDtcclxuXHR9XHJcblxyXG5cdHJlbmRlcigpIHtcclxuXHRcdGlmICh0aGlzLmNvbnZlcnNhdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHJldHVybiBodG1sYDxkaXY+Tm8gY29udmVyc2F0aW9ucyBmb3VuZC48L2Rpdj5gO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBodG1sYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwibWF4LXctWzYwZW1dIG14LWF1dG9cIj5cclxuXHRcdFx0XHQke3RoaXMuY29udmVyc2F0aW9ucy5tYXAoXHJcblx0XHRcdFx0XHQoY29udmVyc2F0aW9uKSA9PiBodG1sYFxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibXQtOCBmaXJzdDptdC0wXCI+XHJcblx0XHRcdFx0XHRcdFx0JHtjb252ZXJzYXRpb24uY29tcGFjdGVkXHJcblx0XHRcdFx0XHRcdFx0XHQ/IGh0bWxgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PCEtLSBDb21wYWN0ZWQgQ29udmVyc2F0aW9uIChDb2xsYXBzZWQpIC0tPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXZcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzPVwiY3Vyc29yLXBvaW50ZXIgdGV4dC1yZWQtNDAwIGhvdmVyOnRleHQtcmVkLTMwMCB0cmFuc2l0aW9uLWNvbG9ycyBib3JkZXIgYm9yZGVyLXJlZC03MDAgcC00XCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdEBjbGljaz0ke3RoaXMudG9nZ2xlQ29udGVudH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cIm1yLTJcIj5bK108L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3Bhbj5Db21wYWN0ZWQgKGNsaWNrIHRvIHZpZXcgZGV0YWlscyk8L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImhpZGRlbiBtdC04XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8IS0tIENvbnZlcnNhdGlvbiBIZWFkZXIgLS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm9yZGVyIGJvcmRlci1yZWQtNzAwIHAtNCBtYi0wXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LXJlZC00MDBcIj4ke0FycmF5LmZyb20oY29udmVyc2F0aW9uLm1vZGVscykuam9pbihcIiwgXCIpfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC12cy1tdXRlZFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCR7bmV3IERhdGUoY29udmVyc2F0aW9uLm1ldGFkYXRhLnN0YXJ0VGltZSkudG9Mb2NhbGVTdHJpbmcoKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cIm1sLTRcIj4ke2NvbnZlcnNhdGlvbi5tZXNzYWdlcy5sZW5ndGggKyAxfSBtZXNzYWdlczwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCR7dGhpcy5yZW5kZXJDb252ZXJzYXRpb25Db250ZW50KGNvbnZlcnNhdGlvbil9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdGBcclxuXHRcdFx0XHRcdFx0XHRcdDogaHRtbGBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8IS0tIFJlZ3VsYXIgQ29udmVyc2F0aW9uIC0tPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwhLS0gQ29udmVyc2F0aW9uIEhlYWRlciAtLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm9yZGVyIGJvcmRlci12cy1oaWdobGlnaHQgcC00IG1iLTBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LXZzLWFzc2lzdGFudFwiPiR7QXJyYXkuZnJvbShjb252ZXJzYXRpb24ubW9kZWxzKS5qb2luKFwiLCBcIil9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC12cy1tdXRlZFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQke25ldyBEYXRlKGNvbnZlcnNhdGlvbi5tZXRhZGF0YS5zdGFydFRpbWUpLnRvTG9jYWxlU3RyaW5nKCl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwibWwtNFwiPiR7Y29udmVyc2F0aW9uLm1lc3NhZ2VzLmxlbmd0aCArIDF9IG1lc3NhZ2VzPC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JHt0aGlzLnJlbmRlckNvbnZlcnNhdGlvbkNvbnRlbnQoY29udmVyc2F0aW9uKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0YH1cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRgLFxyXG5cdFx0XHRcdCl9XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0YDtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwgfSBmcm9tIFwibGl0XCI7XHJcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzLmpzXCI7XHJcbmltcG9ydCB7IFJhd1BhaXIgfSBmcm9tIFwiLi4vLi4vLi4vc3JjL3R5cGVzXCI7XHJcblxyXG5AY3VzdG9tRWxlbWVudChcInJhdy1wYWlycy12aWV3XCIpXHJcbmV4cG9ydCBjbGFzcyBSYXdQYWlyc1ZpZXcgZXh0ZW5kcyBMaXRFbGVtZW50IHtcclxuXHRAcHJvcGVydHkoeyB0eXBlOiBBcnJheSB9KSByYXdQYWlyczogUmF3UGFpcltdID0gW107XHJcblxyXG5cdC8vIERpc2FibGUgc2hhZG93IERPTSB0byB1c2UgZ2xvYmFsIFRhaWx3aW5kIHN0eWxlc1xyXG5cdGNyZWF0ZVJlbmRlclJvb3QoKSB7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdHJlbmRlcigpIHtcclxuXHRcdGlmICh0aGlzLnJhd1BhaXJzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRyZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwidGV4dC12cy1tdXRlZFwiPk5vIHJhdyBwYWlycyBmb3VuZC48L2Rpdj5gO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZpbHRlciBvdXQgcGFpcnMgd2l0aCBudWxsIHJlc3BvbnNlcyBmb3IgZGlzcGxheVxyXG5cdFx0Y29uc3QgdmFsaWRQYWlycyA9IHRoaXMucmF3UGFpcnMuZmlsdGVyKChwYWlyKSA9PiBwYWlyLnJlc3BvbnNlICE9PSBudWxsKTtcclxuXHJcblx0XHRyZXR1cm4gaHRtbGBcclxuXHRcdFx0PGRpdj5cclxuXHRcdFx0XHQke3ZhbGlkUGFpcnMubWFwKFxyXG5cdFx0XHRcdFx0KHBhaXIsIGluZGV4KSA9PiBodG1sYFxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibXQtOCBmaXJzdDptdC0wXCI+XHJcblx0XHRcdFx0XHRcdFx0PCEtLSBQYWlyIEhlYWRlciAtLT5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm9yZGVyIGJvcmRlci12cy1oaWdobGlnaHQgcC00IG1iLTBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LXZzLWFzc2lzdGFudCBmb250LWJvbGRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0JHtwYWlyLnJlcXVlc3QubWV0aG9kfSAke3RoaXMuZ2V0VXJsUGF0aChwYWlyLnJlcXVlc3QudXJsKX1cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRleHQtdnMtbXV0ZWRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0UmF3IFBhaXIgJHtpbmRleCArIDF9IFx1MjAyMiAke3RoaXMuZ2V0TW9kZWxOYW1lKHBhaXIpfSBcdTIwMjIgU3RhdHVzICR7cGFpci5yZXNwb25zZSEuc3RhdHVzX2NvZGV9IFx1MjAyMlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQke25ldyBEYXRlKHBhaXIubG9nZ2VkX2F0KS50b0xvY2FsZVN0cmluZygpfVxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblxyXG5cdFx0XHRcdFx0XHRcdDwhLS0gUmVxdWVzdCBTZWN0aW9uIC0tPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJweC00IG10LTRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtYi00XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXZcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzcz1cImN1cnNvci1wb2ludGVyIHRleHQtdnMtdXNlciBmb250LWJvbGQgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0QGNsaWNrPSR7KGU6IEV2ZW50KSA9PiB0aGlzLnRvZ2dsZUNvbnRlbnQoZSl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cIm1yLTJcIj5bK108L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4+UmVxdWVzdDwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJoaWRkZW4gbXQtMlwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJiZy12cy1iZy1zZWNvbmRhcnkgcC00IHRleHQtdnMtdGV4dCBvdmVyZmxvdy14LWF1dG9cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxwcmUgY2xhc3M9XCJ3aGl0ZXNwYWNlLXByZSB0ZXh0LXZzLXRleHQgbS0wXCI+JHt0aGlzLmZvcm1hdEpzb24ocGFpci5yZXF1ZXN0KX08L3ByZT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHJcblx0XHRcdFx0XHRcdFx0XHQ8IS0tIFJlc3BvbnNlIFNlY3Rpb24gLS0+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWItNFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3M9XCJjdXJzb3ItcG9pbnRlciB0ZXh0LXZzLWFzc2lzdGFudCBmb250LWJvbGQgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0QGNsaWNrPSR7KGU6IEV2ZW50KSA9PiB0aGlzLnRvZ2dsZUNvbnRlbnQoZSl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cIm1yLTJcIj5bK108L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4+UmVzcG9uc2U8L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaGlkZGVuIG10LTJcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYmctdnMtYmctc2Vjb25kYXJ5IHAtNCB0ZXh0LXZzLXRleHQgb3ZlcmZsb3cteC1hdXRvXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8cHJlIGNsYXNzPVwid2hpdGVzcGFjZS1wcmUgdGV4dC12cy10ZXh0IG0tMFwiPiR7dGhpcy5mb3JtYXRKc29uKHBhaXIucmVzcG9uc2UpfTwvcHJlPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdDwhLS0gU1NFIEV2ZW50cyBTZWN0aW9uIC0tPlxyXG5cdFx0XHRcdFx0XHRcdFx0JHtwYWlyLnJlc3BvbnNlIS5ldmVudHMgJiYgcGFpci5yZXNwb25zZSEuZXZlbnRzLmxlbmd0aCA+IDBcclxuXHRcdFx0XHRcdFx0XHRcdFx0PyBodG1sYFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1iLTRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzPVwiY3Vyc29yLXBvaW50ZXIgdGV4dC12cy10eXBlIGZvbnQtYm9sZCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRAY2xpY2s9JHsoZTogRXZlbnQpID0+IHRoaXMudG9nZ2xlQ29udGVudChlKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwibXItMlwiPlsrXTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3Bhbj5TU0UgRXZlbnRzICgke3BhaXIucmVzcG9uc2UhLmV2ZW50cy5sZW5ndGh9KTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJoaWRkZW4gbXQtMlwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJiZy12cy1iZy1zZWNvbmRhcnkgcC00IHRleHQtdnMtdGV4dCBvdmVyZmxvdy14LWF1dG9cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxwcmUgY2xhc3M9XCJ3aGl0ZXNwYWNlLXByZSB0ZXh0LXZzLXRleHQgbS0wXCI+XHJcbiR7dGhpcy5mb3JtYXRKc29uKHBhaXIucmVzcG9uc2UhLmV2ZW50cyl9PC9wcmVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgXHJcblx0XHRcdFx0XHRcdFx0XHRcdDogXCJcIn1cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRgLFxyXG5cdFx0XHRcdCl9XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0YDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0VXJsUGF0aCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IFVSTCh1cmwpLnBhdGhuYW1lO1xyXG5cdFx0fSBjYXRjaCB7XHJcblx0XHRcdHJldHVybiB1cmw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldE1vZGVsTmFtZShwYWlyOiBSYXdQYWlyKTogc3RyaW5nIHtcclxuXHRcdC8vIFRyeSB0byBleHRyYWN0IGZyb20gQmVkcm9jayBVUkwgZmlyc3RcclxuXHRcdGlmIChwYWlyLnJlcXVlc3QudXJsICYmIHBhaXIucmVxdWVzdC51cmwuaW5jbHVkZXMoXCJiZWRyb2NrLXJ1bnRpbWVcIikpIHtcclxuXHRcdFx0Y29uc3QgdXJsTWF0Y2ggPSBwYWlyLnJlcXVlc3QudXJsLm1hdGNoKC9cXC9tb2RlbFxcLyhbXlxcL10rKS8pO1xyXG5cdFx0XHRpZiAodXJsTWF0Y2ggJiYgdXJsTWF0Y2hbMV0pIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5ub3JtYWxpemVNb2RlbE5hbWUodXJsTWF0Y2hbMV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVHJ5IHRvIGdldCBtb2RlbCBmcm9tIHJlcXVlc3QgYm9keVxyXG5cdFx0aWYgKHBhaXIucmVxdWVzdC5ib2R5ICYmIHBhaXIucmVxdWVzdC5ib2R5Lm1vZGVsKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZU1vZGVsTmFtZShwYWlyLnJlcXVlc3QuYm9keS5tb2RlbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRGVmYXVsdCBmYWxsYmFja1xyXG5cdFx0cmV0dXJuIFwidW5rbm93blwiO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBub3JtYWxpemVNb2RlbE5hbWUobW9kZWxOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0aWYgKCFtb2RlbE5hbWUpIHJldHVybiBcInVua25vd25cIjtcclxuXHJcblx0XHQvLyBIYW5kbGUgQmVkcm9jayBtb2RlbCBuYW1lc1xyXG5cdFx0aWYgKG1vZGVsTmFtZS5zdGFydHNXaXRoKFwidXMuYW50aHJvcGljLlwiKSkge1xyXG5cdFx0XHQvLyBDb252ZXJ0IFwidXMuYW50aHJvcGljLmNsYXVkZS0zLTUtc29ubmV0LTIwMjQxMDIyLXYxOjBcIiB0byBcImNsYXVkZS0zLTUtc29ubmV0LTIwMjQxMDIyXCJcclxuXHRcdFx0Y29uc3QgbWF0Y2ggPSBtb2RlbE5hbWUubWF0Y2goL3VzXFwuYW50aHJvcGljXFwuKFteOl0rKS8pO1xyXG5cdFx0XHRpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcclxuXHRcdFx0XHRyZXR1cm4gbWF0Y2hbMV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBSZXR1cm4gYXMtaXMgZm9yIG90aGVyIGZvcm1hdHNcclxuXHRcdHJldHVybiBtb2RlbE5hbWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGZvcm1hdEpzb24ob2JqOiBhbnkpOiBzdHJpbmcge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XHJcblx0XHR9IGNhdGNoIHtcclxuXHRcdFx0cmV0dXJuIFN0cmluZyhvYmopO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB0b2dnbGVDb250ZW50KGU6IEV2ZW50KSB7XHJcblx0XHRjb25zdCBoZWFkZXIgPSBlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRjb25zdCBjb250ZW50ID0gaGVhZGVyLm5leHRFbGVtZW50U2libGluZyBhcyBIVE1MRWxlbWVudDtcclxuXHRcdGNvbnN0IHRvZ2dsZSA9IGhlYWRlci5xdWVyeVNlbGVjdG9yKFwic3BhbjpmaXJzdC1jaGlsZFwiKSBhcyBIVE1MRWxlbWVudDtcclxuXHJcblx0XHRpZiAoY29udGVudCAmJiB0b2dnbGUpIHtcclxuXHRcdFx0Y29uc3QgaXNIaWRkZW4gPSBjb250ZW50LmNsYXNzTGlzdC5jb250YWlucyhcImhpZGRlblwiKTtcclxuXHRcdFx0Y29udGVudC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIsICFpc0hpZGRlbik7XHJcblx0XHRcdHRvZ2dsZS50ZXh0Q29udGVudCA9IGlzSGlkZGVuID8gXCJbLV1cIiA6IFwiWytdXCI7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSBcImxpdFwiO1xyXG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gXCJsaXQvZGVjb3JhdG9ycy5qc1wiO1xyXG5pbXBvcnQgeyBQcm9jZXNzZWRQYWlyIH0gZnJvbSBcIi4uLy4uLy4uL3NyYy9zaGFyZWQtY29udmVyc2F0aW9uLXByb2Nlc3NvclwiO1xyXG5cclxuQGN1c3RvbUVsZW1lbnQoXCJqc29uLXZpZXdcIilcclxuZXhwb3J0IGNsYXNzIEpzb25WaWV3IGV4dGVuZHMgTGl0RWxlbWVudCB7XHJcblx0QHByb3BlcnR5KHsgdHlwZTogQXJyYXkgfSkgcHJvY2Vzc2VkUGFpcnM6IFByb2Nlc3NlZFBhaXJbXSA9IFtdO1xyXG5cclxuXHQvLyBEaXNhYmxlIHNoYWRvdyBET00gdG8gdXNlIGdsb2JhbCBDU1NcclxuXHRjcmVhdGVSZW5kZXJSb290KCkge1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHRpZiAodGhpcy5wcm9jZXNzZWRQYWlycy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0cmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cInRleHQtdnMtbXV0ZWRcIj5ObyBwcm9jZXNzZWQgcGFpcnMgZm91bmQuPC9kaXY+YDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gaHRtbGBcclxuXHRcdFx0PGRpdj5cclxuXHRcdFx0XHQke3RoaXMucHJvY2Vzc2VkUGFpcnMubWFwKFxyXG5cdFx0XHRcdFx0KHBhaXIsIGluZGV4KSA9PiBodG1sYFxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibXQtOCBmaXJzdDptdC0wXCI+XHJcblx0XHRcdFx0XHRcdFx0PCEtLSBQYWlyIEhlYWRlciAtLT5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm9yZGVyIGJvcmRlci12cy1oaWdobGlnaHQgcC00IG1iLTBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LXZzLWFzc2lzdGFudCBmb250LWJvbGRcIj4ke3BhaXIubW9kZWx9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC12cy1tdXRlZFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRQYWlyICR7aW5kZXggKyAxfSBcdTIwMjIgJHtwYWlyLmlzU3RyZWFtaW5nID8gXCJzdHJlYW1pbmdcIiA6IFwibm9uLXN0cmVhbWluZ1wifSBcdTIwMjJcclxuXHRcdFx0XHRcdFx0XHRcdFx0JHtuZXcgRGF0ZShwYWlyLnRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoKX1cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHRcdFx0XHQ8IS0tIFJlcXVlc3QgU2VjdGlvbiAtLT5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicHgtNCBtdC00XCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWItNFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3M9XCJjdXJzb3ItcG9pbnRlciB0ZXh0LXZzLXVzZXIgZm9udC1ib2xkIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdEBjbGljaz0keyhlOiBFdmVudCkgPT4gdGhpcy50b2dnbGVDb250ZW50KGUpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJtci0yXCI+WytdPC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuPlJlcXVlc3QgKE1lc3NhZ2VDcmVhdGVQYXJhbXMpPC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImhpZGRlbiBtdC0yXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJnLXZzLWJnLXNlY29uZGFyeSBwLTQgdGV4dC12cy10ZXh0IG92ZXJmbG93LXgtYXV0b1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHByZSBjbGFzcz1cIndoaXRlc3BhY2UtcHJlIHRleHQtdnMtdGV4dCBtLTBcIj4ke3RoaXMuZm9ybWF0SnNvbihwYWlyLnJlcXVlc3QpfTwvcHJlPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdDwhLS0gUmVzcG9uc2UgU2VjdGlvbiAtLT5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtYi00XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXZcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzcz1cImN1cnNvci1wb2ludGVyIHRleHQtdnMtYXNzaXN0YW50IGZvbnQtYm9sZCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRAY2xpY2s9JHsoZTogRXZlbnQpID0+IHRoaXMudG9nZ2xlQ29udGVudChlKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwibXItMlwiPlsrXTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3Bhbj5SZXNwb25zZSAoTWVzc2FnZSkke3BhaXIuaXNTdHJlYW1pbmcgPyBcIiAtIFJlY29uc3RydWN0ZWQgZnJvbSBTU0VcIiA6IFwiXCJ9PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImhpZGRlbiBtdC0yXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJnLXZzLWJnLXNlY29uZGFyeSBwLTQgdGV4dC12cy10ZXh0IG92ZXJmbG93LXgtYXV0b1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHByZSBjbGFzcz1cIndoaXRlc3BhY2UtcHJlIHRleHQtdnMtdGV4dCBtLTBcIj4ke3RoaXMuZm9ybWF0SnNvbihwYWlyLnJlc3BvbnNlKX08L3ByZT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRgLFxyXG5cdFx0XHRcdCl9XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0YDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZm9ybWF0SnNvbihvYmo6IGFueSk6IHN0cmluZyB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAyKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIGBFcnJvciBmb3JtYXR0aW5nIEpTT046ICR7ZX1gO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB0b2dnbGVDb250ZW50KGU6IEV2ZW50KSB7XHJcblx0XHRjb25zdCBoZWFkZXIgPSBlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRjb25zdCBjb250ZW50ID0gaGVhZGVyLm5leHRFbGVtZW50U2libGluZyBhcyBIVE1MRWxlbWVudDtcclxuXHRcdGNvbnN0IHRvZ2dsZSA9IGhlYWRlci5xdWVyeVNlbGVjdG9yKFwic3BhbjpmaXJzdC1jaGlsZFwiKSBhcyBIVE1MRWxlbWVudDtcclxuXHJcblx0XHRpZiAoY29udGVudCAmJiB0b2dnbGUpIHtcclxuXHRcdFx0Y29uc3QgaXNIaWRkZW4gPSBjb250ZW50LmNsYXNzTGlzdC5jb250YWlucyhcImhpZGRlblwiKTtcclxuXHRcdFx0Y29udGVudC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIsICFpc0hpZGRlbik7XHJcblx0XHRcdHRvZ2dsZS50ZXh0Q29udGVudCA9IGlzSGlkZGVuID8gXCJbLV1cIiA6IFwiWytdXCI7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBDbGF1ZGVBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuaW1wb3J0IFwiLi9jb21wb25lbnRzL3NpbXBsZS1jb252ZXJzYXRpb24tdmlld1wiO1xyXG5pbXBvcnQgXCIuL2NvbXBvbmVudHMvcmF3LXBhaXJzLXZpZXdcIjtcclxuaW1wb3J0IFwiLi9jb21wb25lbnRzL2pzb24tdmlld1wiO1xyXG5cclxuLy8gSW5qZWN0IENTUyBzdHlsZXMgaW50byB0aGUgcGFnZVxyXG5kZWNsYXJlIGNvbnN0IF9fQ1NTX0NPTlRFTlRfXzogc3RyaW5nO1xyXG5jb25zdCBjc3MgPSBfX0NTU19DT05URU5UX187XHJcbmlmIChjc3MgJiYgY3NzICE9PSBcIl9fQ1NTX0NPTlRFTlRfX1wiKSB7XHJcblx0Y29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcblx0c3R5bGUudGV4dENvbnRlbnQgPSBjc3M7XHJcblx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XHJcbn1cclxuXHJcbi8vIEluaXRpYWxpemUgdGhlIGFwcGxpY2F0aW9uIHdoZW4gRE9NIGlzIHJlYWR5XHJcbmlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImxvYWRpbmdcIikge1xyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGluaXRBcHApO1xyXG59IGVsc2Uge1xyXG5cdGluaXRBcHAoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdEFwcCgpIHtcclxuXHRjb25zdCBhcHAgPSBuZXcgQ2xhdWRlQXBwKCk7XHJcblx0Y29uc3QgYXBwRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpO1xyXG5cdGlmIChhcHBFbGVtZW50KSB7XHJcblx0XHRhcHBFbGVtZW50LmFwcGVuZENoaWxkKGFwcCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGNvbnNvbGUuZXJyb3IoXCJBcHAgbW91bnQgcG9pbnQgbm90IGZvdW5kXCIpO1xyXG5cdH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzZPQThETyxJQUFNQSxHQUF1QixLQUFzQixDQTZDeEQsSUFBSSxZQUFVLENBSVosT0FBUSxLQUFLLE9BQ1YsWUFDTCxDQUNBLFlBQVlDLEVBQWtCLENBakQ5QixLQUFBLFdBQWEsR0FDYixLQUFBLGlCQUFtQixHQUNuQixLQUFBLGlCQUFtQixHQUNuQixLQUFBLDJCQUE2QixHQUM3QixLQUFBLFNBQVcsR0FDWCxLQUFBLFlBQWMsR0FDZCxLQUFBLGFBQWUsR0FDZixLQUFBLGFBQWUsR0FDZixLQUFBLFlBQWMs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QTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBQ1osR0FBSUEsSUFBT0EsS0FBUSxrQkFBbUIsQ0FDckMsSUFBTUMsRUFBUSxTQUFTLGNBQWMsT0FBTyxFQUM1Q0EsRUFBTSxZQUFjRCxHQUNwQixTQUFTLEtBQUssWUFBWUMsQ0FBSyxDQUNoQyxDQUdJLFNBQVMsYUFBZSxVQUMzQixTQUFTLGlCQUFpQixtQkFBb0JDLEVBQU8sRUFFckRBLEdBQVEsRUFHVCxTQUFTQSxJQUFVLENBQ2xCLElBQU1DLEVBQU0sSUFBSUMsRUFDVkMsRUFBYSxTQUFTLGVBQWUsS0FBSyxFQUM1Q0EsRUFDSEEsRUFBVyxZQUFZRixDQUFHLEVBRTFCLFFBQVEsTUFBTSwyQkFBMkIsQ0FFM0MiLAogICJuYW1lcyI6IFsiRWxlbWVudEludGVybmFsc1NoaW0iLCAiX2hvc3QiLCAiaXNDYXB0dXJlRXZlbnRMaXN0ZW5lciIsICJvcHRpb25zIiwgIkV2ZW50VGFyZ2V0U2hpbSIsICJ0eXBlIiwgImNhbGxiYWNrIiwgIm9wdGlvbnMiLCAiZXZlbnRMaXN0ZW5lcnNNYXAiLCAiaXNDYXB0dXJlRXZlbnRMaXN0ZW5lciIsICJldmVudExpc3RlbmVycyIsICJub3JtYWxpemVkT3B0aW9ucyIsICJldmVudCIsICJjb21wb3NlZFBhdGgiLCAicGFyZW50IiwgInN0b3BQcm9wYWdhdGlvbiIsICJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCAiZXZlbnRQaGFzZSIsICJ0YXJnZXQiLCAidG1wVGFyZ2V0IiwgImN1cnJlbnRUYXJnZXQiLCAib3JpZ2luYWxTdG9wUHJvcGFnYXRpb24iLCAib3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCAiZW51bWVyYWJsZVByb3BlcnR5IiwgImludm9rZUV2ZW50TGlzdGVuZXIiLCAibGlzdGVuZXIiLCAiZXZlbnRMaXN0ZW5lck1hcCIsICJmaW5pc2hEaXNwYXRjaCIsICJjYXB0dXJlRXZlbnRQYXRoIiwgInJldGFyZ2V0IiwgImV2ZW50VGFyZ2V0cyIsICJldmVudFRhcmdldCIsICJjYXB0dXJlRXZlbnRMaXN0ZW5lcnMiLCAiYnViYmxlRXZlbnRQYXRoIiwgIkV2ZW50VGFyZ2V0U2hpbVdpdGhSZWFsVHlwZSIsICJlbnVtZXJhYmxlUHJvcGVydHkiLCAiRXZlbnRTaGltIiwgIl9hIiwgInR5cGUiLCAib3B0aW9ucyIsICJfRXZlbnRfY2FuY2VsYWJsZSIsICJfRXZlbnRfYnViYmxlcyIsICJfRXZlbnRfY29tcG9zZWQiLCAiX0V2ZW50X2RlZmF1bHRQcmV2ZW50ZWQiLCAiX0V2ZW50X3RpbWVzdGFtcCIsICJfRXZlbnRfcHJvcGFnYXRpb25TdG9wcGVkIiwgIl9FdmVudF90eXBlIiwgIl9FdmVudF90YXJnZXQiLCAiX0V2ZW50X2lzQmVpbmdEaXNwYXRjaGVkIiwgImJ1YmJsZXMiLCAiY2FuY2VsYWJsZSIsICJjb21wb3NlZCIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwgIl90eXBlIiwgIl9idWJibGVzIiwgIl9jYW5jZWxhYmxlIiwgIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCAidmFsdWUiLCAiQ3VzdG9tRXZlbnRTaGltIiwgIl9iIiwgIl9DdXN0b21FdmVudF9kZXRhaWwiLCAiX2RldGFpbCIsICJFdmVudFNoaW1XaXRoUmVhbFR5cGUiLCAiQ3VzdG9tRXZlbnRTaGltV2l0aFJlYWxUeXBlIiwgIkV2ZW50U2hpbVdpdGhSZWFsVHlwZSIsICJDdXN0b21FdmVudFNoaW1XaXRoUmVhbFR5cGUiLCAiYXR0cmlidXRlcyIsICJhdHRyaWJ1dGVzRm9yRWxlbWVudCIsICJlbGVtZW50IiwgImF0dHJzIiwgIkVsZW1lbnRTaGltIiwgIkV2ZW50VGFyZ2V0U2hpbVdpdGhSZWFsVHlwZSIsICJuYW1lIiwgInZhbHVlIiwgImZvcmNlIiwgImluaXQiLCAic2hhZG93Um9vdCIsICJpbnRlcm5hbHMiLCAiRWxlbWVudEludGVybmFsc1NoaW0iLCAiSFRNTEVsZW1lbnRTaGltIiwgIkVsZW1lbnRTaGltIiwgIkhUTUxFbGVtZW50U2hpbVdpdGhSZWFsVHlwZSIsICJIVE1MRWxlbWVudFNoaW1XaXRoUmVhbFR5cGUiLCAiQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5U2hpbSIsICJuYW1lIiwgImN0b3IiLCAiQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5U2hpbVdpdGhSZWFsVHlwZSIsICJjdXN0b21FbGVtZW50cyIsICJDdXN0b21FbGVtZW50UmVnaXN0cnlTaGltV2l0aFJlYWxUeXBlIiwgImdsb2JhbCIsICJnbG9iYWxUaGlzIiwgInN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyIsICJTaGFkb3dSb290IiwgIlNoYWR5Q1NTIiwgIm5hdGl2ZVNoYWRvdyIsICJEb2N1bWVudCIsICJwcm90b3R5cGUiLCAiQ1NTU3R5bGVTaGVldCIsICJjb25zdHJ1Y3Rpb25Ub2tlbiIsICJTeW1ib2wiLCAiY3NzVGFnQ2FjaGUiLCAiV2Vha01hcCIsICJDU1NSZXN1bHQiLCAiY3NzVGV4dCIsICJzdHJpbmdzIiwgInNhZmVUb2tlbiIsICJ0aGlzIiwgIkVycm9yIiwgIl9zdHJpbmdzIiwgInN0eWxlU2hlZXQiLCAiX3N0eWxlU2hlZXQiLCAiY2FjaGVhYmxlIiwgImxlbmd0aCIsICJnZXQiLCAicmVwbGFjZVN5bmMiLCAic2V0IiwgInRvU3RyaW5nIiwgInVuc2FmZUNTUyIsICJ2YWx1ZSIsICJTdHJpbmciLCAiYWRvcHRTdHlsZXMiLCAicmVuZGVyUm9vdCIsICJzdHlsZXMiLCAic3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIiwgImFkb3B0ZWRTdHlsZVNoZWV0cyIsICJtYXAiLCAicyIsICJDU1NTdHlsZVNoZWV0IiwgInN0eWxlU2hlZXQiLCAic3R5bGUiLCAiZG9jdW1lbnQiLCAiY3JlYXRlRWxlbWVudCIsICJub25jZSIsICJnbG9iYWwiLCAic2V0QXR0cmlidXRlIiwgInRleHRDb250ZW50IiwgImNzc1RleHQiLCAiYXBwZW5kQ2hpbGQiLCAiZ2V0Q29tcGF0aWJsZVN0eWxlIiwgInNoZWV0IiwgInJ1bGUiLCAiY3NzUnVsZXMiLCAidW5zYWZlQ1NTIiwgImlzIiwgImRlZmluZVByb3BlcnR5IiwgImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsICJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwgImdldE93blByb3BlcnR5U3ltYm9scyIsICJnZXRQcm90b3R5cGVPZiIsICJPYmplY3QiLCAiZ2xvYmFsIiwgImdsb2JhbFRoaXMiLCAiY3VzdG9tRWxlbWVudHMiLCAidHJ1c3RlZFR5cGVzIiwgImVtcHR5U3RyaW5nRm9yQm9vbGVhbkF0dHJpYnV0ZSIsICJlbXB0eVNjcmlwdCIsICJwb2x5ZmlsbFN1cHBvcnQiLCAicmVhY3RpdmVFbGVtZW50UG9seWZpbGxTdXBwb3J0IiwgIkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkiLCAicHJvcCIsICJfb2JqIiwgImRlZmF1bHRDb252ZXJ0ZXIiLCAidmFsdWUiLCAidHlwZSIsICJCb29sZWFuIiwgIkFycmF5IiwgIkpTT04iLCAic3RyaW5naWZ5IiwgImZyb21WYWx1ZSIsICJOdW1iZXIiLCAicGFyc2UiLCAiZSIsICJub3RFcXVhbCIsICJvbGQiLCAiZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24iLCAiYXR0cmlidXRlIiwgIlN0cmluZyIsICJjb252ZXJ0ZXIiLCAicmVmbGVjdCIsICJ1c2VEZWZhdWx0IiwgImhhc0NoYW5nZWQiLCAiU3ltYm9sIiwgIm1ldGFkYXRhIiwgImxpdFByb3BlcnR5TWV0YWRhdGEiLCAiV2Vha01hcCIsICJSZWFjdGl2ZUVsZW1lbnQiLCAiSFRNTEVsZW1lbnQiLCAiaW5pdGlhbGl6ZXIiLCAidGhpcyIsICJfX3ByZXBhcmUiLCAiX2luaXRpYWxpemVycyIsICJwdXNoIiwgIm9ic2VydmVkQXR0cmlidXRlcyIsICJmaW5hbGl6ZSIsICJfX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAiLCAia2V5cyIsICJuYW1lIiwgIm9wdGlvbnMiLCAic3RhdGUiLCAicHJvdG90eXBlIiwgImhhc093blByb3BlcnR5IiwgImNyZWF0ZSIsICJ3cmFwcGVkIiwgImVsZW1lbnRQcm9wZXJ0aWVzIiwgInNldCIsICJub0FjY2Vzc29yIiwgImtleSIsICJkZXNjcmlwdG9yIiwgImdldFByb3BlcnR5RGVzY3JpcHRvciIsICJnZXQiLCAidiIsICJvbGRWYWx1ZSIsICJjYWxsIiwgInJlcXVlc3RVcGRhdGUiLCAiY29uZmlndXJhYmxlIiwgImVudW1lcmFibGUiLCAic3VwZXJDdG9yIiwgIk1hcCIsICJmaW5hbGl6ZWQiLCAicHJvcHMiLCAicHJvcGVydGllcyIsICJwcm9wS2V5cyIsICJwIiwgImNyZWF0ZVByb3BlcnR5IiwgImF0dHIiLCAiX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkiLCAiZWxlbWVudFN0eWxlcyIsICJmaW5hbGl6ZVN0eWxlcyIsICJzdHlsZXMiLCAiaXNBcnJheSIsICJTZXQiLCAiZmxhdCIsICJJbmZpbml0eSIsICJyZXZlcnNlIiwgInMiLCAidW5zaGlmdCIsICJnZXRDb21wYXRpYmxlU3R5bGUiLCAidG9Mb3dlckNhc2UiLCAiY29uc3RydWN0b3IiLCAic3VwZXIiLCAiX19pbnN0YW5jZVByb3BlcnRpZXMiLCAiaXNVcGRhdGVQZW5kaW5nIiwgImhhc1VwZGF0ZWQiLCAiX19yZWZsZWN0aW5nUHJvcGVydHkiLCAiX19pbml0aWFsaXplIiwgIl9fdXBkYXRlUHJvbWlzZSIsICJQcm9taXNlIiwgInJlcyIsICJlbmFibGVVcGRhdGluZyIsICJfJGNoYW5nZWRQcm9wZXJ0aWVzIiwgIl9fc2F2ZUluc3RhbmNlUHJvcGVydGllcyIsICJmb3JFYWNoIiwgImkiLCAiY29udHJvbGxlciIsICJfX2NvbnRyb2xsZXJzIiwgImFkZCIsICJyZW5kZXJSb290IiwgImlzQ29ubmVjdGVkIiwgImhvc3RDb25uZWN0ZWQiLCAiZGVsZXRlIiwgImluc3RhbmNlUHJvcGVydGllcyIsICJzaXplIiwgImNyZWF0ZVJlbmRlclJvb3QiLCAic2hhZG93Um9vdCIsICJhdHRhY2hTaGFkb3ciLCAic2hhZG93Um9vdE9wdGlvbnMiLCAiYWRvcHRTdHlsZXMiLCAiY29ubmVjdGVkQ2FsbGJhY2siLCAiYyIsICJfcmVxdWVzdGVkVXBkYXRlIiwgImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwgImhvc3REaXNjb25uZWN0ZWQiLCAiX29sZCIsICJfJGF0dHJpYnV0ZVRvUHJvcGVydHkiLCAiYXR0clZhbHVlIiwgInRvQXR0cmlidXRlIiwgInJlbW92ZUF0dHJpYnV0ZSIsICJzZXRBdHRyaWJ1dGUiLCAiY3RvciIsICJwcm9wTmFtZSIsICJnZXRQcm9wZXJ0eU9wdGlvbnMiLCAiZnJvbUF0dHJpYnV0ZSIsICJfX2RlZmF1bHRWYWx1ZXMiLCAibmV3VmFsdWUiLCAiaGFzQXR0cmlidXRlIiwgIl8kY2hhbmdlUHJvcGVydHkiLCAiX19lbnF1ZXVlVXBkYXRlIiwgImluaXRpYWxpemVWYWx1ZSIsICJoYXMiLCAiX19yZWZsZWN0aW5nUHJvcGVydGllcyIsICJyZWplY3QiLCAicmVzdWx0IiwgInNjaGVkdWxlVXBkYXRlIiwgInBlcmZvcm1VcGRhdGUiLCAic2hvdWxkVXBkYXRlIiwgImNoYW5nZWRQcm9wZXJ0aWVzIiwgIndpbGxVcGRhdGUiLCAiaG9zdFVwZGF0ZSIsICJ1cGRhdGUiLCAiX19tYXJrVXBkYXRlZCIsICJfJGRpZFVwZGF0ZSIsICJfY2hhbmdlZFByb3BlcnRpZXMiLCAiaG9zdFVwZGF0ZWQiLCAiZmlyc3RVcGRhdGVkIiwgInVwZGF0ZWQiLCAidXBkYXRlQ29tcGxldGUiLCAiZ2V0VXBkYXRlQ29tcGxldGUiLCAiX19wcm9wZXJ0eVRvQXR0cmlidXRlIiwgIm1vZGUiLCAicmVhY3RpdmVFbGVtZW50VmVyc2lvbnMiLCAiZ2xvYmFsIiwgImdsb2JhbFRoaXMiLCAidHJ1c3RlZFR5cGVzIiwgInBvbGljeSIsICJjcmVhdGVQb2xpY3kiLCAiY3JlYXRlSFRNTCIsICJzIiwgImJvdW5kQXR0cmlidXRlU3VmZml4IiwgIm1hcmtlciIsICJNYXRoIiwgInJhbmRvbSIsICJ0b0ZpeGVkIiwgInNsaWNlIiwgIm1hcmtlck1hdGNoIiwgIm5vZGVNYXJrZXIiLCAiZCIsICJkb2N1bWVudCIsICJjcmVhdGVUcmVlV2Fsa2VyIiwgImNyZWF0ZU1hcmtlciIsICJjcmVhdGVDb21tZW50IiwgImlzUHJpbWl0aXZlIiwgInZhbHVlIiwgImlzQXJyYXkiLCAiQXJyYXkiLCAiaXNJdGVyYWJsZSIsICJTeW1ib2wiLCAiaXRlcmF0b3IiLCAiU1BBQ0VfQ0hBUiIsICJ0ZXh0RW5kUmVnZXgiLCAiY29tbWVudEVuZFJlZ2V4IiwgImNvbW1lbnQyRW5kUmVnZXgiLCAidGFnRW5kUmVnZXgiLCAiUmVnRXhwIiwgInNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4IiwgImRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4IiwgInJhd1RleHRFbGVtZW50IiwgInRhZyIsICJ0eXBlIiwgInN0cmluZ3MiLCAidmFsdWVzIiwgIl8kbGl0VHlwZSQiLCAiaHRtbCIsICJzdmciLCAibWF0aG1sIiwgIm5vQ2hhbmdlIiwgImZvciIsICJub3RoaW5nIiwgInRlbXBsYXRlQ2FjaGUiLCAiV2Vha01hcCIsICJ3YWxrZXIiLCAidHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmciLCAidHNhIiwgInN0cmluZ0Zyb21UU0EiLCAiaGFzT3duUHJvcGVydHkiLCAiRXJyb3IiLCAiZ2V0VGVtcGxhdGVIdG1sIiwgImwiLCAibGVuZ3RoIiwgImF0dHJOYW1lcyIsICJyYXdUZXh0RW5kUmVnZXgiLCAicmVnZXgiLCAiaSIsICJhdHRyTmFtZSIsICJtYXRjaCIsICJhdHRyTmFtZUVuZEluZGV4IiwgImxhc3RJbmRleCIsICJleGVjIiwgInRlc3QiLCAiZW5kIiwgInN0YXJ0c1dpdGgiLCAicHVzaCIsICJUZW1wbGF0ZSIsICJjb25zdHJ1Y3RvciIsICJvcHRpb25zIiwgIm5vZGUiLCAidGhpcyIsICJwYXJ0cyIsICJub2RlSW5kZXgiLCAiYXR0ck5hbWVJbmRleCIsICJwYXJ0Q291bnQiLCAiZWwiLCAiY3JlYXRlRWxlbWVudCIsICJjdXJyZW50Tm9kZSIsICJjb250ZW50IiwgIndyYXBwZXIiLCAiZmlyc3RDaGlsZCIsICJyZXBsYWNlV2l0aCIsICJjaGlsZE5vZGVzIiwgIm5leHROb2RlIiwgIm5vZGVUeXBlIiwgImhhc0F0dHJpYnV0ZXMiLCAibmFtZSIsICJnZXRBdHRyaWJ1dGVOYW1lcyIsICJlbmRzV2l0aCIsICJyZWFsTmFtZSIsICJzdGF0aWNzIiwgImdldEF0dHJpYnV0ZSIsICJzcGxpdCIsICJtIiwgImluZGV4IiwgImN0b3IiLCAiUHJvcGVydHlQYXJ0IiwgIkJvb2xlYW5BdHRyaWJ1dGVQYXJ0IiwgIkV2ZW50UGFydCIsICJBdHRyaWJ1dGVQYXJ0IiwgInJlbW92ZUF0dHJpYnV0ZSIsICJ0YWdOYW1lIiwgInRleHRDb250ZW50IiwgImVtcHR5U2NyaXB0IiwgImFwcGVuZCIsICJkYXRhIiwgImluZGV4T2YiLCAiX29wdGlvbnMiLCAiaW5uZXJIVE1MIiwgInJlc29sdmVEaXJlY3RpdmUiLCAicGFydCIsICJwYXJlbnQiLCAiYXR0cmlidXRlSW5kZXgiLCAiY3VycmVudERpcmVjdGl2ZSIsICJfX2RpcmVjdGl2ZXMiLCAiX19kaXJlY3RpdmUiLCAibmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yIiwgIl8kaW5pdGlhbGl6ZSIsICJfJHJlc29sdmUiLCAiVGVtcGxhdGVJbnN0YW5jZSIsICJ0ZW1wbGF0ZSIsICJfJHBhcnRzIiwgIl8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiIsICJfJHRlbXBsYXRlIiwgIl8kcGFyZW50IiwgInBhcmVudE5vZGUiLCAiXyRpc0Nvbm5lY3RlZCIsICJmcmFnbWVudCIsICJjcmVhdGlvblNjb3BlIiwgImltcG9ydE5vZGUiLCAicGFydEluZGV4IiwgInRlbXBsYXRlUGFydCIsICJDaGlsZFBhcnQiLCAibmV4dFNpYmxpbmciLCAiRWxlbWVudFBhcnQiLCAiXyRzZXRWYWx1ZSIsICJfX2lzQ29ubmVjdGVkIiwgInN0YXJ0Tm9kZSIsICJlbmROb2RlIiwgIl8kY29tbWl0dGVkVmFsdWUiLCAiXyRzdGFydE5vZGUiLCAiXyRlbmROb2RlIiwgImlzQ29ubmVjdGVkIiwgImRpcmVjdGl2ZVBhcmVudCIsICJfJGNsZWFyIiwgIl9jb21taXRUZXh0IiwgIl9jb21taXRUZW1wbGF0ZVJlc3VsdCIsICJfY29tbWl0Tm9kZSIsICJfY29tbWl0SXRlcmFibGUiLCAiaW5zZXJ0QmVmb3JlIiwgIl9pbnNlcnQiLCAiY3JlYXRlVGV4dE5vZGUiLCAicmVzdWx0IiwgIl8kZ2V0VGVtcGxhdGUiLCAiaCIsICJfdXBkYXRlIiwgImluc3RhbmNlIiwgIl9jbG9uZSIsICJnZXQiLCAic2V0IiwgIml0ZW1QYXJ0cyIsICJpdGVtUGFydCIsICJpdGVtIiwgInN0YXJ0IiwgImZyb20iLCAiXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZCIsICJuIiwgInJlbW92ZSIsICJlbGVtZW50IiwgImZpbGwiLCAiU3RyaW5nIiwgInZhbHVlSW5kZXgiLCAibm9Db21taXQiLCAiY2hhbmdlIiwgInYiLCAiX2NvbW1pdFZhbHVlIiwgInNldEF0dHJpYnV0ZSIsICJ0b2dnbGVBdHRyaWJ1dGUiLCAic3VwZXIiLCAibmV3TGlzdGVuZXIiLCAib2xkTGlzdGVuZXIiLCAic2hvdWxkUmVtb3ZlTGlzdGVuZXIiLCAiY2FwdHVyZSIsICJvbmNlIiwgInBhc3NpdmUiLCAic2hvdWxkQWRkTGlzdGVuZXIiLCAicmVtb3ZlRXZlbnRMaXN0ZW5lciIsICJhZGRFdmVudExpc3RlbmVyIiwgImV2ZW50IiwgImNhbGwiLCAiaG9zdCIsICJoYW5kbGVFdmVudCIsICJwb2x5ZmlsbFN1cHBvcnQiLCAiZ2xvYmFsIiwgImxpdEh0bWxQb2x5ZmlsbFN1cHBvcnQiLCAiVGVtcGxhdGUiLCAiQ2hpbGRQYXJ0IiwgImxpdEh0bWxWZXJzaW9ucyIsICJwdXNoIiwgInJlbmRlciIsICJ2YWx1ZSIsICJjb250YWluZXIiLCAib3B0aW9ucyIsICJwYXJ0T3duZXJOb2RlIiwgInJlbmRlckJlZm9yZSIsICJwYXJ0IiwgImVuZE5vZGUiLCAiaW5zZXJ0QmVmb3JlIiwgImNyZWF0ZU1hcmtlciIsICJfJHNldFZhbHVlIiwgImdsb2JhbCIsICJnbG9iYWxUaGlzIiwgIkxpdEVsZW1lbnQiLCAiUmVhY3RpdmVFbGVtZW50IiwgImNvbnN0cnVjdG9yIiwgInRoaXMiLCAicmVuZGVyT3B0aW9ucyIsICJob3N0IiwgIl9fY2hpbGRQYXJ0IiwgImNyZWF0ZVJlbmRlclJvb3QiLCAicmVuZGVyUm9vdCIsICJzdXBlciIsICJyZW5kZXJCZWZvcmUiLCAiZmlyc3RDaGlsZCIsICJjaGFuZ2VkUHJvcGVydGllcyIsICJ2YWx1ZSIsICJyZW5kZXIiLCAiaGFzVXBkYXRlZCIsICJpc0Nvbm5lY3RlZCIsICJ1cGRhdGUiLCAiY29ubmVjdGVkQ2FsbGJhY2siLCAic2V0Q29ubmVjdGVkIiwgImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwgIm5vQ2hhbmdlIiwgImxpdEVsZW1lbnRIeWRyYXRlU3VwcG9ydCIsICJwb2x5ZmlsbFN1cHBvcnQiLCAibGl0RWxlbWVudFBvbHlmaWxsU3VwcG9ydCIsICJnbG9iYWwiLCAibGl0RWxlbWVudFZlcnNpb25zIiwgInB1c2giLCAiY3VzdG9tRWxlbWVudCIsICJ0YWdOYW1lIiwgImNsYXNzT3JUYXJnZXQiLCAiY29udGV4dCIsICJhZGRJbml0aWFsaXplciIsICJjdXN0b21FbGVtZW50cyIsICJkZWZpbmUiLCAiZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24iLCAiYXR0cmlidXRlIiwgInR5cGUiLCAiU3RyaW5nIiwgImNvbnZlcnRlciIsICJkZWZhdWx0Q29udmVydGVyIiwgInJlZmxlY3QiLCAiaGFzQ2hhbmdlZCIsICJub3RFcXVhbCIsICJzdGFuZGFyZFByb3BlcnR5IiwgIm9wdGlvbnMiLCAidGFyZ2V0IiwgImNvbnRleHQiLCAia2luZCIsICJtZXRhZGF0YSIsICJwcm9wZXJ0aWVzIiwgImdsb2JhbFRoaXMiLCAibGl0UHJvcGVydHlNZXRhZGF0YSIsICJnZXQiLCAic2V0IiwgIk1hcCIsICJPYmplY3QiLCAiY3JlYXRlIiwgIndyYXBwZWQiLCAibmFtZSIsICJ2IiwgIm9sZFZhbHVlIiwgImNhbGwiLCAidGhpcyIsICJyZXF1ZXN0VXBkYXRlIiwgIl8kY2hhbmdlUHJvcGVydHkiLCAidmFsdWUiLCAiRXJyb3IiLCAicHJvcGVydHkiLCAicHJvdG9PclRhcmdldCIsICJuYW1lT3JDb250ZXh0IiwgInByb3RvIiwgImhhc093blByb3BlcnR5IiwgImNvbnN0cnVjdG9yIiwgImNyZWF0ZVByb3BlcnR5IiwgImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsICJzdGF0ZSIsICJvcHRpb25zIiwgInByb3BlcnR5IiwgImF0dHJpYnV0ZSIsICJTaGFyZWRDb252ZXJzYXRpb25Qcm9jZXNzb3IiLCAicmF3UGFpcnMiLCAicHJvY2Vzc2VkUGFpcnMiLCAiaSIsICJwYWlyIiwgImlzU3RyZWFtaW5nIiwgInJlc3BvbnNlIiwgInN0cmVhbUZvcm1hdCIsICJtb2RlbCIsICJlcnJvciIsICJib2R5UmF3IiwgImV2ZW50cyIsICJiZWRyb2NrTWV0cmljcyIsICJqc29uQ2h1bmtzIiwgImpzb25DaHVuayIsICJldmVudFBheWxvYWQiLCAiYmFzZTY0RGF0YSIsICJkZWNvZGVkSnNvbiIsICJldmVudCIsICJjaHVua0Vycm9yIiwgInBhdHRlcm4iLCAic2VhcmNoSW5kZXgiLCAicGF0dGVybkluZGV4IiwgImpzb25TdGFydEluZGV4IiwgImJyYWNlQ291bnQiLCAianNvbkVuZEluZGV4IiwgImNoYXIiLCAibWV0cmljc01hdGNoIiwgImxpbmVzIiwgImxpbmUiLCAiZGF0YSIsICJlIiwgIm1lc3NhZ2UiLCAiY29udGVudEJsb2NrcyIsICJjdXJyZW50QmxvY2tJbmRleCIsICJibG9jayIsICJkZWx0YSIsICJ0b29sQmxvY2siLCAiY3VycmVudElucHV0VG9rZW5zIiwgInVybE1hdGNoIiwgIm1vZGVsTmFtZSIsICJtYXRjaCIsICJwYWlycyIsICJvcHRpb25zIiwgInBhaXJzQnlTeXN0ZW0iLCAic3lzdGVtIiwgInN5c3RlbUtleSIsICJhbGxDb252ZXJzYXRpb25zIiwgInN5c3RlbVBhaXJzIiwgInNvcnRlZFBhaXJzIiwgImEiLCAiYiIsICJjb252ZXJzYXRpb25UaHJlYWRzIiwgIm1lc3NhZ2VzIiwgImZpcnN0VXNlck1lc3NhZ2UiLCAibm9ybWFsaXplZEZpcnN0TWVzc2FnZSIsICJjb252ZXJzYXRpb25LZXkiLCAia2V5SGFzaCIsICJ0aHJlYWRQYWlycyIsICJzb3J0ZWRUaHJlYWRQYWlycyIsICJmaW5hbFBhaXIiLCAibG9uZ2VzdCIsICJjdXJyZW50IiwgImN1cnJlbnRNZXNzYWdlcyIsICJsb25nZXN0TWVzc2FnZXMiLCAibW9kZWxzVXNlZCIsICJlbmhhbmNlZE1lc3NhZ2VzIiwgImNvbnZlcnNhdGlvbiIsICJtZXJnZWRDb252ZXJzYXRpb25zIiwgImNvbnYiLCAicGVuZGluZ1Rvb2xVc2VzIiwgImVuaGFuY2VkTWVzc2FnZSIsICJoYXNPbmx5VG9vbFJlc3VsdHMiLCAiaGFzVGV4dENvbnRlbnQiLCAiaiIsICJ0b29sVXNlIiwgInRvb2xSZXN1bHQiLCAidG9vbFVzZUlkIiwgIm1lc3NhZ2VJbmRleCIsICJjb252ZXJzYXRpb25zIiwgInNvcnRlZENvbnZlcnNhdGlvbnMiLCAidXNlZENvbnZlcnNhdGlvbnMiLCAiY3VycmVudENvbnYiLCAib3JpZ2luYWxDb252IiwgIm9yaWdpbmFsSW5kZXgiLCAib3RoZXJDb252IiwgIm1lc3NhZ2VzTWF0Y2giLCAiayIsICJtZXJnZWRDb252IiwgImNvbXBhY3RDb252IiwgIm9yaWdpbmFsTWVzc2FnZXMiLCAibWVyZ2VkTWVzc2FnZXMiLCAiYWxsUGFpcnMiLCAiYWxsTW9kZWxzIiwgInN0YXJ0VGltZSIsICJlbmRUaW1lIiwgIm1zZzEiLCAibXNnMiIsICJjb250ZW50MSIsICJjb250ZW50MiIsICJub3JtYWxpemVkQ29udGVudCIsICJ0ZXh0IiwgInN0ciIsICJoYXNoIiwgIkNsYXVkZUFwcCIsICJpIiwgInN0YXJ0IiwgInByb2Nlc3NvciIsICJTaGFyZWRDb252ZXJzYXRpb25Qcm9jZXNzb3IiLCAiaW5jbHVkZUFsbFJlcXVlc3RzIiwgImNvbnZlcnNhdGlvbk1vZGVscyIsICJwcm9jZXNzZWRQYWlyTW9kZWxzIiwgInAiLCAicmF3UGFpck1vZGVscyIsICJwYWlyIiwgImFsbE1vZGVscyIsICJ2aWV3IiwgIm1vZGVsIiwgIm5ld1NlbGVjdGVkTW9kZWxzIiwgImMiLCAiY291bnRzIiwgIm1vZGVsQ291bnRzIiwgImZpbHRlcmVkQ29udmVyc2F0aW9ucyIsICJ4IiwgIl9jb3VudCIsICJfX2RlY29yYXRlQ2xhc3MiLCAiciIsICJ0IiwgIlBhcnRUeXBlIiwgIkFUVFJJQlVURSIsICJDSElMRCIsICJQUk9QRVJUWSIsICJCT09MRUFOX0FUVFJJQlVURSIsICJFVkVOVCIsICJFTEVNRU5UIiwgImRpcmVjdGl2ZSIsICJjIiwgInZhbHVlcyIsICJfJGxpdERpcmVjdGl2ZSQiLCAiRGlyZWN0aXZlIiwgIl9wYXJ0SW5mbyIsICJfJGlzQ29ubmVjdGVkIiwgInRoaXMiLCAiXyRwYXJlbnQiLCAicGFydCIsICJwYXJlbnQiLCAiYXR0cmlidXRlSW5kZXgiLCAiX19wYXJ0IiwgIl9fYXR0cmlidXRlSW5kZXgiLCAicHJvcHMiLCAidXBkYXRlIiwgIl9wYXJ0IiwgInJlbmRlciIsICJVbnNhZmVIVE1MRGlyZWN0aXZlIiwgIkRpcmVjdGl2ZSIsICJwYXJ0SW5mbyIsICJzdXBlciIsICJ0aGlzIiwgIl92YWx1ZSIsICJub3RoaW5nIiwgInR5cGUiLCAiUGFydFR5cGUiLCAiQ0hJTEQiLCAiRXJyb3IiLCAiY29uc3RydWN0b3IiLCAiZGlyZWN0aXZlTmFtZSIsICJ2YWx1ZSIsICJfdGVtcGxhdGVSZXN1bHQiLCAibm9DaGFuZ2UiLCAic3RyaW5ncyIsICJyYXciLCAiXyRsaXRUeXBlJCIsICJyZXN1bHRUeXBlIiwgInZhbHVlcyIsICJ1bnNhZmVIVE1MIiwgImRpcmVjdGl2ZSIsICJEaWZmIiwgIm9sZFN0ciIsICJuZXdTdHIiLCAib3B0aW9ucyIsICJjYWxsYmFjayIsICJvbGRTdHJpbmciLCAibmV3U3RyaW5nIiwgIm9sZFRva2VucyIsICJuZXdUb2tlbnMiLCAiX2EiLCAiZG9uZSIsICJ2YWx1ZSIsICJuZXdMZW4iLCAib2xkTGVuIiwgImVkaXRMZW5ndGgiLCAibWF4RWRpdExlbmd0aCIsICJtYXhFeGVjdXRpb25UaW1lIiwgImFib3J0QWZ0ZXJUaW1lc3RhbXAiLCAiYmVzdFBhdGgiLCAibmV3UG9zIiwgIm1pbkRpYWdvbmFsVG9Db25zaWRlciIsICJtYXhEaWFnb25hbFRvQ29uc2lkZXIiLCAiZXhlY0VkaXRMZW5ndGgiLCAiZGlhZ29uYWxQYXRoIiwgImJhc2VQYXRoIiwgInJlbW92ZVBhdGgiLCAiYWRkUGF0aCIsICJjYW5BZGQiLCAiYWRkUGF0aE5ld1BvcyIsICJjYW5SZW1vdmUiLCAiZXhlYyIsICJyZXQiLCAicGF0aCIsICJhZGRlZCIsICJyZW1vdmVkIiwgIm9sZFBvc0luYyIsICJsYXN0IiwgIm9sZFBvcyIsICJjb21tb25Db3VudCIsICJsZWZ0IiwgInJpZ2h0IiwgImFycmF5IiwgImkiLCAiY2hhcnMiLCAiY2hhbmdlT2JqZWN0cyIsICJsYXN0Q29tcG9uZW50IiwgImNvbXBvbmVudHMiLCAibmV4dENvbXBvbmVudCIsICJjb21wb25lbnRMZW4iLCAiY29tcG9uZW50UG9zIiwgImNvbXBvbmVudCIsICJvbGRWYWx1ZSIsICJMaW5lRGlmZiIsICJEaWZmIiwgInRva2VuaXplIiwgImxlZnQiLCAicmlnaHQiLCAib3B0aW9ucyIsICJsaW5lRGlmZiIsICJkaWZmTGluZXMiLCAib2xkU3RyIiwgIm5ld1N0ciIsICJ0b2tlbml6ZSIsICJ2YWx1ZSIsICJvcHRpb25zIiwgInJldExpbmVzIiwgImxpbmVzQW5kTmV3bGluZXMiLCAiaSIsICJsaW5lIiwgIl9nZXREZWZhdWx0cyIsICJfZGVmYXVsdHMiLCAiY2hhbmdlRGVmYXVsdHMiLCAibmV3RGVmYXVsdHMiLCAiZXNjYXBlVGVzdCIsICJlc2NhcGVSZXBsYWNlIiwgImVzY2FwZVRlc3ROb0VuY29kZSIsICJlc2NhcGVSZXBsYWNlTm9FbmNvZGUiLCAiZXNjYXBlUmVwbGFjZW1lbnRzIiwgImdldEVzY2FwZVJlcGxhY2VtZW50IiwgImNoIiwgImVzY2FwZSIsICJodG1sIiwgImVuY29kZSIsICJ1bmVzY2FwZVRlc3QiLCAidW5lc2NhcGUiLCAiXyIsICJuIiwgImNhcmV0IiwgImVkaXQiLCAicmVnZXgiLCAib3B0IiwgInNvdXJjZSIsICJvYmoiLCAibmFtZSIsICJ2YWwiLCAidmFsU291cmNlIiwgImNsZWFuVXJsIiwgImhyZWYiLCAibm9vcFRlc3QiLCAic3BsaXRDZWxscyIsICJ0YWJsZVJvdyIsICJjb3VudCIsICJyb3ciLCAibWF0Y2giLCAib2Zmc2V0IiwgInN0ciIsICJlc2NhcGVkIiwgImN1cnIiLCAiY2VsbHMiLCAiaSIsICJydHJpbSIsICJjIiwgImludmVydCIsICJsIiwgInN1ZmZMZW4iLCAiY3VyckNoYXIiLCAiZmluZENsb3NpbmdCcmFja2V0IiwgImIiLCAibGV2ZWwiLCAib3V0cHV0TGluayIsICJjYXAiLCAibGluayIsICJyYXciLCAibGV4ZXIiLCAidGl0bGUiLCAidGV4dCIsICJ0b2tlbiIsICJpbmRlbnRDb2RlQ29tcGVuc2F0aW9uIiwgIm1hdGNoSW5kZW50VG9Db2RlIiwgImluZGVudFRvQ29kZSIsICJub2RlIiwgIm1hdGNoSW5kZW50SW5Ob2RlIiwgImluZGVudEluTm9kZSIsICJfVG9rZW5pemVyIiwgIm9wdGlvbnMiLCAic3JjIiwgInRyaW1tZWQiLCAidG9wIiwgInRva2VucyIsICJidWxsIiwgImlzb3JkZXJlZCIsICJsaXN0IiwgIml0ZW1SZWdleCIsICJpdGVtQ29udGVudHMiLCAiZW5kc1dpdGhCbGFua0xpbmUiLCAiZW5kRWFybHkiLCAibGluZSIsICJ0IiwgIm5leHRMaW5lIiwgImluZGVudCIsICJibGFua0xpbmUiLCAibmV4dEJ1bGxldFJlZ2V4IiwgImhyUmVnZXgiLCAiZmVuY2VzQmVnaW5SZWdleCIsICJoZWFkaW5nQmVnaW5SZWdleCIsICJyYXdMaW5lIiwgImlzdGFzayIsICJpc2NoZWNrZWQiLCAic3BhY2VycyIsICJoYXNNdWx0aXBsZUxpbmVCcmVha3MiLCAidGFnIiwgImhlYWRlcnMiLCAiYWxpZ25zIiwgInJvd3MiLCAiaXRlbSIsICJhbGlnbiIsICJoZWFkZXIiLCAiY2VsbCIsICJ0cmltbWVkVXJsIiwgInJ0cmltU2xhc2giLCAibGFzdFBhcmVuSW5kZXgiLCAibGlua0xlbiIsICJsaW5rcyIsICJsaW5rU3RyaW5nIiwgIm1hc2tlZFNyYyIsICJwcmV2Q2hhciIsICJsTGVuZ3RoIiwgInJEZWxpbSIsICJyTGVuZ3RoIiwgImRlbGltVG90YWwiLCAibWlkRGVsaW1Ub3RhbCIsICJlbmRSZWciLCAibGFzdENoYXJMZW5ndGgiLCAiaGFzTm9uU3BhY2VDaGFycyIsICJoYXNTcGFjZUNoYXJzT25Cb3RoRW5kcyIsICJwcmV2Q2FwWmVybyIsICJuZXdsaW5lIiwgImJsb2NrQ29kZSIsICJmZW5jZXMiLCAiaHIiLCAiaGVhZGluZyIsICJidWxsZXQiLCAibGhlYWRpbmciLCAiX3BhcmFncmFwaCIsICJibG9ja1RleHQiLCAiX2Jsb2NrTGFiZWwiLCAiZGVmIiwgIl90YWciLCAiX2NvbW1lbnQiLCAicGFyYWdyYXBoIiwgImJsb2NrcXVvdGUiLCAiYmxvY2tOb3JtYWwiLCAiZ2ZtVGFibGUiLCAiYmxvY2tHZm0iLCAiYmxvY2tQZWRhbnRpYyIsICJpbmxpbmVDb2RlIiwgImJyIiwgImlubGluZVRleHQiLCAiX3B1bmN0dWF0aW9uIiwgInB1bmN0dWF0aW9uIiwgImJsb2NrU2tpcCIsICJlbVN0cm9uZ0xEZWxpbSIsICJlbVN0cm9uZ1JEZWxpbUFzdCIsICJlbVN0cm9uZ1JEZWxpbVVuZCIsICJhbnlQdW5jdHVhdGlvbiIsICJhdXRvbGluayIsICJfaW5saW5lQ29tbWVudCIsICJfaW5saW5lTGFiZWwiLCAicmVmbGluayIsICJub2xpbmsiLCAicmVmbGlua1NlYXJjaCIsICJpbmxpbmVOb3JtYWwiLCAiaW5saW5lUGVkYW50aWMiLCAiaW5saW5lR2ZtIiwgImlubGluZUJyZWFrcyIsICJibG9jayIsICJpbmxpbmUiLCAiX0xleGVyIiwgIl9fTGV4ZXIiLCAicnVsZXMiLCAibmV4dCIsICJsZWFkaW5nIiwgInRhYnMiLCAibGFzdFRva2VuIiwgImN1dFNyYyIsICJsYXN0UGFyYWdyYXBoQ2xpcHBlZCIsICJleHRUb2tlbml6ZXIiLCAic3RhcnRJbmRleCIsICJ0ZW1wU3JjIiwgInRlbXBTdGFydCIsICJnZXRTdGFydEluZGV4IiwgImVyck1zZyIsICJrZWVwUHJldkNoYXIiLCAiX1JlbmRlcmVyIiwgImNvZGUiLCAiaW5mb3N0cmluZyIsICJsYW5nIiwgInF1b3RlIiwgImJvZHkiLCAib3JkZXJlZCIsICJzdGFydCIsICJ0eXBlIiwgInN0YXJ0YXR0IiwgInRhc2siLCAiY2hlY2tlZCIsICJjb250ZW50IiwgImZsYWdzIiwgImNsZWFuSHJlZiIsICJvdXQiLCAiX1RleHRSZW5kZXJlciIsICJfUGFyc2VyIiwgIl9fUGFyc2VyIiwgImdlbmVyaWNUb2tlbiIsICJyZXQiLCAiaGVhZGluZ1Rva2VuIiwgImNvZGVUb2tlbiIsICJ0YWJsZVRva2VuIiwgImoiLCAiayIsICJibG9ja3F1b3RlVG9rZW4iLCAibGlzdFRva2VuIiwgImxvb3NlIiwgIml0ZW1Cb2R5IiwgImNoZWNrYm94IiwgImh0bWxUb2tlbiIsICJwYXJhZ3JhcGhUb2tlbiIsICJ0ZXh0VG9rZW4iLCAicmVuZGVyZXIiLCAiZXNjYXBlVG9rZW4iLCAidGFnVG9rZW4iLCAibGlua1Rva2VuIiwgImltYWdlVG9rZW4iLCAic3Ryb25nVG9rZW4iLCAiZW1Ub2tlbiIsICJjb2Rlc3BhblRva2VuIiwgImRlbFRva2VuIiwgIl9Ib29rcyIsICJtYXJrZG93biIsICJNYXJrZWQiLCAiI3BhcnNlTWFya2Rvd24iLCAiYXJncyIsICJjYWxsYmFjayIsICJ2YWx1ZXMiLCAiY2hpbGRUb2tlbnMiLCAiZXh0ZW5zaW9ucyIsICJwYWNrIiwgIm9wdHMiLCAiZXh0IiwgInByZXZSZW5kZXJlciIsICJleHRMZXZlbCIsICJwcm9wIiwgInJlbmRlcmVyUHJvcCIsICJyZW5kZXJlckZ1bmMiLCAidG9rZW5pemVyIiwgInRva2VuaXplclByb3AiLCAidG9rZW5pemVyRnVuYyIsICJwcmV2VG9rZW5pemVyIiwgImhvb2tzIiwgImhvb2tzUHJvcCIsICJob29rc0Z1bmMiLCAicHJldkhvb2siLCAiYXJnIiwgIndhbGtUb2tlbnMiLCAicGFja1dhbGt0b2tlbnMiLCAicGFyc2VyIiwgIm9yaWdPcHQiLCAidGhyb3dFcnJvciIsICIjb25FcnJvciIsICJlIiwgInNpbGVudCIsICJhc3luYyIsICJtc2ciLCAibWFya2VkSW5zdGFuY2UiLCAibWFya2VkIiwgInNldE9wdGlvbnMiLCAidXNlIiwgInBhcnNlSW5saW5lIiwgInBhcnNlciIsICJfUGFyc2VyIiwgImxleGVyIiwgIl9MZXhlciIsICJtYXJrZWQiLCAiZXNjYXBlSHRtbCIsICJ0ZXh0IiwgIm1hcmtkb3duVG9IdG1sIiwgIm1hcmtkb3duIiwgImVzY2FwZWRNYXJrZG93biIsICJlcnJvciIsICJTaW1wbGVDb252ZXJzYXRpb25WaWV3IiwgImkiLCAiZSIsICJvcHRpb25zIiwgInR5cGUiLCAidGFyZ2V0U2VsZWN0b3IiLCAidG9nZ2xlU2VsZWN0b3IiLCAiY3VzdG9tSGFuZGxlciIsICJjdXJyZW50RWxlbWVudCIsICJmdWxsQ29udGVudCIsICJ0YXJnZXQiLCAidG9nZ2xlIiwgImlzSGlkZGVuIiwgImNvbnRlbnQiLCAidG9vbFJlc3VsdHMiLCAieCIsICJibG9jayIsICJvIiwgIm1hcmtkb3duVG9IdG1sIiwgInRvb2xSZXN1bHQiLCAiY3VzdG9tQ29udGVudCIsICJzeXN0ZW1SZW1pbmRlclJlZ2V4RXNjYXBlZCIsICJzeXN0ZW1SZW1pbmRlclJlZ2V4UmF3IiwgInN5c3RlbVJlbWluZGVycyIsICJtYXRjaCIsICJtYWluQ29udGVudCIsICJyZW1pbmRlciIsICJpbmRleCIsICJzeXN0ZW0iLCAidGV4dENvbnRlbnQiLCAicmVzcG9uc2UiLCAidG9vbE5hbWUiLCAicGFyYW1WYWx1ZSIsICJwYXJhbU5hbWUiLCAicGFyYW1zIiwgInN0ciIsICJkaXYiLCAidXNlUHJlRm9ybWF0dGluZyIsICJ0aXRsZSIsICJpc0V4cGFuZGVkIiwgInRpdGxlQ2xhc3NlcyIsICJjb250YWluZXJDbGFzc2VzIiwgImNvdW50IiwgImV4cGFuZGVkQ2xhc3MiLCAidG9nZ2xlU3ltYm9sIiwgImRpc3BsYXlUaXRsZSIsICJ0b29sVXNlIiwgImlucHV0IiwgImlnbm9yZVN0ciIsICJwIiwgImZpbGVOYW1lIiwgImVkaXRDb3VudCIsICJjZWxsTnVtIiwgIm1vZGUiLCAidG9kb3MiLCAidG9kbyIsICJzdGF0dXNDbGFzcyIsICJlZGl0cyIsICJlZGl0IiwgIm9sZFN0ciIsICJuZXdTdHIiLCAiZGlmZkxpbmVzIiwgImlzQ29sbGFwc2libGUiLCAiaXNDb2xsYXBzZWQiLCAiaXNDbGlja1RvRXhwYW5kIiwgImNvbnRlbnREaXYiLCAiaGVhZGVyQ2xhc3NlcyIsICJjb250ZW50Q2xhc3NlcyIsICJsaW5lcyIsICJwcmV2aWV3IiwgImhhc01vcmUiLCAiZGlmZiIsICJwYXJ0IiwgImxpbmUiLCAiY29udmVyc2F0aW9uIiwgInRvb2xzIiwgInRvb2wiLCAiZGVzY3JpcHRpb24iLCAic2NoZW1hIiwgInBhcmFtRGVmIiwgImRlZiIsICJyZXF1aXJlZCIsICJkZXNjIiwgIm1lc3NhZ2UiLCAibXNnSW5kZXgiLCAiX19kZWNvcmF0ZUNsYXNzIiwgIm4iLCAidCIsICJSYXdQYWlyc1ZpZXciLCAiaSIsICJ4IiwgInZhbGlkUGFpcnMiLCAicGFpciIsICJpbmRleCIsICJlIiwgInVybCIsICJ1cmxNYXRjaCIsICJtb2RlbE5hbWUiLCAibWF0Y2giLCAib2JqIiwgImhlYWRlciIsICJjb250ZW50IiwgInRvZ2dsZSIsICJpc0hpZGRlbiIsICJfX2RlY29yYXRlQ2xhc3MiLCAibiIsICJ0IiwgIkpzb25WaWV3IiwgImkiLCAieCIsICJwYWlyIiwgImluZGV4IiwgImUiLCAib2JqIiwgImhlYWRlciIsICJjb250ZW50IiwgInRvZ2dsZSIsICJpc0hpZGRlbiIsICJfX2RlY29yYXRlQ2xhc3MiLCAibiIsICJ0IiwgImNzcyIsICJzdHlsZSIsICJpbml0QXBwIiwgImFwcCIsICJDbGF1ZGVBcHAiLCAiYXBwRWxlbWVudCJdCn0K